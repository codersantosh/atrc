"use strict";(self.webpackChunkatrc=self.webpackChunkatrc||[]).push([[5795],{"./stories/molecules/repeater.stories.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Repeater:function(){return Repeater},RepeaterWithSortable:function(){return RepeaterWithSortable},__namedExportsOrder:function(){return __namedExportsOrder}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_wordpress_element__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react/index.js"),_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@wordpress/i18n/build-module/index.js"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),classnames__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_3__),_packages__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/index.js");function _array_like_to_array(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _array_with_holes(arr){if(Array.isArray(arr))return arr}function _iterable_to_array_limit(arr,i){var _s,_e,_i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}}function _non_iterable_rest(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(arr,i){return _array_with_holes(arr)||_iterable_to_array_limit(arr,i)||_unsupported_iterable_to_array(arr,i)||_non_iterable_rest()}function _unsupported_iterable_to_array(o,minLen){if(o){if("string"==typeof o)return _array_like_to_array(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if("Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _array_like_to_array(o,minLen)}}__webpack_exports__.default={title:"Molecules/AtrcRepeater",component:_packages__WEBPACK_IMPORTED_MODULE_4__.j_J};var items=[{text:"Hello text",select:"val1"},{text:"Hello again",select:"val1"},{text:"Hello again 2",select:"val1"}],Repeater={args:{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.bU3,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add slugs","atrc-prefix-atrc"),groups:function(){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.map)(items,function(item,itemIndex){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_packages__WEBPACK_IMPORTED_MODULE_4__.mfp,{groupIndex:itemIndex,deleteGroup:function(itmIndex){dbUpdateSetting("exclude",AtrcNestedObjDeleteByKey2({settings:exclude,key1:"slugs",key2:itemIndex}))},groupTitle:sprintf((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Slug %d","atrc-prefix-atrc"),itemIndex+1),deleteTitle:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Remove item","atrc-prefix-atrc"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.LBZ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.nOn,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Text","atrc-prefix-atrc"),help:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Any path of the url","atrc-prefix-atrc"),value:item.text,onChange:function(newVal){dbUpdateSetting("exclude",AtrcNestedObjUpdateByKey2({settings:exclude,key1:"slugs",key2:itemIndex,val2:newVal}))}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.LBZ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.I9V,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Select","atrc-prefix-atrc"),help:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Any path of the url","atrc-prefix-atrc"),value:item.select,options:[{label:"Item 2",value:1},{label:"Item 2",value:1}],onChange:function(newVal){dbUpdateSetting("exclude",AtrcNestedObjUpdateByKey2({settings:exclude,key1:"slugs",key2:itemIndex,val2:newVal}))}})})]},"ip-".concat(itemIndex))})},addGroup:function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.Ve6,{addGroup:function(){dbUpdateSetting("exclude",AtrcNestedObjAddByKey1({settings:exclude,key1:"slugs",val1:""}))},tooltipText:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add item","atrc-prefix-atrc"),label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add item","atrc-prefix-atrc")})}})})}},RepeaterWithSortable=function(){var _useState=_sliced_to_array((0,_wordpress_element__WEBPACK_IMPORTED_MODULE_5__.useState)([{text:"Hello text",select:"val1"},{text:"Hello again",select:"val1"},{text:"Hello again 2",select:"val1"}]),2),value=_useState[0],setValue=_useState[1];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.K_P,{renderContent:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.bU3,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add slugs","atrc-prefix-atrc"),isSortable:!0,value:value,onChange:setValue,groups:function(){return(0,lodash__WEBPACK_IMPORTED_MODULE_2__.map)(value,function(item,itemIndex){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_packages__WEBPACK_IMPORTED_MODULE_4__.mfp,{isSortable:!0,useDragHandle:!0,groupIndex:itemIndex,deleteGroup:function(itmIndex){dbUpdateSetting("exclude",AtrcNestedObjDeleteByKey2({settings:exclude,key1:"slugs",key2:itemIndex}))},groupTitle:sprintf((0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Slug %d","atrc-prefix-atrc"),itemIndex+1),deleteTitle:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Remove item","atrc-prefix-atrc"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.LBZ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.nOn,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Text","atrc-prefix-atrc"),help:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Any path of the url","atrc-prefix-atrc"),value:item.text,onChange:function(newVal){dbUpdateSetting("exclude",AtrcNestedObjUpdateByKey2({settings:exclude,key1:"slugs",key2:itemIndex,val2:newVal}))}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.LBZ,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.I9V,{label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Select","atrc-prefix-atrc"),help:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Any path of the url","atrc-prefix-atrc"),value:item.select,options:[{label:"Item 2",value:1},{label:"Item 2",value:1}],onChange:function(newVal){dbUpdateSetting("exclude",AtrcNestedObjUpdateByKey2({settings:exclude,key1:"slugs",key2:itemIndex,val2:newVal}))}})})]},"ip-".concat(itemIndex))})},addGroup:function(){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.Ve6,{addGroup:function(){dbUpdateSetting("exclude",AtrcNestedObjAddByKey1({settings:exclude,key1:"slugs",val1:""}))},tooltipText:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add item","atrc-prefix-atrc"),label:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Add item","atrc-prefix-atrc")})}})}),renderSidebar:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.o7H,{tag:"h3",className:classnames__WEBPACK_IMPORTED_MODULE_3___default()("at-m"),children:(0,_wordpress_i18n__WEBPACK_IMPORTED_MODULE_1__.__)("Value","atrc-prefix-atrc")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_packages__WEBPACK_IMPORTED_MODULE_4__.vDd,{content:JSON.stringify(value,null,2)})]}),sidebarProps:{sidebarCol:"at-col-6"},contentProps:{contentCol:"at-col-6"}})};Repeater.parameters={...Repeater.parameters,docs:{...Repeater.parameters?.docs,source:{originalSource:"{\n  args: {\n    children: <>\r\n                <AtrcRepeater label={__('Add slugs', 'atrc-prefix-atrc')} groups={() => map(items, (item, itemIndex) => <AtrcRepeaterGroup key={`ip-${itemIndex}`} groupIndex={itemIndex} deleteGroup={itmIndex => {\n        const updatedSettings = AtrcNestedObjDeleteByKey2({\n          settings: exclude,\n          key1: 'slugs',\n          key2: itemIndex\n        });\n        dbUpdateSetting('exclude', updatedSettings);\n      }} groupTitle={sprintf(\n      // translators: %s: placeholder for idx\n      __('Slug %d', 'atrc-prefix-atrc'), itemIndex + 1)} deleteTitle={__('Remove item', 'atrc-prefix-atrc')}>\r\n                                <AtrcPanelRow>\r\n                                    <AtrcControlText label={__('Text', 'atrc-prefix-atrc')} help={__('Any path of the url', 'atrc-prefix-atrc')} value={item.text} onChange={newVal => {\n            const updatedSettings = AtrcNestedObjUpdateByKey2({\n              settings: exclude,\n              key1: 'slugs',\n              key2: itemIndex,\n              val2: newVal\n            });\n            dbUpdateSetting('exclude', updatedSettings);\n          }} />\r\n                                </AtrcPanelRow>\r\n                                <AtrcPanelRow>\r\n                                    <AtrcControlSelect label={__('Select', 'atrc-prefix-atrc')} help={__('Any path of the url', 'atrc-prefix-atrc')} value={item.select} options={[{\n            label: 'Item 2',\n            value: 1\n          }, {\n            label: 'Item 2',\n            value: 1\n          }]} onChange={newVal => {\n            const updatedSettings = AtrcNestedObjUpdateByKey2({\n              settings: exclude,\n              key1: 'slugs',\n              key2: itemIndex,\n              val2: newVal\n            });\n            dbUpdateSetting('exclude', updatedSettings);\n          }} />\r\n                                </AtrcPanelRow>\r\n                            </AtrcRepeaterGroup>)} addGroup={() => <AtrcRepeaterGroupAdd addGroup={() => {\n        const addedSettings = AtrcNestedObjAddByKey1({\n          settings: exclude,\n          key1: 'slugs',\n          val1: ''\n        });\n        dbUpdateSetting('exclude', addedSettings);\n      }} tooltipText={__('Add item', 'atrc-prefix-atrc')} label={__('Add item', 'atrc-prefix-atrc')} />} />\r\n            </>\n  }\n}",...Repeater.parameters?.docs?.source}}},RepeaterWithSortable.parameters={...RepeaterWithSortable.parameters,docs:{...RepeaterWithSortable.parameters?.docs,source:{originalSource:"() => {\n  const [value, setValue] = useState([{\n    text: 'Hello text',\n    select: 'val1'\n  }, {\n    text: 'Hello again',\n    select: 'val1'\n  }, {\n    text: 'Hello again 2',\n    select: 'val1'\n  }]);\n  const handleChange = newValue => {\n    setValue(newValue);\n  };\n  return <AtrcWireFrameContentSidebar renderContent={<>\r\n                    <AtrcRepeater label={__('Add slugs', 'atrc-prefix-atrc')} isSortable={true} value={value} onChange={setValue} groups={() => map(value, (item, itemIndex) => <AtrcRepeaterGroup isSortable={true} useDragHandle={true} key={`ip-${itemIndex}`} groupIndex={itemIndex} deleteGroup={itmIndex => {\n      const updatedSettings = AtrcNestedObjDeleteByKey2({\n        settings: exclude,\n        key1: 'slugs',\n        key2: itemIndex\n      });\n      dbUpdateSetting('exclude', updatedSettings);\n    }} groupTitle={sprintf(\n    // translators: %s: placeholder for idx\n    __('Slug %d', 'atrc-prefix-atrc'), itemIndex + 1)} deleteTitle={__('Remove item', 'atrc-prefix-atrc')}>\r\n                                    <AtrcPanelRow>\r\n                                        <AtrcControlText label={__('Text', 'atrc-prefix-atrc')} help={__('Any path of the url', 'atrc-prefix-atrc')} value={item.text} onChange={newVal => {\n          const updatedSettings = AtrcNestedObjUpdateByKey2({\n            settings: exclude,\n            key1: 'slugs',\n            key2: itemIndex,\n            val2: newVal\n          });\n          dbUpdateSetting('exclude', updatedSettings);\n        }} />\r\n                                    </AtrcPanelRow>\r\n                                    <AtrcPanelRow>\r\n                                        <AtrcControlSelect label={__('Select', 'atrc-prefix-atrc')} help={__('Any path of the url', 'atrc-prefix-atrc')} value={item.select} options={[{\n          label: 'Item 2',\n          value: 1\n        }, {\n          label: 'Item 2',\n          value: 1\n        }]} onChange={newVal => {\n          const updatedSettings = AtrcNestedObjUpdateByKey2({\n            settings: exclude,\n            key1: 'slugs',\n            key2: itemIndex,\n            val2: newVal\n          });\n          dbUpdateSetting('exclude', updatedSettings);\n        }} />\r\n                                    </AtrcPanelRow>\r\n                                </AtrcRepeaterGroup>)} addGroup={() => <AtrcRepeaterGroupAdd addGroup={() => {\n      const addedSettings = AtrcNestedObjAddByKey1({\n        settings: exclude,\n        key1: 'slugs',\n        val1: ''\n      });\n      dbUpdateSetting('exclude', addedSettings);\n    }} tooltipText={__('Add item', 'atrc-prefix-atrc')} label={__('Add item', 'atrc-prefix-atrc')} />} />\r\n                </>} renderSidebar={<>\r\n                    <AtrcText tag='h3' className={classnames('at-m')}>\r\n                        {__('Value', 'atrc-prefix-atrc')}\r\n                    </AtrcText>\r\n                    <AtrcPreTemplate1 content={JSON.stringify(value, null, 2)} />\r\n                </>} sidebarProps={{\n    sidebarCol: 'at-col-6'\n  }} contentProps={{\n    contentCol: 'at-col-6'\n  }} />;\n}",...RepeaterWithSortable.parameters?.docs?.source}}};let __namedExportsOrder=["Repeater","RepeaterWithSortable"]}}]);