{"version":3,"names":["_element","require","_compose","_components","_lodash","_classnames","_interopRequireDefault","_wrap","_label","_button","_icon","_word","_dropdown","_tooltip","_prefixVars","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","return","isArray","AtrcDropdownDevice","_ref","_selectedTab$name","_ref$label","label","className","children","tabs","initialTabName","onSelect","_ref$wrapProps","wrapProps","_useState","useState","_useState2","selectedTab","setSelectedTab","rowref","useRef","instanceId","useInstanceId","handleTabSelection","tabName","nSelectedTab","find","selectedId","concat","useEffect","React","createElement","classnames","AtrcPrefix","variant","popoverProps","focusOnMount","renderToggle","_ref2","isOpen","onToggle","onClick","text","info","type","iconType","icon","size","iconSize","renderContent","props","MenuGroup","flatMap","control","on","MenuItem","event","stopPropagation","onClose","id","tag","title","role","_default","exports"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/dropdown-device/index.js"],"sourcesContent":["/** WordPress*/\r\nimport { useState, useEffect, useRef } from '@wordpress/element';\r\n\r\nimport { useInstanceId } from '@wordpress/compose';\r\n\r\nimport { MenuGroup, MenuItem } from '@wordpress/components';\r\n\r\n/** Library*/\r\nimport { find } from 'lodash';\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcButton from '../../atoms/button';\r\nimport AtrcIcon from '../../atoms/icon';\r\nimport AtrcWord from '../../atoms/word';\r\n\r\nimport AtrcDropdown from '../dropdown';\r\nimport AtrcTooltip from '../tooltip';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nexport function AtrcDropdownDevice({\r\n\tlabel = '',\r\n\tclassName,\r\n\tchildren,\r\n\ttabs,\r\n\tinitialTabName,\r\n\tonSelect,\r\n\twrapProps = {},\r\n}) {\r\n\tconst [selectedTab, setSelectedTab] = useState();\r\n\r\n\tconst rowref = useRef();\r\n\tconst instanceId = useInstanceId(AtrcDropdownDevice, 'tab-panel');\r\n\r\n\tconst handleTabSelection = (tabName) => {\r\n\t\tconst nSelectedTab = find(tabs, { name: tabName });\r\n\t\tsetSelectedTab(nSelectedTab);\r\n\t\tonSelect?.(tabName);\r\n\t};\r\n\r\n\tconst selectedId = `${instanceId}-${selectedTab?.name ?? 'none'}`;\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!selectedTab?.name && tabs.length > 0) {\r\n\t\t\thandleTabSelection(initialTabName || tabs[0].name);\r\n\t\t}\r\n\t}, [tabs, selectedTab?.name, initialTabName]);\r\n\r\n\tif (!selectedTab) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...wrapProps}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('dropdown-device'),\r\n\t\t\t\tclassName,\r\n\t\t\t\twrapProps.className ? wrapProps.className : ''\r\n\t\t\t)}>\r\n\t\t\t{label && <AtrcLabel variant='dropdown-device-lbl'>{label}</AtrcLabel>}\r\n\t\t\t<AtrcDropdown\r\n\t\t\t\tpopoverProps={{ rowref }}\r\n\t\t\t\tfocusOnMount\r\n\t\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\tvariant='devices'\r\n\t\t\t\t\t\taria-expanded={isOpen}\r\n\t\t\t\t\t\tonClick={onToggle}>\r\n\t\t\t\t\t\t<AtrcTooltip text={selectedTab.info}>\r\n\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\ttype={selectedTab.iconType ? selectedTab.iconType : 'wp'}\r\n\t\t\t\t\t\t\t\ticon={selectedTab.icon}\r\n\t\t\t\t\t\t\t\tsize={selectedTab.iconSize || 16}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AtrcTooltip>\r\n\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t)}\r\n\t\t\t\trenderContent={(props) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<MenuGroup\r\n\t\t\t\t\t\t\tclassName={classnames(AtrcPrefix('dropdown-device-cont'))}>\r\n\t\t\t\t\t\t\t{tabs?.flatMap((control) => {\r\n\t\t\t\t\t\t\t\tif (control.on) {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(event) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedTab(control);\r\n\t\t\t\t\t\t\t\t\t\t\t\tprops.onClose();\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tid={`${instanceId}-${control.name}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AtrcTooltip\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='at-flx at-al-itm-ctr at-gap'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext={control.info}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype={control.iconType ? control.iconType : 'wp'}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={control.icon}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize={control.iconSize || 16}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AtrcWord tag='span'>{control.title}</AtrcWord>\r\n\t\t\t\t\t\t\t\t\t\t\t</AtrcTooltip>\r\n\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</MenuGroup>\r\n\t\t\t\t\t);\r\n\t\t\t\t}}\r\n\t\t\t/>\r\n\t\t\t{selectedTab && (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tkey={selectedTab.name}\r\n\t\t\t\t\taria-labelledby={selectedId}\r\n\t\t\t\t\trole='tabpanel'\r\n\t\t\t\t\tid={`${selectedId}-view`}>\r\n\t\t\t\t\t{children(selectedTab)}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t</AtrcWrap>\r\n\t);\r\n}\r\n\r\nexport default AtrcDropdownDevice;\r\n"],"mappings":"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"}