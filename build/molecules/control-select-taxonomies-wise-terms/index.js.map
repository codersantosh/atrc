{"version":3,"names":["useSelect","store","coreStore","AtrcControlSelectTerm","AtrcLabel","AtrcUseTaxonomies","props","postType","taxonomies","select","getTaxonomies","queryArgs","type","filteredTaxonomies","AtrcControlSelectTaxonomyWiseTerms","label","value","onChange","defaultProps","length","React","createElement","Fragment","map","taxonomy","termIds","slug","handleChange","newTermIds","_extends","key","wrapProps","className","name","tax"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-select-taxonomies-wise-terms/index.js"],"sourcesContent":["/* WordPress*/\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\n/*Inbuilt*/\r\nimport AtrcControlSelectTerm from './../control-select-term';\r\n\r\nimport AtrcLabel from '../../atoms/label';\r\n\r\n/* Local*/\r\n/**\r\n * Hook that returns the taxonomies associated with a specific post type.\r\n *\r\n * @param {Object} props\r\n * @return {Object[]} An array of the associated taxonomies.\r\n */\r\nexport const AtrcUseTaxonomies = (props = {}) => {\r\n\tconst { postType = '' } = props;\r\n\r\n\tconst taxonomies = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getTaxonomies } = select(coreStore);\r\n\t\t\tconst queryArgs = {};\r\n\t\t\tif (postType) {\r\n\t\t\t\tqueryArgs.type = postType;\r\n\t\t\t}\r\n\t\t\tconst filteredTaxonomies = getTaxonomies(queryArgs);\r\n\t\t\treturn filteredTaxonomies;\r\n\t\t},\r\n\t\t[postType]\r\n\t);\r\n\treturn taxonomies;\r\n};\r\n\r\n/*AtrcControlSelectTaxonomyWiseTerms*/\r\nfunction AtrcControlSelectTaxonomyWiseTerms(props) {\r\n\tconst { label, value, onChange, postType = '', ...defaultProps } = props;\r\n\tconst taxonomies = AtrcUseTaxonomies({ postType });\r\n\tif (!taxonomies || taxonomies.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{label ? <AtrcLabel>{label}</AtrcLabel> : null}\r\n\t\t\t{taxonomies.map((taxonomy) => {\r\n\t\t\t\tconst termIds = value?.[taxonomy.slug] || [];\r\n\t\t\t\tconst handleChange = (newTermIds) => {\r\n\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t...value,\r\n\t\t\t\t\t\t[taxonomy.slug]: newTermIds,\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<AtrcControlSelectTerm\r\n\t\t\t\t\t\tkey={taxonomy.slug}\r\n\t\t\t\t\t\twrapProps={{\r\n\t\t\t\t\t\t\tclassName: 'at-flx-grw-1',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={taxonomy.name}\r\n\t\t\t\t\t\tvalue={termIds}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\ttax={taxonomy.slug}\r\n\t\t\t\t\t\t{...defaultProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AtrcControlSelectTaxonomyWiseTerms;\r\n"],"mappings":";AAAA;AACA,SAASA,SAAS,QAAQ,iBAAiB;AAE3C,SAASC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;;AAEzD;AACA,OAAOC,qBAAqB,MAAM,0BAA0B;AAE5D,OAAOC,SAAS,MAAM,mBAAmB;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAGA,CAACC,KAAK,GAAG,CAAC,CAAC,KAAK;EAChD,MAAM;IAAEC,QAAQ,GAAG;EAAG,CAAC,GAAGD,KAAK;EAE/B,MAAME,UAAU,GAAGR,SAAS,CAC1BS,MAAM,IAAK;IACX,MAAM;MAAEC;IAAc,CAAC,GAAGD,MAAM,CAACP,SAAS,CAAC;IAC3C,MAAMS,SAAS,GAAG,CAAC,CAAC;IACpB,IAAIJ,QAAQ,EAAE;MACbI,SAAS,CAACC,IAAI,GAAGL,QAAQ;IAC1B;IACA,MAAMM,kBAAkB,GAAGH,aAAa,CAACC,SAAS,CAAC;IACnD,OAAOE,kBAAkB;EAC1B,CAAC,EACD,CAACN,QAAQ,CACV,CAAC;EACD,OAAOC,UAAU;AAClB,CAAC;;AAED;AACA,SAASM,kCAAkCA,CAACR,KAAK,EAAE;EAClD,MAAM;IAAES,KAAK;IAAEC,KAAK;IAAEC,QAAQ;IAAEV,QAAQ,GAAG,EAAE;IAAE,GAAGW;EAAa,CAAC,GAAGZ,KAAK;EACxE,MAAME,UAAU,GAAGH,iBAAiB,CAAC;IAAEE;EAAS,CAAC,CAAC;EAClD,IAAI,CAACC,UAAU,IAAIA,UAAU,CAACW,MAAM,KAAK,CAAC,EAAE;IAC3C,OAAO,IAAI;EACZ;EAEA,oBACCC,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAE,QAAA,QACEP,KAAK,gBAAGK,KAAA,CAAAC,aAAA,CAACjB,SAAS,QAAEW,KAAiB,CAAC,GAAG,IAAI,EAC7CP,UAAU,CAACe,GAAG,CAAEC,QAAQ,IAAK;IAC7B,MAAMC,OAAO,GAAGT,KAAK,GAAGQ,QAAQ,CAACE,IAAI,CAAC,IAAI,EAAE;IAC5C,MAAMC,YAAY,GAAIC,UAAU,IAAK;MACpCX,QAAQ,CAAC;QACR,GAAGD,KAAK;QACR,CAACQ,QAAQ,CAACE,IAAI,GAAGE;MAClB,CAAC,CAAC;IACH,CAAC;IAED,oBACCR,KAAA,CAAAC,aAAA,CAAClB,qBAAqB,EAAA0B,QAAA;MACrBC,GAAG,EAAEN,QAAQ,CAACE,IAAK;MACnBK,SAAS,EAAE;QACVC,SAAS,EAAE;MACZ,CAAE;MACFjB,KAAK,EAAES,QAAQ,CAACS,IAAK;MACrBjB,KAAK,EAAES,OAAQ;MACfR,QAAQ,EAAEU,YAAa;MACvBO,GAAG,EAAEV,QAAQ,CAACE;IAAK,GACfR,YAAY,CAChB,CAAC;EAEJ,CAAC,CACA,CAAC;AAEL;AAEA,eAAeJ,kCAAkC"}