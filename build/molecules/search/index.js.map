{"version":3,"names":["React","__","useState","useEffect","SearchControl","classnames","AtrcWrap","AtrcButton","AtrcPrefix","AtrcSearchBtn","props","doSearch","_props$className","className","defaultProps","_objectWithoutProperties","_excluded","createElement","_extends","onClick","AtrcSearch","_props$type","type","_props$className2","_props$variant","variant","_props$placeholder","placeholder","_props$value","value","_props$doSearch","_props$allowButton","allowButton","_props$buttonProps","buttonProps","_props$wrapProps","wrapProps","_useState","_useState2","_slicedToArray","input","setInput","onChange","onKeyDown","e","keyCode","children"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/search/index.js"],"sourcesContent":["import React from 'react';\n\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { useState, useEffect } from '@wordpress/element';\r\n\r\nimport { SearchControl } from '@wordpress/components';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcButton from '../../atoms/button';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local*/\r\nconst AtrcSearchBtn = (props) => {\r\n\tconst { doSearch, className = '', ...defaultProps } = props;\r\n\r\n\treturn (\r\n\t\t<AtrcButton\r\n\t\t\tonClick={() => doSearch()}\r\n\t\t\tclassName={classnames(className, AtrcPrefix('btn-search'), 'at-m')}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcSearch = (props) => {\r\n\tconst {\r\n\t\ttype = '',\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\tplaceholder = '',\r\n\t\tvalue = '',\r\n\t\tdoSearch = '',\r\n\t\tallowButton = true,\r\n\t\tbuttonProps = {},\r\n\t\twrapProps = {},\r\n\t} = props;\r\n\tconst [input, setInput] = useState(value);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (input !== value) setInput(value);\r\n\t}, [value]);\r\n\r\n\t/*Run only once on mount*/\r\n\tuseEffect(() => {\r\n\t\tif ('keyDown' === type) {\r\n\t\t\tdoSearch(input);\r\n\t\t}\r\n\t}, [input]);\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...wrapProps}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('search-wrp'),\r\n\t\t\t\twrapProps.className ? wrapProps.className : '',\r\n\t\t\t\t'at-flx',\r\n\t\t\t\t'at-al-itm-strh'\r\n\t\t\t)}>\r\n\t\t\t<AtrcWrap\r\n\t\t\t\tclassName={classnames('at-flx-grow-1')}\r\n\t\t\t\tvariant='input-box'>\r\n\t\t\t\t<SearchControl\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('search'),\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\tvariant ? AtrcPrefix('search') + '-' + variant : ''\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tplaceholder={placeholder || __('Search', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={input}\r\n\t\t\t\t\tonChange={setInput}\r\n\t\t\t\t\tonKeyDown={(e) => {\r\n\t\t\t\t\t\tif (e.keyCode === 13) {\r\n\t\t\t\t\t\t\tdoSearch(input);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcWrap>\r\n\t\t\t{allowButton ? (\r\n\t\t\t\t<AtrcSearchBtn\r\n\t\t\t\t\tdoSearch={() => doSearch(input)}\r\n\t\t\t\t\tchildren={__('Search', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t{...buttonProps}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcSearch;\r\n"],"mappings":"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","ignoreList":[]}