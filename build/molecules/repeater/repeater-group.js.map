{"version":3,"names":["__","chevronDown","chevronUp","useContext","useState","classnames","sortableElement","AtrcWrap","AtrcLabel","AtrcButton","AtrcIcon","AtrcHr","AtrcButtonGroup","AtrcRepeaterContextData","AtrcHeader","AtrcFooter","AtrcSortableDragHandle","AtrcPrefix","RepeaterGroup","props","groupIndex","deleteGroup","children","_props$groupTitle","groupTitle","_props$deleteTitle","deleteTitle","_props$cancelTitle","cancelTitle","sortableData","_sortableData$isSorta","isSortable","_sortableData$useDrag","useDragHandle","_useState","_useState2","_slicedToArray","isOpen","onToggle","React","createElement","className","key","variant","onClick","type","size","icon","SortableItem","AtrcRepeaterGroup","otherProps","_objectWithoutProperties","_excluded","_sortableData$isSorta2","_sortableData$useDrag2","_extends","concat","index"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/repeater/repeater-group.js"],"sourcesContent":["/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { chevronDown, chevronUp } from '@wordpress/icons';\r\n\r\nimport { useContext, useState } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\nimport { sortableElement } from 'react-sortable-hoc';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcButton from '../../atoms/button';\r\nimport AtrcIcon from '../../atoms/icon';\r\nimport AtrcHr from '../../atoms/hr';\r\n\r\n/* Molecules */\r\nimport AtrcButtonGroup from '../button-group';\r\nimport { AtrcRepeaterContextData } from './index';\r\n\r\n/* Organisms */\r\nimport AtrcHeader from '../../organisms/header';\r\nimport AtrcFooter from '../../organisms/footer';\r\n\r\n/* Controls */\r\nimport { AtrcSortableDragHandle } from '../../controls/control-sortable';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local*/\r\nconst RepeaterGroup = (props) => {\r\n\tconst {\r\n\t\tgroupIndex,\r\n\t\tdeleteGroup,\r\n\t\tchildren,\r\n\t\tgroupTitle = __('Repeater fields', 'atrc-prefix-atrc'),\r\n\t\tdeleteTitle = __('Delete', 'atrc-prefix-atrc'),\r\n\t\tcancelTitle = __('Cancel', 'atrc-prefix-atrc'),\r\n\t} = props;\r\n\tconst sortableData = useContext(AtrcRepeaterContextData);\r\n\tconst {\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t} = sortableData;\r\n\r\n\tconst [isOpen, onToggle] = useState(false);\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(AtrcPrefix('repeater-grp'), 'at-m')}\r\n\t\t\tkey={groupIndex}>\r\n\t\t\t<AtrcHeader\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\tAtrcPrefix('repeater-grp-header'),\r\n\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t'at-gap',\r\n\t\t\t\t\t'at-p',\r\n\t\t\t\t\t'at-bg-cl',\r\n\t\t\t\t\t'at-bdr'\r\n\t\t\t\t)}>\r\n\t\t\t\t{isSortable && useDragHandle ? <AtrcSortableDragHandle /> : null}\r\n\t\t\t\t<AtrcLabel className={classnames('at-flx-grw-1')}>\r\n\t\t\t\t\t{groupTitle}\r\n\t\t\t\t</AtrcLabel>\r\n\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('repeater-grp-actions'),\r\n\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t'at-gap'\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\tclassName={classnames('at-flx', 'at-al-itm-ctr', 'at-jfy-cont-ctr')}\r\n\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\tonClick={() => onToggle(!isOpen)}>\r\n\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\ttype={'wp'}\r\n\t\t\t\t\t\t\tsize={18}\r\n\t\t\t\t\t\t\ticon={isOpen ? chevronUp : chevronDown}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t</AtrcHeader>\r\n\t\t\t<AtrcWrap\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\tAtrcPrefix('repeater-grp-itms'),\r\n\t\t\t\t\t'at-bdr at-bg-cl',\r\n\t\t\t\t\tisOpen ? '' : 'at-d-non'\r\n\t\t\t\t)}\r\n\t\t\t\tkey={groupIndex}>\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('repeater-grp-itms-fields'),\r\n\t\t\t\t\t\t'at-p'\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t\t<AtrcHr />\r\n\t\t\t\t<AtrcFooter\r\n\t\t\t\t\tclassName={classnames(AtrcPrefix('repeater-grp-footer'), 'at-p')}>\r\n\t\t\t\t\t<AtrcButtonGroup>\r\n\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\tonClick={() => deleteGroup(groupIndex)}>\r\n\t\t\t\t\t\t\t{deleteTitle}\r\n\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\tonClick={() => onToggle(!isOpen)}>\r\n\t\t\t\t\t\t\t{cancelTitle}\r\n\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t</AtrcButtonGroup>\r\n\t\t\t\t</AtrcFooter>\r\n\t\t\t</AtrcWrap>\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst SortableItem = sortableElement((props) => {\r\n\treturn <RepeaterGroup {...props} />;\r\n});\r\n\r\nconst AtrcRepeaterGroup = (props) => {\r\n\tconst { groupIndex, ...otherProps } = props;\r\n\r\n\tconst sortableData = useContext(AtrcRepeaterContextData);\r\n\tconst {\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t} = sortableData;\r\n\r\n\tif (isSortable) {\r\n\t\treturn (\r\n\t\t\t<SortableItem\r\n\t\t\t\tkey={`${AtrcPrefix('ctrl-sort')}-${groupIndex}`}\r\n\t\t\t\tindex={groupIndex}\r\n\t\t\t\t{...otherProps}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\treturn <RepeaterGroup {...props} />;\r\n};\r\nexport default AtrcRepeaterGroup;\r\n"],"mappings":"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"}