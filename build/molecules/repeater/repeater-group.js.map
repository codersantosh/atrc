{"version":3,"names":["React","__","chevronDown","chevronUp","useContext","useState","classnames","sortableElement","AtrcWrap","AtrcButton","AtrcIcon","AtrcHr","AtrcButtonGroup","AtrcRepeaterContextData","AtrcHeader","AtrcFooter","AtrcSortableDragHandle","AtrcPrefix","RepeaterGroup","props","groupIndex","deleteGroup","children","_props$groupTitle","groupTitle","_props$deleteTitle","deleteTitle","_props$cancelTitle","cancelTitle","sortableData","_sortableData$isSorta","isSortable","_sortableData$useDrag","useDragHandle","_useState","_useState2","_slicedToArray","isOpen","onToggle","createElement","className","key","variant","onClick","type","size","icon","SortableItem","AtrcRepeaterGroup","otherProps","_objectWithoutProperties","_excluded","_sortableData$isSorta2","_sortableData$useDrag2","_extends","concat","index"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/repeater/repeater-group.js"],"sourcesContent":["import React from 'react';\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { chevronDown, chevronUp } from '@wordpress/icons';\r\n\r\nimport { useContext, useState } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\nimport { sortableElement } from 'react-sortable-hoc';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcButton from '../../atoms/button';\r\nimport AtrcIcon from '../../atoms/icon';\r\nimport AtrcHr from '../../atoms/hr';\r\n\r\n/* Molecules */\r\nimport AtrcButtonGroup from '../button-group';\r\nimport { AtrcRepeaterContextData } from './index';\r\n\r\n/* Organisms */\r\nimport AtrcHeader from '../../organisms/header';\r\nimport AtrcFooter from '../../organisms/footer';\r\n\r\n/* Controls */\r\nimport { AtrcSortableDragHandle } from '../../controls/control-sortable';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local*/\r\nconst RepeaterGroup = (props) => {\r\n\tconst {\r\n\t\tgroupIndex,\r\n\t\tdeleteGroup,\r\n\t\tchildren,\r\n\t\tgroupTitle = __('Repeater fields', 'atrc-prefix-atrc'),\r\n\t\tdeleteTitle = __('Delete', 'atrc-prefix-atrc'),\r\n\t\tcancelTitle = __('Cancel', 'atrc-prefix-atrc'),\r\n\t} = props;\r\n\tconst sortableData = useContext(AtrcRepeaterContextData);\r\n\tconst {\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t} = sortableData;\r\n\r\n\tconst [isOpen, onToggle] = useState(false);\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(AtrcPrefix('rpt-grp'), 'at-m')}\r\n\t\t\tkey={groupIndex}>\r\n\t\t\t<AtrcHeader\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\tAtrcPrefix('rpt-grp-hdr'),\r\n\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t'at-bg-cl',\r\n\t\t\t\t\t'at-bdr'\r\n\t\t\t\t)}>\r\n\t\t\t\t{isSortable && useDragHandle ? (\r\n\t\t\t\t\t<AtrcSortableDragHandle className={classnames('at-m')} />\r\n\t\t\t\t) : null}\r\n\t\t\t\t<AtrcButton\r\n\t\t\t\t\tvariant='link'\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t'at-jfy-cont-st',\r\n\t\t\t\t\t\t'at-flx-grw-1',\r\n\t\t\t\t\t\t'at-m',\r\n\t\t\t\t\t\tAtrcPrefix('rpt-grp-hdr-btn')\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tonClick={() => onToggle(!isOpen)}>\r\n\t\t\t\t\t{groupTitle}\r\n\t\t\t\t</AtrcButton>\r\n\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('rpt-grp-actions'),\r\n\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t'at-gap',\r\n\t\t\t\t\t\t'at-p'\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\tclassName={classnames('at-flx', 'at-al-itm-ctr', 'at-jfy-cont-ctr')}\r\n\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\tonClick={() => onToggle(!isOpen)}>\r\n\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\ttype={'wp'}\r\n\t\t\t\t\t\t\tsize={18}\r\n\t\t\t\t\t\t\ticon={isOpen ? chevronUp : chevronDown}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t</AtrcHeader>\r\n\t\t\t<AtrcWrap\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\tAtrcPrefix('rpt-grp-itms'),\r\n\t\t\t\t\t'at-bdr at-bg-cl',\r\n\t\t\t\t\tisOpen ? '' : 'at-d-non'\r\n\t\t\t\t)}\r\n\t\t\t\tkey={groupIndex}>\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(AtrcPrefix('rpt-grp-itms-fields'), 'at-p')}>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t\t<AtrcHr />\r\n\t\t\t\t<AtrcFooter className={classnames(AtrcPrefix('rpt-grp-ftr'), 'at-p')}>\r\n\t\t\t\t\t<AtrcButtonGroup>\r\n\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\tonClick={() => deleteGroup(groupIndex)}>\r\n\t\t\t\t\t\t\t{deleteTitle}\r\n\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\tvariant='link'\r\n\t\t\t\t\t\t\tonClick={() => onToggle(!isOpen)}>\r\n\t\t\t\t\t\t\t{cancelTitle}\r\n\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t</AtrcButtonGroup>\r\n\t\t\t\t</AtrcFooter>\r\n\t\t\t</AtrcWrap>\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst SortableItem = sortableElement((props) => {\r\n\treturn <RepeaterGroup {...props} />;\r\n});\r\n\r\nconst AtrcRepeaterGroup = (props) => {\r\n\tconst { groupIndex, ...otherProps } = props;\r\n\r\n\tconst sortableData = useContext(AtrcRepeaterContextData);\r\n\tconst {\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t} = sortableData;\r\n\r\n\tif (isSortable) {\r\n\t\treturn (\r\n\t\t\t<SortableItem\r\n\t\t\t\tkey={`${AtrcPrefix('ctrl-sort')}-${groupIndex}`}\r\n\t\t\t\tindex={groupIndex}\r\n\t\t\t\t{...otherProps}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\treturn <RepeaterGroup {...props} />;\r\n};\r\nexport default AtrcRepeaterGroup;\r\n"],"mappings":"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","ignoreList":[]}