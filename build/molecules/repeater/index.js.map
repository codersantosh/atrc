{"version":3,"names":["React","createContext","classnames","sortableContainer","AtrcWrap","AtrcHr","AtrcText","AtrcPrefix","AtrcMoveArrayValue","AtrcRepeaterContextData","SortableContainer","props","children","createElement","className","RepeaterGroupWrap","_ref","AtrcRepeater","_props$label","label","_props$className","_props$variant","variant","groups","addGroup","_props$labelProps","labelProps","_props$value","value","_props$onChange","onChange","_props$isSortable","isSortable","_props$useDragHandle","useDragHandle","defaultProps","_objectWithoutProperties","_excluded","handleSortEnd","_ref2","oldIndex","newIndex","updatedValues","_extends","Fragment","Provider","onSortEnd"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/repeater/index.js"],"sourcesContent":["import React from 'react';\n\n/*WordPress*/\r\nimport { createContext } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\nimport { sortableContainer } from 'react-sortable-hoc';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcHr from '../../atoms/hr';\r\nimport AtrcText from '../../atoms/text';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Utils */\r\nimport AtrcMoveArrayValue from '../../utils/move-array-value';\r\n\r\n/*Local*/\r\nexport const AtrcRepeaterContextData = createContext();\r\n\r\nconst SortableContainer = sortableContainer((props) => {\r\n\tconst { children } = props;\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('rpt-grp-wrp'))}>\r\n\t\t\t{children}\r\n\t\t</AtrcWrap>\r\n\t);\r\n});\r\n\r\nconst RepeaterGroupWrap = ({ children }) => {\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('rpt-grp-wrp'))}>\r\n\t\t\t{children}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst AtrcRepeater = (props) => {\r\n\tconst {\r\n\t\tlabel = '',\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\tgroups,\r\n\t\taddGroup,\r\n\t\tlabelProps = {\r\n\t\t\tclassName: 'at-m',\r\n\t\t},\r\n\t\tvalue = [] /* for sortable */,\r\n\t\tonChange = () => {} /* for sortable */,\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst handleSortEnd = ({ oldIndex, newIndex }) => {\r\n\t\tconst updatedValues = AtrcMoveArrayValue(value, oldIndex, newIndex);\r\n\t\tonChange(updatedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('rpt'),\r\n\t\t\t\tclassName,\r\n\t\t\t\t'at-flx-grw-1',\r\n\t\t\t\tvariant ? AtrcPrefix() + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{label ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<AtrcText\r\n\t\t\t\t\t\tvariant='rpt-grp-ttl'\r\n\t\t\t\t\t\t{...labelProps}>\r\n\t\t\t\t\t\t{label}\r\n\t\t\t\t\t</AtrcText>\r\n\t\t\t\t\t<AtrcHr className={classnames('at-m')} />\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<AtrcRepeaterContextData.Provider value={{ isSortable, useDragHandle }}>\r\n\t\t\t\t{isSortable ? (\r\n\t\t\t\t\t<SortableContainer\r\n\t\t\t\t\t\tonSortEnd={handleSortEnd}\r\n\t\t\t\t\t\tuseDragHandle={useDragHandle}>\r\n\t\t\t\t\t\t{groups()}\r\n\t\t\t\t\t</SortableContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RepeaterGroupWrap>{groups()}</RepeaterGroupWrap>\r\n\t\t\t\t)}\r\n\t\t\t</AtrcRepeaterContextData.Provider>\r\n\t\t\t{addGroup()}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcRepeater;\r\n"],"mappings":"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","ignoreList":[]}