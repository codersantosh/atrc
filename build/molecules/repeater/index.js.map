{"version":3,"names":["createContext","classnames","sortableContainer","AtrcWrap","AtrcLabel","AtrcHr","AtrcPrefix","AtrcMoveArrayValue","AtrcRepeaterContextData","SortableContainer","props","children","React","createElement","className","RepeaterGroupWrap","_ref","AtrcRepeater","_props$label","label","_props$className","_props$variant","variant","groups","addGroup","_props$labelProps","labelProps","_props$value","value","_props$onChange","onChange","_props$isSortable","isSortable","_props$useDragHandle","useDragHandle","defaultProps","_objectWithoutProperties","_excluded","handleSortEnd","_ref2","oldIndex","newIndex","updatedValues","_extends","Fragment","Provider","onSortEnd"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/repeater/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { createContext } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\nimport { sortableContainer } from 'react-sortable-hoc';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcHr from '../../atoms/hr';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Utils */\r\nimport AtrcMoveArrayValue from '../../utils/move-array-value';\r\n\r\n/*Local*/\r\nexport const AtrcRepeaterContextData = createContext();\r\n\r\nconst SortableContainer = sortableContainer((props) => {\r\n\tconst { children } = props;\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('repeater-grp-wrp'))}>\r\n\t\t\t{children}\r\n\t\t</AtrcWrap>\r\n\t);\r\n});\r\n\r\nconst RepeaterGroupWrap = ({ children }) => {\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('repeater-grp-wrp'))}>\r\n\t\t\t{children}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst AtrcRepeater = (props) => {\r\n\tconst {\r\n\t\tlabel = '',\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\tgroups,\r\n\t\taddGroup,\r\n\t\tlabelProps = {\r\n\t\t\tclassName: 'at-m',\r\n\t\t},\r\n\t\tvalue = [] /* for sortable */,\r\n\t\tonChange = () => {} /* for sortable */,\r\n\t\tisSortable = false /* for sortable */,\r\n\t\tuseDragHandle = true /* for sortable */,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst handleSortEnd = ({ oldIndex, newIndex }) => {\r\n\t\tconst updatedValues = AtrcMoveArrayValue(value, oldIndex, newIndex);\r\n\t\tonChange(updatedValues);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('repeater'),\r\n\t\t\t\tclassName,\r\n\t\t\t\t'at-flx-grw-1',\r\n\t\t\t\tvariant ? AtrcPrefix() + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{label ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<AtrcLabel {...labelProps}>{label}</AtrcLabel>\r\n\t\t\t\t\t<AtrcHr className={classnames('at-m')} />\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<AtrcRepeaterContextData.Provider value={{ isSortable, useDragHandle }}>\r\n\t\t\t\t{isSortable ? (\r\n\t\t\t\t\t<SortableContainer\r\n\t\t\t\t\t\tonSortEnd={handleSortEnd}\r\n\t\t\t\t\t\tuseDragHandle={useDragHandle}>\r\n\t\t\t\t\t\t{groups()}\r\n\t\t\t\t\t</SortableContainer>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<RepeaterGroupWrap>{groups()}</RepeaterGroupWrap>\r\n\t\t\t\t)}\r\n\t\t\t</AtrcRepeaterContextData.Provider>\r\n\t\t\t{addGroup()}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcRepeater;\r\n"],"mappings":";;;;AAAA;AACA,SAASA,aAAa,QAAQ,oBAAoB;;AAElD;AACA,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,iBAAiB,QAAQ,oBAAoB;;AAEtD;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,MAAM,MAAM,gBAAgB;;AAEnC;AACA,OAAOC,UAAU,MAAM,mBAAmB;;AAE1C;AACA,OAAOC,kBAAkB,MAAM,8BAA8B;;AAE7D;AACA,OAAO,IAAMC,uBAAuB,GAAGR,aAAa,CAAC,CAAC;AAEtD,IAAMS,iBAAiB,GAAGP,iBAAiB,CAAC,UAACQ,KAAK,EAAK;EACtD,IAAQC,QAAQ,GAAKD,KAAK,CAAlBC,QAAQ;EAChB,oBACCC,KAAA,CAAAC,aAAA,CAACV,QAAQ;IAACW,SAAS,EAAEb,UAAU,CAACK,UAAU,CAAC,kBAAkB,CAAC;EAAE,GAC9DK,QACQ,CAAC;AAEb,CAAC,CAAC;AAEF,IAAMI,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAAC,IAAA,EAAqB;EAAA,IAAfL,QAAQ,GAAAK,IAAA,CAARL,QAAQ;EACpC,oBACCC,KAAA,CAAAC,aAAA,CAACV,QAAQ;IAACW,SAAS,EAAEb,UAAU,CAACK,UAAU,CAAC,kBAAkB,CAAC;EAAE,GAC9DK,QACQ,CAAC;AAEb,CAAC;AAED,IAAMM,YAAY,GAAG,SAAfA,YAAYA,CAAIP,KAAK,EAAK;EAC/B,IAAAQ,YAAA,GAcIR,KAAK,CAbRS,KAAK;IAALA,KAAK,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;IAAAE,gBAAA,GAaPV,KAAK,CAZRI,SAAS;IAATA,SAAS,GAAAM,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAAAC,cAAA,GAYXX,KAAK,CAXRY,OAAO;IAAPA,OAAO,GAAAD,cAAA,cAAG,EAAE,GAAAA,cAAA;IACZE,MAAM,GAUHb,KAAK,CAVRa,MAAM;IACNC,QAAQ,GASLd,KAAK,CATRc,QAAQ;IAAAC,iBAAA,GASLf,KAAK,CARRgB,UAAU;IAAVA,UAAU,GAAAD,iBAAA,cAAG;MACZX,SAAS,EAAE;IACZ,CAAC,GAAAW,iBAAA;IAAAE,YAAA,GAMEjB,KAAK,CALRkB,KAAK;IAALA,KAAK,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;IAAAE,eAAA,GAKPnB,KAAK,CAJRoB,QAAQ;IAARA,QAAQ,GAAAD,eAAA,cAAG,YAAM,CAAC,CAAC,GAAAA,eAAA;IAAAE,iBAAA,GAIhBrB,KAAK,CAHRsB,UAAU;IAAVA,UAAU,GAAAD,iBAAA,cAAG,KAAK,GAAAA,iBAAA;IAAAE,oBAAA,GAGfvB,KAAK,CAFRwB,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,IAAI,GAAAA,oBAAA;IACjBE,YAAY,GAAAC,wBAAA,CACZ1B,KAAK,EAAA2B,SAAA;EAET,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,KAAA,EAA+B;IAAA,IAAzBC,QAAQ,GAAAD,KAAA,CAARC,QAAQ;MAAEC,QAAQ,GAAAF,KAAA,CAARE,QAAQ;IAC1C,IAAMC,aAAa,GAAGnC,kBAAkB,CAACqB,KAAK,EAAEY,QAAQ,EAAEC,QAAQ,CAAC;IACnEX,QAAQ,CAACY,aAAa,CAAC;EACxB,CAAC;EAED,oBACC9B,KAAA,CAAAC,aAAA,CAACV,QAAQ,EAAAwC,QAAA;IACR7B,SAAS,EAAEb,UAAU,CACpBK,UAAU,CAAC,UAAU,CAAC,EACtBQ,SAAS,EACT,cAAc,EACdQ,OAAO,GAAGhB,UAAU,CAAC,CAAC,GAAGgB,OAAO,GAAG,EACpC;EAAE,GACEa,YAAY,GACfhB,KAAK,gBACLP,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAgC,QAAA,qBACChC,KAAA,CAAAC,aAAA,CAACT,SAAS,EAAKsB,UAAU,EAAGP,KAAiB,CAAC,eAC9CP,KAAA,CAAAC,aAAA,CAACR,MAAM;IAACS,SAAS,EAAEb,UAAU,CAAC,MAAM;EAAE,CAAE,CACvC,CAAC,GACA,IAAI,eACRW,KAAA,CAAAC,aAAA,CAACL,uBAAuB,CAACqC,QAAQ;IAACjB,KAAK,EAAE;MAAEI,UAAU,EAAVA,UAAU;MAAEE,aAAa,EAAbA;IAAc;EAAE,GACrEF,UAAU,gBACVpB,KAAA,CAAAC,aAAA,CAACJ,iBAAiB;IACjBqC,SAAS,EAAER,aAAc;IACzBJ,aAAa,EAAEA;EAAc,GAC5BX,MAAM,CAAC,CACU,CAAC,gBAEpBX,KAAA,CAAAC,aAAA,CAACE,iBAAiB,QAAEQ,MAAM,CAAC,CAAqB,CAEhB,CAAC,EAClCC,QAAQ,CAAC,CACD,CAAC;AAEb,CAAC;AAED,eAAeP,YAAY"}