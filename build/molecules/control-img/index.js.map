{"version":3,"names":["__","useEffect","useMemo","useState","useRef","MediaUpload","MediaUploadCheck","store","blockEditorStore","useSelect","classnames","BsImage","BsTrash","isEmpty","map","reduce","AtrcWrap","AtrcLabel","AtrcSelect","AtrcText","AtrcButton","AtrcIcon","AtrcImg","AtrcPanelTools","AtrcNotice","AtrcPanelRow","AtrcTooltip","AtrcPrefix","SelfHostedImg","props","isFirstRender","wp","media","React","createElement","_props$value","value","_props$onChange","onChange","_value$frm","frm","_value$id","id","_value$sizes","sizes","_value$srcset","srcset","_value$alt","alt","_value$ttl","ttl","_value$sz","sz","_value$w","w","_value$h","h","_value$url","url","_useState","_useState2","_slicedToArray","setMedia","_useState3","_useState4","imgSz","setImgSize","setAttrs","newVals","valueCloned","Object","assign","_objectSpread","attachment","fetch","success","attributes","imageSizes","select","settings","getSettings","imageSizesOptions","keyValues","accumulator","_ref","name","slug","label","keys","options","currentValue","currentKey","push","current","mediaSize","_media$sizes$mediaSiz","width","height","abSrcset","concat","title","className","src","onSelect","allowedTypes","render","_ref2","open","Fragment","variant","onClick","type","icon","text","wrapProps","defaultValue","ExternalImg","_props$value2","_props$onChange2","_value$frm2","_value$url2","_value$alt2","_value$ttl2","ImgDetails","_props$value3","_props$onChange3","_value$alt3","_value$ttl3","newVal","ImgSettings","_props$value4","_props$onChange4","_props$allowDetails","allowDetails","resetDetails","setAttr","hasTabValue","tab","AllTabs","tabs","hasValue","onDeselect","resetAll","tools","activeItems","iDx","key","AtrcControlImg","_props$label","_props$value5","_props$variant","_props$className","_props$onChange5","_props$allowSource","allowSource","_props$allowSelf","allowSelf","_props$allowExternal","allowExternal","_props$allowDetails2","_props$allowSettings","allowSettings","defaultProps","_objectWithoutProperties","_excluded","_value$frm3","setExternal","_extends"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-img/index.js"],"sourcesContent":["/*Attributes Structure\r\nType Object\r\n{\r\n    frm = '',\r\n    id = 0,\r\n    url ='',\r\n    alt ='',\r\n    ttl ='',\r\n    sz ='',\r\n    w ='',\r\n    h ='',\r\n}\r\n\r\nmap(obj, (currentValue, currentKey) => ( { value: key, label: key } ))\r\n* */\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { useEffect, useMemo, useState, useRef } from '@wordpress/element';\r\n\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\n\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\nimport { BsImage, BsTrash } from 'react-icons/bs';\r\n\r\nimport { isEmpty, map, reduce } from 'lodash';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcSelect from '../../atoms/select';\r\nimport AtrcText from '../../atoms/text';\r\nimport AtrcButton from '../../atoms/button';\r\nimport AtrcIcon from '../../atoms/icon';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\nimport AtrcPanelTools from '../panel-tools';\r\nimport AtrcNotice from '../notice';\r\nimport AtrcPanelRow from '../panel-row';\r\nimport AtrcTooltip from '../tooltip';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nconst SelfHostedImg = (props) => {\r\n\tconst isFirstRender = useRef(true);\r\n\r\n\tif (!(typeof wp !== 'undefined' && wp.media)) {\r\n\t\treturn (\r\n\t\t\t<AtrcNotice>\r\n\t\t\t\t{__('Add wp_enqueue_media(); on the page', 'atrc-prefix-atrc')}\r\n\t\t\t</AtrcNotice>\r\n\t\t);\r\n\t}\r\n\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst {\r\n\t\tfrm = '',\r\n\t\tid = null,\r\n\t\tsizes = null,\r\n\t\tsrcset = '',\r\n\t\talt = null,\r\n\t\tttl = null,\r\n\t\tsz = 'full',\r\n\t\tw = null,\r\n\t\th = null,\r\n\t\turl = '',\r\n\t} = value;\r\n\r\n\t/* for local management */\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst [media, setMedia] = useState(null);\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst [imgSz, setImgSize] = useState(sz);\r\n\r\n\t/* On change handler */\r\n\tconst setAttrs = (newVals) => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\r\n\t\tonChange({\r\n\t\t\t...valueCloned,\r\n\t\t\t...newVals,\r\n\t\t});\r\n\t};\r\n\r\n\t/* Run at first, only once for first time*/\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tuseEffect(() => {\r\n\t\tif (id && !media) {\r\n\t\t\t/* Need to use wp.media becuase const { getMedia } = select(coreStore); doesnot provide same and alos required properties */\r\n\t\t\twp.media.attachment(id).fetch({\r\n\t\t\t\tsuccess(attachment) {\r\n\t\t\t\t\tif (attachment.attributes) {\r\n\t\t\t\t\t\tsetMedia(attachment.attributes);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst imageSizes = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst settings = select(blockEditorStore).getSettings();\r\n\t\t\treturn id && '' === frm ? settings.imageSizes : null;\r\n\t\t},\r\n\t\t[id, frm]\r\n\t);\r\n\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst imageSizesOptions = useMemo(() => {\r\n\t\tif (media && media.sizes) {\r\n\t\t\tconst keyValues = reduce(\r\n\t\t\t\timageSizes,\r\n\t\t\t\t(accumulator, { name, slug }) => {\r\n\t\t\t\t\taccumulator[slug] = { value: slug, label: name };\r\n\t\t\t\t\treturn accumulator;\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tkeys: Object.keys(keyValues),\r\n\t\t\t\toptions: reduce(\r\n\t\t\t\t\tmedia.sizes,\r\n\t\t\t\t\t(accumulator, currentValue, currentKey) => {\r\n\t\t\t\t\t\tif (keyValues[currentKey]) {\r\n\t\t\t\t\t\t\taccumulator.push(keyValues[currentKey]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\taccumulator.push({ value: currentKey, label: currentKey });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn accumulator;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[]\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}, [imageSizes, media]);\r\n\r\n\t/* set attributes when media change */\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tuseEffect(() => {\r\n\t\tif (isFirstRender.current) {\r\n\t\t\tisFirstRender.current = false;\r\n\t\t} else {\r\n\t\t\tif (!media || !media.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst newVals = {\r\n\t\t\t\tid: media.id,\r\n\t\t\t};\r\n\r\n\t\t\tlet mediaSize = imgSz;\r\n\t\t\tif (!mediaSize) {\r\n\t\t\t\tmediaSize = 'full';\r\n\t\t\t}\r\n\t\t\tif (media.sizes && media.sizes[mediaSize] && media.sizes[mediaSize].url) {\r\n\t\t\t\tnewVals.url =\r\n\t\t\t\t\tmedia.sizes && media.sizes[mediaSize] && media.sizes[mediaSize].url\r\n\t\t\t\t\t\t? media.sizes[mediaSize].url\r\n\t\t\t\t\t\t: media.url;\r\n\t\t\t} else {\r\n\t\t\t\tnewVals.url = media.url;\r\n\t\t\t}\r\n\r\n\t\t\tif (media.sizes[mediaSize]) {\r\n\t\t\t\tconst { width, height, abSrcset } = media.sizes[mediaSize];\r\n\r\n\t\t\t\tnewVals.w = width + 'px';\r\n\t\t\t\tnewVals.h = height + 'px';\r\n\t\t\t\tnewVals.srcset = abSrcset;\r\n\t\t\t\tnewVals.sizes = `(max-width: ${width}px) 100vw, ${width}px)`;\r\n\t\t\t}\r\n\r\n\t\t\tnewVals.alt = media.alt;\r\n\t\t\tnewVals.ttl = media.title;\r\n\t\t\tnewVals.sz = mediaSize;\r\n\t\t\tsetAttrs(newVals);\r\n\t\t}\r\n\t}, [media, imgSz]);\r\n\r\n\tif (frm !== '') {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t<MediaUploadCheck>\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('ctrl-img-slf-hosted'),\r\n\t\t\t\t\t\t'at-pos',\r\n\t\t\t\t\t\t'at-flx-grw-1'\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t<AtrcImg\r\n\t\t\t\t\t\tsrc={url}\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\ttitle={ttl}\r\n\t\t\t\t\t\tsizes={sizes}\r\n\t\t\t\t\t\tsrcset={srcset}\r\n\t\t\t\t\t\twidth={w}\r\n\t\t\t\t\t\theight={h}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\tonSelect={setMedia}\r\n\t\t\t\t\t\t\tallowedTypes={['image', 'video']}\r\n\t\t\t\t\t\t\ttitle={__(\r\n\t\t\t\t\t\t\t\t'Select or upload background media',\r\n\t\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tvalue={id}\r\n\t\t\t\t\t\t\trender={({ open }) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\t\t\t\tvariant='uploads'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t'at-gap',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-jfy-cont-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-w'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={open}>\r\n\t\t\t\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\t\t\t\ttype='bootstrap'\r\n\t\t\t\t\t\t\t\t\t\t\ticon={BsImage}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{id\r\n\t\t\t\t\t\t\t\t\t\t\t? __('Replace media', 'atrc-prefix-atrc')\r\n\t\t\t\t\t\t\t\t\t\t\t: __('Add media', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t\t\t\t{id ? (\r\n\t\t\t\t\t\t\t\t\t\t<AtrcTooltip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\tAtrcPrefix('uploads-del'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t'at-pos'\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\ttext={__('Remove media', 'atrc-prefix-atrc')}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-bdr-rad',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-w',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-h',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-jfy-cont-ctr'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='delete'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttrs({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='bootstrap'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={BsTrash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t\t\t\t\t</AtrcTooltip>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</AtrcPanelRow>\r\n\t\t\t\t\t{imageSizesOptions && imageSizesOptions.options ? (\r\n\t\t\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t\t\t<AtrcSelect\r\n\t\t\t\t\t\t\t\tlabel={__('Image size', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t\twrapProps={{\r\n\t\t\t\t\t\t\t\t\tclassName: 'at-flx-grw-1',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalue={sz}\r\n\t\t\t\t\t\t\t\tdefaultValue='full'\r\n\t\t\t\t\t\t\t\toptions={imageSizesOptions.options}\r\n\t\t\t\t\t\t\t\tonChange={setImgSize}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AtrcPanelRow>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t</MediaUploadCheck>\r\n\t\t</AtrcPanelRow>\r\n\t);\r\n};\r\n\r\nconst ExternalImg = (props) => {\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst { frm = '', url = '', alt = '', ttl = '' } = value;\r\n\r\n\tif (frm === '') {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t<AtrcWrap className={classnames(AtrcPrefix('ctrl-img-ext'))}>\r\n\t\t\t\t<AtrcImg\r\n\t\t\t\t\tclassName={classnames('at-m')}\r\n\t\t\t\t\tsrc={url}\r\n\t\t\t\t\talt={alt}\r\n\t\t\t\t\ttitle={ttl}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<AtrcText\r\n\t\t\t\t\tlabel={__('Image URL', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={url}\r\n\t\t\t\t\ttype='url'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcWrap>\r\n\t\t</AtrcPanelRow>\r\n\t);\r\n};\r\n\r\nconst ImgDetails = (props) => {\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst { alt = '', ttl = '' } = value;\r\n\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('ctrl-img-img-details'))}>\r\n\t\t\t<AtrcLabel>{__('Image details', 'atrc-prefix-atrc')}</AtrcLabel>\r\n\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t<AtrcText\r\n\t\t\t\t\tlabel={__('Alt text', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={alt}\r\n\t\t\t\t\tonChange={(newVal) => onChange(newVal, 'alt')}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t<AtrcText\r\n\t\t\t\t\tlabel={__('Title', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={ttl}\r\n\t\t\t\t\tonChange={(newVal) => onChange(newVal, 'ttl')}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst ImgSettings = (props) => {\r\n\tconst { value = {}, onChange = () => {}, allowDetails = true } = props;\r\n\r\n\tconst resetDetails = () => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\t\tdelete valueCloned.alt;\r\n\t\tdelete valueCloned.ttl;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst setAttr = (newVal, type) => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\t\tvalueCloned[type] = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst hasTabValue = (tab) => {\r\n\t\tif (!value || isEmpty(value)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (tab === 'details') {\r\n\t\t\treturn !!(value.alt || value.ttl);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst AllTabs = useMemo(() => {\r\n\t\tconst tabs = [];\r\n\r\n\t\tif (allowDetails) {\r\n\t\t\ttabs.push({\r\n\t\t\t\tname: 'details',\r\n\t\t\t\ttitle: __('Image details', 'atrc-prefix-atrc'),\r\n\t\t\t\thasValue: hasTabValue('details'),\r\n\t\t\t\tonDeselect: () => resetDetails(),\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn tabs;\r\n\t}, []);\r\n\r\n\tif (!allowDetails) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelTools\r\n\t\t\tlabel={__('Settings', 'atrc-prefix-atrc')}\r\n\t\t\tresetAll={() => onChange({})}\r\n\t\t\ttools={AllTabs}>\r\n\t\t\t{(activeItems) =>\r\n\t\t\t\tmap(activeItems, (tab, iDx) => {\r\n\t\t\t\t\tif ('details' === tab) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ImgDetails\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={setAttr}\r\n\t\t\t\t\t\t\t\tkey={iDx}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</AtrcPanelTools>\r\n\t);\r\n};\r\n\r\nconst AtrcControlImg = (props) => {\r\n\tconst {\r\n\t\tlabel = '',\r\n\t\tvalue = {},\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\t\tonChange = () => {},\r\n\t\tallowSource = true,\r\n\t\tallowSelf = true,\r\n\t\tallowExternal = true,\r\n\t\tallowDetails = true,\r\n\t\tallowSettings = true,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst { frm = '' } = value;\r\n\r\n\tconst setAttr = (newVal, type) => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\t\tvalueCloned[type] = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst setExternal = (newVal) => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\r\n\t\tdelete valueCloned.id;\r\n\t\tdelete valueCloned.sz;\r\n\t\tdelete valueCloned.url;\r\n\r\n\t\tvalueCloned.url = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-img'),\r\n\t\t\t\t'at-flx-grw-1',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-img') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{label && <AtrcLabel>{label}</AtrcLabel>}\r\n\t\t\t{allowSource && (\r\n\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t<AtrcSelect\r\n\t\t\t\t\t\tlabel={__('Image source', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\twrapProps={{\r\n\t\t\t\t\t\t\tclassName: 'at-flx-grw-1',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tvalue={frm}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __('Self hosted', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __('External', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\tvalue: 'ext',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(newVal) => setAttr(newVal, 'frm')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</AtrcPanelRow>\r\n\t\t\t)}\r\n\t\t\t{allowSelf && '' === frm ? (\r\n\t\t\t\t<SelfHostedImg\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{allowExternal && 'ext' === frm ? (\r\n\t\t\t\t<ExternalImg\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={setExternal}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{allowSettings && 'ext' === frm && (value.id || value.url) ? (\r\n\t\t\t\t<ImgSettings\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tallowDetails={allowDetails}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcControlImg;\r\n"],"mappings":"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"}