{"version":3,"names":["__","_x","sprintf","classnames","AtrcPrefix","AtrcWrap","AtrcUl","AtrcLi","AtrcLink","AtrcGetPaginationList","length","current","arguments","undefined","range","Array","from","val","i","list","push","apply","_toConsumableArray","slice","filter","value","a","indexOf","reduce","acc","diff","Math","abs","AtrcPublicPagination","props","currentPage","totalPages","_props$doPagination","doPagination","_props$getPageUrl","getPageUrl","_props$className","className","_props$variant","variant","_props$isFooter","isFooter","_props$ulProps","ulProps","_props$liProps","liProps","_props$aProps","aProps","defaultProps","_objectWithoutProperties","_excluded","hasNext","hasPrevious","pages","React","createElement","_extends","tag","href","onClick","event","map","page","index","key","concat"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/pagination/public-pagination.js"],"sourcesContent":["/* WordPress */\r\nimport { __, _x, sprintf } from '@wordpress/i18n';\r\n\r\n/* Library */\r\nimport classnames from 'classnames';\r\n\r\n/* Prefix */\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Inbuilt */\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcUl from './../ul';\r\nimport AtrcLi from './../../atoms/li';\r\nimport AtrcLink from '../../atoms/link';\r\n\r\n/* Local Component */\r\n/**\r\n * Get the collapsed list of page numbers for a given range of pages, used to paginate queries.\r\n *\r\n * This will return an array of page numbers (1, 2, 3, etc) for a given length (number of pages). If there are\r\n * less than 5 pages (inclusive), it will return 1 through 5. If there are more, it will collapse between the\r\n * start and end with an ellipsis. If the current page is in the middle, it will add pages to the middle.\r\n * *\r\n * @param {number}  length  The total number of pages.\r\n * @param {?number} current The current page, used to output extra pages if necessary. Default 1.\r\n * @return {Array.<number|string>} Array of numbers and … used to display pagination links.\r\n */\r\nexport function AtrcGetPaginationList(length, current = 1) {\r\n\tconst range = Array.from({ length }, (val, i) => i + 1);\r\n\tconst list = [];\r\n\tif (length <= 5) {\r\n\t\treturn range;\r\n\t}\r\n\tlist.push(...range.slice(0, 2));\r\n\tif (current >= 2 && current <= length - 1) {\r\n\t\tlist.push(...range.slice(current - 2, current + 1));\r\n\t}\r\n\tlist.push(...range.slice(-2));\r\n\r\n\treturn (\r\n\t\tlist\r\n\t\t\t// Remove duplicates.\r\n\t\t\t.filter((value, i, a) => a.indexOf(value) === i)\r\n\t\t\t// Add in … where there's a jump larger than 1.\r\n\t\t\t.reduce((acc, value, i, a) => {\r\n\t\t\t\tif (i === 0) {\r\n\t\t\t\t\tacc.push(value);\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}\r\n\t\t\t\tconst diff = Math.abs(a[i] - a[i - 1]);\r\n\t\t\t\tif (diff === 0) {\r\n\t\t\t\t\treturn acc;\r\n\t\t\t\t}\r\n\t\t\t\tif (diff > 1) {\r\n\t\t\t\t\tacc.push('…');\r\n\t\t\t\t}\r\n\t\t\t\tacc.push(value);\r\n\t\t\t\treturn acc;\r\n\t\t\t}, [])\r\n\t);\r\n}\r\n\r\nconst AtrcPublicPagination = (props) => {\r\n\tconst {\r\n\t\tcurrentPage,\r\n\t\ttotalPages,\r\n\t\tdoPagination = () => {},\r\n\t\tgetPageUrl = () => {},\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\tisFooter = false,\r\n\t\tulProps = {},\r\n\t\tliProps = {},\r\n\t\taProps = {},\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst hasNext = currentPage < totalPages,\r\n\t\thasPrevious = currentPage > 1;\r\n\r\n\t// Create an array of page numbers or '...' for ellipsis\r\n\tconst pages = AtrcGetPaginationList(totalPages, currentPage);\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\ttag='nav'\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('pagination'),\r\n\t\t\t\t'at-flx',\r\n\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('pagination') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\taria-label={__('Pagination', 'atrc-prefix-atrc')}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t<AtrcUl\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\tAtrcPrefix('pagination-list'),\r\n\t\t\t\t\t(ulProps && ulProps.className) || ''\r\n\t\t\t\t)}\r\n\t\t\t\t{...ulProps}>\r\n\t\t\t\t{hasPrevious && (\r\n\t\t\t\t\t<AtrcLi\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item'),\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item-prev'),\r\n\t\t\t\t\t\t\t(liProps && liProps.className) || ''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{...liProps}>\r\n\t\t\t\t\t\t<AtrcLink\r\n\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\tAtrcPrefix('pagination-link'),\r\n\t\t\t\t\t\t\t\t(aProps && aProps.className) || ''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\thref={getPageUrl(currentPage - 1)}\r\n\t\t\t\t\t\t\tonClick={() => doPagination(event, currentPage - 1)}\r\n\t\t\t\t\t\t\t{...aProps}>\r\n\t\t\t\t\t\t\t<span className='screen-reader-text'>\r\n\t\t\t\t\t\t\t\t{__('Previous page', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span aria-hidden>\r\n\t\t\t\t\t\t\t\t{_x('Previous', 'previous page link label', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</AtrcLink>\r\n\t\t\t\t\t</AtrcLi>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{pages.map((page, index) => (\r\n\t\t\t\t\t<AtrcLi\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item'),\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item-dash'),\r\n\t\t\t\t\t\t\t(liProps && liProps.className) || ''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\tkey={`${index}-${page}`}\r\n\t\t\t\t\t\t{...liProps}>\r\n\t\t\t\t\t\t{page === '...' ? (\r\n\t\t\t\t\t\t\tpage\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<AtrcLink\r\n\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\tAtrcPrefix('pagination-link'),\r\n\t\t\t\t\t\t\t\t\t(aProps && aProps.className) || ''\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\thref={getPageUrl(page)}\r\n\t\t\t\t\t\t\t\tonClick={(event) => doPagination(event, page)}\r\n\t\t\t\t\t\t\t\taria-current={page === currentPage ? 'page' : undefined}\r\n\t\t\t\t\t\t\t\t{...aProps}>\r\n\t\t\t\t\t\t\t\t<span className='screen-reader-text'>\r\n\t\t\t\t\t\t\t\t\t{sprintf(\r\n\t\t\t\t\t\t\t\t\t\t// translators: %s is the page number.\r\n\t\t\t\t\t\t\t\t\t\t__('Page %s', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\t\t\tpage\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span aria-hidden>{page}</span>\r\n\t\t\t\t\t\t\t</AtrcLink>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</AtrcLi>\r\n\t\t\t\t))}\r\n\r\n\t\t\t\t{hasNext && (\r\n\t\t\t\t\t<AtrcLi\r\n\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item'),\r\n\t\t\t\t\t\t\tAtrcPrefix('pagination-item-next'),\r\n\t\t\t\t\t\t\t(liProps && liProps.className) || ''\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{...liProps}>\r\n\t\t\t\t\t\t<AtrcLink\r\n\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\tAtrcPrefix('pagination-link'),\r\n\t\t\t\t\t\t\t\t(aProps && aProps.className) || ''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\thref={getPageUrl(currentPage + 1)}\r\n\t\t\t\t\t\t\tonClick={() => doPagination(event, currentPage + 1)}\r\n\t\t\t\t\t\t\t{...aProps}>\r\n\t\t\t\t\t\t\t<span className='screen-reader-text'>\r\n\t\t\t\t\t\t\t\t{__('Next page', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<span aria-hidden>\r\n\t\t\t\t\t\t\t\t{_x('Next', 'previous page link label', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</AtrcLink>\r\n\t\t\t\t\t</AtrcLi>\r\n\t\t\t\t)}\r\n\t\t\t</AtrcUl>\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcPublicPagination;\r\n"],"mappings":"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"}