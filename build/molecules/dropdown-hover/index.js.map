{"version":3,"names":["_element","require","_compose","_components","_classnames","_interopRequireDefault","_wrap","_prefixVars","_excluded","obj","__esModule","default","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","key","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","_extends","assign","bind","arguments","hasOwnProperty","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","return","isArray","useObservableState","initialState","onStateChange","_useState","useState","_useState2","state","setState","Dropdown","props","renderContent","renderToggle","className","contentClassName","expandOnMobile","headerTitle","focusOnMount","position","popoverProps","onClose","onToggle","style","_useState3","_useState4","fallbackPopoverAnchor","setFallbackPopoverAnchor","containerRef","useRef","_useObservableState","_useObservableState2","isOpen","setIsOpen","useEffect","toggle","tog","undefined","closeIfFocusOutside","ownerDocument","current","dialog","activeElement","closest","contains","close","args","popoverPropsHaveAnchor","anchor","anchorRef","getAnchorRect","anchorRect","React","createElement","classnames","ref","useMergeRefs","tabIndex","Popover","onFocusOutside","offset","AtrcDropdownHover","instanceId","useInstanceId","AtrcPrefix","timer","_props$className","_props$renderToggle","_props$renderContent","_props$width","width","defaultProps","isInsideCurrent","element","id","handleMouseLeave","setTimeout","document","addEventListener","setDropdownToggle","removeEventListener","clearTimeout","_ref","variant","onMouseEnter","onMouseLeave","_ref2","_default","exports"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/dropdown-hover/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { useRef, useEffect, useState } from '@wordpress/element';\r\n\r\nimport { useInstanceId, useMergeRefs } from '@wordpress/compose';\r\n\r\nimport { Popover } from '@wordpress/components';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local components and functions*/\r\nfunction useObservableState(initialState, onStateChange) {\r\n\tconst [state, setState] = useState(initialState);\r\n\treturn [\r\n\t\tstate,\r\n\t\t(value) => {\r\n\t\t\tsetState(value);\r\n\t\t\tif (onStateChange) {\r\n\t\t\t\tonStateChange(value);\r\n\t\t\t}\r\n\t\t},\r\n\t];\r\n}\r\n\r\nfunction Dropdown(props) {\r\n\tconst {\r\n\t\trenderContent,\r\n\t\trenderToggle,\r\n\t\tclassName,\r\n\t\tcontentClassName,\r\n\t\texpandOnMobile,\r\n\t\theaderTitle,\r\n\t\tfocusOnMount,\r\n\t\tposition,\r\n\t\tpopoverProps,\r\n\t\tonClose,\r\n\t\tonToggle,\r\n\t\tstyle,\r\n\t} = props;\r\n\t// Use internal state instead of a ref to make sure that the component\r\n\t// re-renders when the popover's anchor updates.\r\n\tconst [fallbackPopoverAnchor, setFallbackPopoverAnchor] = useState(null);\r\n\tconst containerRef = useRef();\r\n\tconst [isOpen, setIsOpen] = useObservableState(false, onToggle);\r\n\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tif (onToggle && isOpen) {\r\n\t\t\t\tonToggle(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[onToggle, isOpen]\r\n\t);\r\n\r\n\tfunction toggle(tog = null) {\r\n\t\tif (tog !== null) {\r\n\t\t\tsetIsOpen(tog);\r\n\t\t} else {\r\n\t\t\tsetIsOpen(!isOpen);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Closes the popover when focus leaves it unless the toggle was pressed or\r\n\t * focus has moved to a separate dialog. The former is to let the toggle\r\n\t * handle closing the popover and the latter is to preserve presence in\r\n\t * case a dialog has opened, allowing focus to return when it's dismissed.\r\n\t */\r\n\tfunction closeIfFocusOutside() {\r\n\t\tconst { ownerDocument } = containerRef.current;\r\n\t\tconst dialog = ownerDocument.activeElement.closest('[role=\"dialog\"]');\r\n\t\tif (\r\n\t\t\t!containerRef.current.contains(ownerDocument.activeElement) &&\r\n\t\t\t(!dialog || dialog.contains(containerRef.current))\r\n\t\t) {\r\n\t\t\tclose();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction close() {\r\n\t\tif (onClose) {\r\n\t\t\tonClose();\r\n\t\t}\r\n\t\tsetIsOpen(false);\r\n\t}\r\n\r\n\tconst args = { isOpen, onToggle: toggle, onClose: close };\r\n\tconst popoverPropsHaveAnchor =\r\n\t\t!!popoverProps?.anchor ||\r\n\t\t// Note: `anchorRef`, `getAnchorRect` and `anchorRect` are deprecated and\r\n\t\t// be removed from `Popover` from WordPress 6.3\r\n\t\t!!popoverProps?.anchorRef ||\r\n\t\t!!popoverProps?.getAnchorRect ||\r\n\t\t!!popoverProps?.anchorRect;\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName={classnames('components-dropdown', className)}\r\n\t\t\tref={useMergeRefs([setFallbackPopoverAnchor, containerRef])}\r\n\t\t\t// Some UAs focus the closest focusable parent when the toggle is\r\n\t\t\t// clicked. Making this div focusable ensures such UAs will focus\r\n\t\t\t// it and `closeIfFocusOutside` can tell if the toggle was clicked.\r\n\t\t\ttabIndex='-1'\r\n\t\t\tstyle={style}>\r\n\t\t\t{renderToggle(args)}\r\n\t\t\t{isOpen && (\r\n\t\t\t\t<Popover\r\n\t\t\t\t\tposition={position}\r\n\t\t\t\t\tonClose={close}\r\n\t\t\t\t\tonFocusOutside={closeIfFocusOutside}\r\n\t\t\t\t\texpandOnMobile={expandOnMobile}\r\n\t\t\t\t\theaderTitle={headerTitle}\r\n\t\t\t\t\tfocusOnMount={focusOnMount}\r\n\t\t\t\t\t// This value is used to ensure that the dropdowns\r\n\t\t\t\t\t// align with the editor header by default.\r\n\t\t\t\t\toffset={13}\r\n\t\t\t\t\tanchor={!popoverPropsHaveAnchor ? fallbackPopoverAnchor : undefined}\r\n\t\t\t\t\t{...popoverProps}\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t'components-dropdown__content',\r\n\t\t\t\t\t\tpopoverProps ? popoverProps.className : undefined,\r\n\t\t\t\t\t\tcontentClassName\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t{renderContent(args)}\r\n\t\t\t\t</Popover>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst AtrcDropdownHover = (props) => {\r\n\tconst instanceId = useInstanceId(\r\n\t\tAtrcDropdownHover,\r\n\t\tAtrcPrefix('ctrl-dropdown-hover')\r\n\t);\r\n\r\n\tlet timer;\r\n\tconst {\r\n\t\tclassName = '',\r\n\t\trenderToggle = '',\r\n\t\trenderContent = '',\r\n\t\twidth = '300px',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tfunction isInsideCurrent(element) {\r\n\t\tif (element.id === instanceId) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn element.closest('#' + instanceId);\r\n\t}\r\n\r\n\tfunction handleMouseLeave(onToggle, e) {\r\n\t\ttimer = setTimeout(() => {\r\n\t\t\tdocument.addEventListener('mousemove', setDropdownToggle, false);\r\n\t\t\tfunction setDropdownToggle(e) {\r\n\t\t\t\tif (!isInsideCurrent(e.target)) {\r\n\t\t\t\t\tonToggle(false);\r\n\t\t\t\t}\r\n\t\t\t\tdocument.removeEventListener('mousemove', setDropdownToggle, false);\r\n\t\t\t}\r\n\t\t}, 300);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tif (timer) {\r\n\t\t\t\tclearTimeout(timer);\r\n\t\t\t}\r\n\t\t};\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Dropdown\r\n\t\t\tclassName={classnames(AtrcPrefix('dropdown-hover'), className)}\r\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tvariant='render-toggle'\r\n\t\t\t\t\tonMouseEnter={() => onToggle(true)}\r\n\t\t\t\t\tonMouseLeave={(e) => handleMouseLeave(onToggle, e)}\r\n\t\t\t\t\taria-expanded={isOpen}>\r\n\t\t\t\t\t{renderToggle}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t\trenderContent={({ isOpen, onToggle }) => (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tid={instanceId}\r\n\t\t\t\t\tvariant='dropdown-hover-cont'\r\n\t\t\t\t\tstyle={{ width }}\r\n\t\t\t\t\tonMouseLeave={(e) => handleMouseLeave(onToggle, e)}>\r\n\t\t\t\t\t{renderContent}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AtrcDropdownHover;\r\n"],"mappings":"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"}