{"version":3,"names":["__","sprintf","useMemo","classnames","isArray","isEmpty","map","AtrcToggle","AtrcPanelTools","AtrcPanelRow","AtrcAvailableDevices","AtrcPrefix","getNewVal","value","key","RenderToggle","onChange","allowedDevices","Devices","dev","tab","iDx","on","React","createElement","className","name","label","title","checked","AtrcControlDeviceDisplay","props","variant","defaultProps","setAttr","newVal","type","valueCloned","Object","assign","DisplayTabs","hasValue","onDeselect","_extends","resetAll","tools","activeItems"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-device-display/index.js"],"sourcesContent":["/*Attributes Structure\r\nType object{\r\n    xs:'',\r\n    sm:'',\r\n    md:'',\r\n    lg:'',\r\n    xl:'',\r\n    xxl:'',\r\n}\r\n**/\r\n\r\n/*WordPress*/\r\nimport { __, sprintf } from '@wordpress/i18n';\r\n\r\nimport { useMemo } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\nimport { isArray, isEmpty, map } from 'lodash';\r\n\r\n/*Inbuilt*/\r\nimport AtrcToggle from '../../atoms/toggle';\r\n\r\nimport AtrcPanelTools from '../panel-tools';\r\nimport AtrcPanelRow from '../panel-row';\r\n\r\n/*Inbuilt Utils*/\r\nimport AtrcAvailableDevices from '../../utils/available-devices';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nconst getNewVal = (value, key) => {\r\n\tif (!value) {\r\n\t\treturn true;\r\n\t}\r\n\treturn !value[key];\r\n};\r\n\r\nconst RenderToggle = ({ value, onChange, allowedDevices }) => {\r\n\tconst Devices = () => {\r\n\t\tif (isArray(allowedDevices)) {\r\n\t\t\treturn allowedDevices;\r\n\t\t}\r\n\t\treturn AtrcAvailableDevices;\r\n\t};\r\n\r\n\tconst dev = Devices();\r\n\r\n\treturn dev.map(function (tab, iDx) {\r\n\t\tif (!tab.on) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<AtrcPanelRow\r\n\t\t\t\tclassName={classnames('at-m')}\r\n\t\t\t\tkey={iDx}>\r\n\t\t\t\t<AtrcToggle\r\n\t\t\t\t\tkey={tab.name}\r\n\t\t\t\t\tlabel={sprintf(\r\n\t\t\t\t\t\t// translators: %s: placeholder for title\r\n\t\t\t\t\t\t__('Hide on %s.', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\ttab.title\r\n\t\t\t\t\t)}\r\n\t\t\t\t\tchecked={value && value[tab.name]}\r\n\t\t\t\t\tonChange={() => onChange(getNewVal(value, tab.name), tab.name)}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t);\r\n\t});\r\n};\r\n\r\nconst AtrcControlDeviceDisplay = (props) => {\r\n\tconst {\r\n\t\tlabel = '',\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\tvalue = {},\r\n\t\tonChange = () => {},\r\n\t\tallowedDevices = true,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst setAttr = (newVal, type) => {\r\n\t\tconst valueCloned = Object.assign({}, value);\r\n\t\tvalueCloned[type] = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst DisplayTabs = useMemo(() => {\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tname: 'display',\r\n\t\t\t\ttitle: label,\r\n\t\t\t\thasValue: !isEmpty(value),\r\n\t\t\t\tonDeselect: () => onChange({}),\r\n\t\t\t},\r\n\t\t];\r\n\t}, []);\r\n\r\n\t/* Return null since no device */\r\n\tif (!allowedDevices) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelTools\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-device-d'),\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-device-d') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\tlabel={label}\r\n\t\t\tresetAll={() => onChange({})}\r\n\t\t\ttools={DisplayTabs}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{(activeItems) =>\r\n\t\t\t\tmap(activeItems, (tab, iDx) => (\r\n\t\t\t\t\t<RenderToggle\r\n\t\t\t\t\t\tkey={iDx}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonChange={setAttr}\r\n\t\t\t\t\t\tallowedDevices={allowedDevices}\r\n\t\t\t\t\t/>\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</AtrcPanelTools>\r\n\t);\r\n};\r\nexport default AtrcControlDeviceDisplay;\r\n"],"mappings":"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"}