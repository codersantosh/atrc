{"version":3,"names":["_i18n","require","_components","_element","_classnames","_interopRequireDefault","_wrap","_label","_resetButtonIcon","_dropdown","_controlColorGradient","_prefixVars","_excluded","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_toPrimitive","_typeof","String","Symbol","toPrimitive","TypeError","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","AtrcControlDropdownColorGradientAllowedKeys","exports","ColorIndicatorValue","cl","grd","RenderControl","props","_props$onChange","onChange","_props$variant","variant","_props$className","className","defaultProps","localValues","useRef","current","changeHandler","setColorAttr","newVal","type","React","createElement","classnames","AtrcPrefix","renderToggle","_ref","isOpen","onToggle","onClick","ColorIndicator","colorValue","__","renderContent","enableAlpha","gradientValue","label","onColorChange","newValue","onGradientChange","AtrcControlDropdownColorGradient","_props$allowReset","allowReset","_props$value","_props$defaultValue","defaultValue","_default"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-dropdown-color-gradient/index.js"],"sourcesContent":["/*Value Structure\r\nType object\r\n{\r\ncl:'',\r\ngrd:'',\r\n}\r\n\r\n**/\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { ColorIndicator } from '@wordpress/components';\r\n\r\n// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcResetButtonIcon from '../../atoms/reset-button-icon';\r\n\r\nimport AtrcDropdown from '../dropdown';\r\nimport AtrcColorGradientControl from '../control-color-gradient';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nexport const AtrcControlDropdownColorGradientAllowedKeys = ['cl', 'grd'];\r\n\r\nconst ColorIndicatorValue = (value) => {\r\n\tif (!value) {\r\n\t\treturn null;\r\n\t}\r\n\tif (value.cl) {\r\n\t\treturn value.cl;\r\n\t}\r\n\tif (value.grd) {\r\n\t\treturn value.grd;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nconst RenderControl = (props) => {\r\n\t// Shouldn't be needed but right now the ColorGradientsPanel\r\n\t// can trigger both onChangeColor and onChangeBackground\r\n\t// synchronously causing our two callbacks to override changes\r\n\t// from each other.\r\n\r\n\tconst {\r\n\t\tonChange = () => {},\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst localValues = useRef(props.value);\r\n\tconst value = localValues.current;\r\n\r\n\tconst changeHandler = () => {\r\n\t\tonChange(localValues.current);\r\n\t};\r\n\r\n\tconst setColorAttr = (newVal, type) => {\r\n\t\tlocalValues.current = {\r\n\t\t\t...localValues.current,\r\n\t\t\t...{\r\n\t\t\t\t[type]: newVal,\r\n\t\t\t},\r\n\t\t};\r\n\t\tchangeHandler();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcDropdown\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-dropdown-cl-grd'),\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-dropdown-cl-grd') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName='at-flx at-al-itm-ctr at-gap'\r\n\t\t\t\t\tonClick={onToggle}>\r\n\t\t\t\t\t<ColorIndicator\r\n\t\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\r\n\t\t\t\t\t\tcolorValue={ColorIndicatorValue(props.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AtrcLabel variant='color-picker'>\r\n\t\t\t\t\t\t{__('Color', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t</AtrcLabel>\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t\trenderContent={() => (\r\n\t\t\t\t<AtrcColorGradientControl\r\n\t\t\t\t\tvariant='dropdown'\r\n\t\t\t\t\tenableAlpha\r\n\t\t\t\t\tcolorValue={value && value.cl}\r\n\t\t\t\t\tgradientValue={value && value.grd}\r\n\t\t\t\t\tlabel={__('Color')}\r\n\t\t\t\t\tonColorChange={(newValue) => setColorAttr(newValue, 'cl')}\r\n\t\t\t\t\tonGradientChange={(newValue) => setColorAttr(newValue, 'grd')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcControlDropdownColorGradient = (props) => {\r\n\tconst { allowReset = true, value = {}, defaultValue = {}, onChange } = props;\r\n\r\n\tif (allowReset) {\r\n\t\treturn (\r\n\t\t\t<AtrcWrap className='at-flx at-al-itm-ctr at-jfy-cont-btw'>\r\n\t\t\t\t<RenderControl {...props} />\r\n\t\t\t\t<AtrcResetButtonIcon\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonClick={() => onChange({})}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcWrap>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <RenderControl {...props} />;\r\n};\r\nexport default AtrcControlDropdownColorGradient;\r\n"],"mappings":"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"}