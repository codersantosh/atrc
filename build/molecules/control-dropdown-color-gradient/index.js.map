{"version":3,"names":["__","ColorIndicator","useRef","classnames","AtrcWrap","AtrcLabel","AtrcResetButtonIcon","AtrcDropdown","AtrcColorGradientControl","AtrcPrefix","AtrcControlDropdownColorGradientAllowedKeys","ColorIndicatorValue","value","cl","grd","RenderControl","props","onChange","variant","className","defaultProps","localValues","current","changeHandler","setColorAttr","newVal","type","React","createElement","_extends","renderToggle","isOpen","onToggle","onClick","colorValue","renderContent","enableAlpha","gradientValue","label","onColorChange","newValue","onGradientChange","AtrcControlDropdownColorGradient","allowReset","defaultValue"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-dropdown-color-gradient/index.js"],"sourcesContent":["/*Value Structure\r\nType object\r\n{\r\ncl:'',\r\ngrd:'',\r\n}\r\n\r\n**/\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { ColorIndicator } from '@wordpress/components';\r\n\r\n// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcResetButtonIcon from '../../atoms/reset-button-icon';\r\n\r\nimport AtrcDropdown from '../dropdown';\r\nimport AtrcColorGradientControl from '../control-color-gradient';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nexport const AtrcControlDropdownColorGradientAllowedKeys = ['cl', 'grd'];\r\n\r\nconst ColorIndicatorValue = (value) => {\r\n\tif (!value) {\r\n\t\treturn null;\r\n\t}\r\n\tif (value.cl) {\r\n\t\treturn value.cl;\r\n\t}\r\n\tif (value.grd) {\r\n\t\treturn value.grd;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nconst RenderControl = (props) => {\r\n\t// Shouldn't be needed but right now the ColorGradientsPanel\r\n\t// can trigger both onChangeColor and onChangeBackground\r\n\t// synchronously causing our two callbacks to override changes\r\n\t// from each other.\r\n\r\n\tconst {\r\n\t\tonChange = () => {},\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst localValues = useRef(props.value);\r\n\tconst value = localValues.current;\r\n\r\n\tconst changeHandler = () => {\r\n\t\tonChange(localValues.current);\r\n\t};\r\n\r\n\tconst setColorAttr = (newVal, type) => {\r\n\t\tlocalValues.current = {\r\n\t\t\t...localValues.current,\r\n\t\t\t...{\r\n\t\t\t\t[type]: newVal,\r\n\t\t\t},\r\n\t\t};\r\n\t\tchangeHandler();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcDropdown\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-dropdown-cl-grd'),\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-dropdown-cl-grd') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName='at-flx at-al-itm-ctr at-gap'\r\n\t\t\t\t\tonClick={onToggle}>\r\n\t\t\t\t\t<ColorIndicator\r\n\t\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\r\n\t\t\t\t\t\tcolorValue={ColorIndicatorValue(props.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AtrcLabel variant='color-picker'>\r\n\t\t\t\t\t\t{__('Color', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t</AtrcLabel>\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t\trenderContent={() => (\r\n\t\t\t\t<AtrcColorGradientControl\r\n\t\t\t\t\tvariant='dropdown'\r\n\t\t\t\t\tenableAlpha\r\n\t\t\t\t\tcolorValue={value && value.cl}\r\n\t\t\t\t\tgradientValue={value && value.grd}\r\n\t\t\t\t\tlabel={__('Color')}\r\n\t\t\t\t\tonColorChange={(newValue) => setColorAttr(newValue, 'cl')}\r\n\t\t\t\t\tonGradientChange={(newValue) => setColorAttr(newValue, 'grd')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcControlDropdownColorGradient = (props) => {\r\n\tconst { allowReset = true, value = {}, defaultValue = {}, onChange } = props;\r\n\r\n\tif (allowReset) {\r\n\t\treturn (\r\n\t\t\t<AtrcWrap className='at-flx at-al-itm-ctr at-jfy-cont-btw'>\r\n\t\t\t\t<RenderControl {...props} />\r\n\t\t\t\t<AtrcResetButtonIcon\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonClick={() => onChange({})}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcWrap>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <RenderControl {...props} />;\r\n};\r\nexport default AtrcControlDropdownColorGradient;\r\n"],"mappings":"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"}