{"version":3,"names":["__","ColorIndicator","useRef","classnames","AtrcWrap","AtrcLabel","AtrcResetButtonIcon","AtrcDropdown","AtrcColorGradientControl","AtrcPrefix","AtrcControlDropdownColorGradientAllowedKeys","ColorIndicatorValue","value","cl","grd","RenderControl","props","_props$onChange","onChange","_props$variant","variant","_props$className","className","defaultProps","_objectWithoutProperties","_excluded","localValues","current","changeHandler","setColorAttr","newVal","type","_objectSpread","_defineProperty","React","createElement","_extends","renderToggle","_ref","isOpen","onToggle","onClick","colorValue","renderContent","enableAlpha","gradientValue","label","onColorChange","newValue","onGradientChange","AtrcControlDropdownColorGradient","_props$allowReset","allowReset","_props$value","_props$defaultValue","defaultValue"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-dropdown-color-gradient/index.js"],"sourcesContent":["/*Value Structure\r\nType object\r\n{\r\ncl:'',\r\ngrd:'',\r\n}\r\n\r\n**/\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { ColorIndicator } from '@wordpress/components';\r\n\r\n// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\nimport { useRef } from '@wordpress/element';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcResetButtonIcon from '../../atoms/reset-button-icon';\r\n\r\nimport AtrcDropdown from '../dropdown';\r\nimport AtrcColorGradientControl from '../control-color-gradient';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nexport const AtrcControlDropdownColorGradientAllowedKeys = ['cl', 'grd'];\r\n\r\nconst ColorIndicatorValue = (value) => {\r\n\tif (!value) {\r\n\t\treturn null;\r\n\t}\r\n\tif (value.cl) {\r\n\t\treturn value.cl;\r\n\t}\r\n\tif (value.grd) {\r\n\t\treturn value.grd;\r\n\t}\r\n\treturn null;\r\n};\r\n\r\nconst RenderControl = (props) => {\r\n\t// Shouldn't be needed but right now the ColorGradientsPanel\r\n\t// can trigger both onChangeColor and onChangeBackground\r\n\t// synchronously causing our two callbacks to override changes\r\n\t// from each other.\r\n\r\n\tconst {\r\n\t\tonChange = () => {},\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst localValues = useRef(props.value);\r\n\tconst value = localValues.current;\r\n\r\n\tconst changeHandler = () => {\r\n\t\tonChange(localValues.current);\r\n\t};\r\n\r\n\tconst setColorAttr = (newVal, type) => {\r\n\t\tlocalValues.current = {\r\n\t\t\t...localValues.current,\r\n\t\t\t...{\r\n\t\t\t\t[type]: newVal,\r\n\t\t\t},\r\n\t\t};\r\n\t\tchangeHandler();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcDropdown\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-dropdown-cl-grd'),\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-dropdown-cl-grd') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\trenderToggle={({ isOpen, onToggle }) => (\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName='at-flx at-al-itm-ctr at-gap'\r\n\t\t\t\t\tonClick={onToggle}>\r\n\t\t\t\t\t<ColorIndicator\r\n\t\t\t\t\t\t// eslint-disable-next-line no-nested-ternary\r\n\t\t\t\t\t\tcolorValue={ColorIndicatorValue(props.value)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AtrcLabel variant='color-picker'>\r\n\t\t\t\t\t\t{__('Color', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t</AtrcLabel>\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t)}\r\n\t\t\trenderContent={() => (\r\n\t\t\t\t<AtrcColorGradientControl\r\n\t\t\t\t\tvariant='dropdown'\r\n\t\t\t\t\tenableAlpha\r\n\t\t\t\t\tcolorValue={value && value.cl}\r\n\t\t\t\t\tgradientValue={value && value.grd}\r\n\t\t\t\t\tlabel={__('Color')}\r\n\t\t\t\t\tonColorChange={(newValue) => setColorAttr(newValue, 'cl')}\r\n\t\t\t\t\tonGradientChange={(newValue) => setColorAttr(newValue, 'grd')}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcControlDropdownColorGradient = (props) => {\r\n\tconst { allowReset = true, value = {}, defaultValue = {}, onChange } = props;\r\n\r\n\tif (allowReset) {\r\n\t\treturn (\r\n\t\t\t<AtrcWrap className='at-flx at-al-itm-ctr at-jfy-cont-btw'>\r\n\t\t\t\t<RenderControl {...props} />\r\n\t\t\t\t<AtrcResetButtonIcon\r\n\t\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonClick={() => onChange({})}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcWrap>\r\n\t\t);\r\n\t}\r\n\r\n\treturn <RenderControl {...props} />;\r\n};\r\nexport default AtrcControlDropdownColorGradient;\r\n"],"mappings":"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"}