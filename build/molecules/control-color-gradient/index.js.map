{"version":3,"names":["_classnames","_interopRequireDefault","require","_lodash","_components","_useColors","_prefixVars","obj","__esModule","default","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","key","value","_toPropertyKey","configurable","writable","i","_toPrimitive","String","toPrimitive","call","TypeError","Number","colorsAndGradientKeys","TAB_COLOR","name","title","TAB_GRADIENT","TABS_SETTINGS","ColorGradientControlInner","_ref","colors","gradients","disableCustomColors","disableCustomGradients","__experimentalIsRenderedInSidebar","className","label","onColorChange","onGradientChange","colorValue","gradientValue","clearable","_ref$showTitle","showTitle","enableAlpha","headingLevel","_ref$variant","variant","canChooseAColor","isEmpty","canChooseAGradient","tabPanels","React","createElement","ColorPalette","onChange","newColor","GradientPicker","__nextHasNoMargin","newGradient","renderPanelType","type","BaseControl","__nextHasNoMarginBottom","classnames","AtrcPrefix","__experimentalVStack","spacing","VisualLabel","TabPanel","tabs","initialTabName","tab","ColorGradientControlSelect","props","colorGradientSettings","_AtrcUseColors","AtrcUseColors","allSolids","allGradients","AtrcColorGradientControl","every","hasOwnProperty","_default","exports"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-color-gradient/index.js"],"sourcesContent":["/* Library */\r\nimport classnames from 'classnames';\r\nimport { isEmpty } from 'lodash';\r\n\r\n/* WordPress */\r\nimport {\r\n\tBaseControl,\r\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\n\t__experimentalVStack as VStack,\r\n\tTabPanel,\r\n\tColorPalette,\r\n\tGradientPicker,\r\n} from '@wordpress/components';\r\n\r\n/* Internal */\r\nimport AtrcUseColors from '../../utils/use-colors';\r\n\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Local */\r\nconst colorsAndGradientKeys = [\r\n\t'colors',\r\n\t'disableCustomColors',\r\n\t'gradients',\r\n\t'disableCustomGradients',\r\n];\r\n\r\nconst TAB_COLOR = {\r\n\tname: 'color',\r\n\ttitle: 'Solid',\r\n\tvalue: 'color',\r\n};\r\nconst TAB_GRADIENT = {\r\n\tname: 'gradient',\r\n\ttitle: 'Gradient',\r\n\tvalue: 'gradient',\r\n};\r\n\r\nconst TABS_SETTINGS = [TAB_COLOR, TAB_GRADIENT];\r\n\r\nfunction ColorGradientControlInner({\r\n\tcolors,\r\n\tgradients,\r\n\tdisableCustomColors,\r\n\tdisableCustomGradients,\r\n\t__experimentalIsRenderedInSidebar,\r\n\tclassName,\r\n\tlabel,\r\n\tonColorChange,\r\n\tonGradientChange,\r\n\tcolorValue,\r\n\tgradientValue,\r\n\tclearable,\r\n\tshowTitle = true,\r\n\tenableAlpha,\r\n\theadingLevel,\r\n\tvariant = '',\r\n}) {\r\n\tconst canChooseAColor =\r\n\t\tonColorChange && (!isEmpty(colors) || !disableCustomColors);\r\n\tconst canChooseAGradient =\r\n\t\tonGradientChange && (!isEmpty(gradients) || !disableCustomGradients);\r\n\r\n\tif (!canChooseAColor && !canChooseAGradient) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst tabPanels = {\r\n\t\t[TAB_COLOR.value]: (\r\n\t\t\t<ColorPalette\r\n\t\t\t\tvalue={colorValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAGradient\r\n\t\t\t\t\t\t? (newColor) => {\r\n\t\t\t\t\t\t\t\tonColorChange(newColor);\r\n\t\t\t\t\t\t\t\tonGradientChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t: onColorChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ colors, disableCustomColors }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\tenableAlpha={enableAlpha}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t\t[TAB_GRADIENT.value]: (\r\n\t\t\t<GradientPicker\r\n\t\t\t\t__nextHasNoMargin\r\n\t\t\t\tvalue={gradientValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAColor\r\n\t\t\t\t\t\t? (newGradient) => {\r\n\t\t\t\t\t\t\t\tonGradientChange(newGradient);\r\n\t\t\t\t\t\t\t\tonColorChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t: onGradientChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ gradients, disableCustomGradients }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t};\r\n\r\n\tconst renderPanelType = (type) => (\r\n\t\t<div className='blk-ed-cl-grd-ctrl__pnl'>{tabPanels[type]}</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BaseControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'blk-ed-cl-grd-ctrl',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('cl-grd') + '-' + variant : ''\r\n\t\t\t)}>\r\n\t\t\t<fieldset className='blk-ed-cl-grd-ctrl__fieldset'>\r\n\t\t\t\t<VStack spacing={1}>\r\n\t\t\t\t\t{showTitle && (\r\n\t\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t\t<div className='blk-ed-cl-grd-ctrl__cl-ind'>\r\n\t\t\t\t\t\t\t\t<BaseControl.VisualLabel>{label}</BaseControl.VisualLabel>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{canChooseAColor && canChooseAGradient && (\r\n\t\t\t\t\t\t<TabPanel\r\n\t\t\t\t\t\t\tclassName='blk-ed-cl-grd-control__tabs'\r\n\t\t\t\t\t\t\ttabs={TABS_SETTINGS}\r\n\t\t\t\t\t\t\tinitialTabName={\r\n\t\t\t\t\t\t\t\tgradientValue\r\n\t\t\t\t\t\t\t\t\t? TAB_GRADIENT.value\r\n\t\t\t\t\t\t\t\t\t: !!canChooseAColor && TAB_COLOR.value\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{(tab) => renderPanelType(tab.value)}\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!canChooseAGradient && renderPanelType(TAB_COLOR.value)}\r\n\t\t\t\t\t{!canChooseAColor && renderPanelType(TAB_GRADIENT.value)}\r\n\t\t\t\t</VStack>\r\n\t\t\t</fieldset>\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n\r\nfunction ColorGradientControlSelect(props) {\r\n\tconst colorGradientSettings = {};\r\n\tconst { allSolids, allGradients } = AtrcUseColors();\r\n\r\n\tcolorGradientSettings.colors = allSolids;\r\n\tcolorGradientSettings.gradients = allGradients;\r\n\tcolorGradientSettings.disableCustomColors =\r\n\t\tprops.disableCustomColors || false;\r\n\tcolorGradientSettings.disableCustomGradients =\r\n\t\tprops.disableCustomGradients || false;\r\n\r\n\treturn (\r\n\t\t<ColorGradientControlInner {...{ ...colorGradientSettings, ...props }} />\r\n\t);\r\n}\r\n\r\nfunction AtrcColorGradientControl(props) {\r\n\tif (\r\n\t\tcolorsAndGradientKeys.every((key) =>\r\n\t\t\tObject.prototype.hasOwnProperty.call(props, key)\r\n\t\t)\r\n\t) {\r\n\t\treturn <ColorGradientControlInner {...props} />;\r\n\t}\r\n\treturn <ColorGradientControlSelect {...props} />;\r\n}\r\n\r\nexport default AtrcColorGradientControl;\r\n"],"mappings":";;;;;;AACA,IAAAA,WAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAD,OAAA;AAGA,IAAAE,WAAA,GAAAF,OAAA;AAUA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,WAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,CAAA,kBAAAA,CAAA,gBAAAA,CAAA,WAAAA,CAAA,yBAAAC,MAAA,IAAAD,CAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,CAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,CAAA,KAAAD,OAAA,CAAAC,CAAA;AAAA,SAAAK,QAAAC,CAAA,EAAAC,CAAA,QAAAC,CAAA,GAAAC,MAAA,CAAAC,IAAA,CAAAJ,CAAA,OAAAG,MAAA,CAAAE,qBAAA,QAAAX,CAAA,GAAAS,MAAA,CAAAE,qBAAA,CAAAL,CAAA,GAAAC,CAAA,KAAAP,CAAA,GAAAA,CAAA,CAAAY,MAAA,WAAAL,CAAA,WAAAE,MAAA,CAAAI,wBAAA,CAAAP,CAAA,EAAAC,CAAA,EAAAO,UAAA,OAAAN,CAAA,CAAAO,IAAA,CAAAC,KAAA,CAAAR,CAAA,EAAAR,CAAA,YAAAQ,CAAA;AAAA,SAAAS,cAAAX,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAW,SAAA,CAAAC,MAAA,EAAAZ,CAAA,UAAAC,CAAA,WAAAU,SAAA,CAAAX,CAAA,IAAAW,SAAA,CAAAX,CAAA,QAAAA,CAAA,OAAAF,OAAA,CAAAI,MAAA,CAAAD,CAAA,OAAAY,OAAA,WAAAb,CAAA,IAAAc,eAAA,CAAAf,CAAA,EAAAC,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAE,MAAA,CAAAa,yBAAA,GAAAb,MAAA,CAAAc,gBAAA,CAAAjB,CAAA,EAAAG,MAAA,CAAAa,yBAAA,CAAAd,CAAA,KAAAH,OAAA,CAAAI,MAAA,CAAAD,CAAA,GAAAY,OAAA,WAAAb,CAAA,IAAAE,MAAA,CAAAe,cAAA,CAAAlB,CAAA,EAAAC,CAAA,EAAAE,MAAA,CAAAI,wBAAA,CAAAL,CAAA,EAAAD,CAAA,iBAAAD,CAAA;AAAA,SAAAe,gBAAAzB,GAAA,EAAA6B,GAAA,EAAAC,KAAA,IAAAD,GAAA,GAAAE,cAAA,CAAAF,GAAA,OAAAA,GAAA,IAAA7B,GAAA,IAAAa,MAAA,CAAAe,cAAA,CAAA5B,GAAA,EAAA6B,GAAA,IAAAC,KAAA,EAAAA,KAAA,EAAAZ,UAAA,QAAAc,YAAA,QAAAC,QAAA,oBAAAjC,GAAA,CAAA6B,GAAA,IAAAC,KAAA,WAAA9B,GAAA;AAAA,SAAA+B,eAAAnB,CAAA,QAAAsB,CAAA,GAAAC,YAAA,CAAAvB,CAAA,gCAAAT,OAAA,CAAA+B,CAAA,IAAAA,CAAA,GAAAE,MAAA,CAAAF,CAAA;AAAA,SAAAC,aAAAvB,CAAA,EAAAD,CAAA,oBAAAR,OAAA,CAAAS,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAP,MAAA,CAAAgC,WAAA,kBAAA3B,CAAA,QAAAwB,CAAA,GAAAxB,CAAA,CAAA4B,IAAA,CAAA1B,CAAA,EAAAD,CAAA,gCAAAR,OAAA,CAAA+B,CAAA,UAAAA,CAAA,YAAAK,SAAA,yEAAA5B,CAAA,GAAAyB,MAAA,GAAAI,MAAA,EAAA5B,CAAA,KAjB3C,cAIA,gBAUA;AAKA;AACA,IAAM6B,qBAAqB,GAAG,CAC7B,QAAQ,EACR,qBAAqB,EACrB,WAAW,EACX,wBAAwB,CACxB;AAED,IAAMC,SAAS,GAAG;EACjBC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE,OAAO;EACdd,KAAK,EAAE;AACR,CAAC;AACD,IAAMe,YAAY,GAAG;EACpBF,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,UAAU;EACjBd,KAAK,EAAE;AACR,CAAC;AAED,IAAMgB,aAAa,GAAG,CAACJ,SAAS,EAAEG,YAAY,CAAC;AAE/C,SAASE,yBAAyBA,CAAAC,IAAA,EAiB/B;EAAA,IAhBFC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,SAAS,GAAAF,IAAA,CAATE,SAAS;IACTC,mBAAmB,GAAAH,IAAA,CAAnBG,mBAAmB;IACnBC,sBAAsB,GAAAJ,IAAA,CAAtBI,sBAAsB;IACtBC,iCAAiC,GAAAL,IAAA,CAAjCK,iCAAiC;IACjCC,SAAS,GAAAN,IAAA,CAATM,SAAS;IACTC,KAAK,GAAAP,IAAA,CAALO,KAAK;IACLC,aAAa,GAAAR,IAAA,CAAbQ,aAAa;IACbC,gBAAgB,GAAAT,IAAA,CAAhBS,gBAAgB;IAChBC,UAAU,GAAAV,IAAA,CAAVU,UAAU;IACVC,aAAa,GAAAX,IAAA,CAAbW,aAAa;IACbC,SAAS,GAAAZ,IAAA,CAATY,SAAS;IAAAC,cAAA,GAAAb,IAAA,CACTc,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,IAAI,GAAAA,cAAA;IAChBE,WAAW,GAAAf,IAAA,CAAXe,WAAW;IACXC,YAAY,GAAAhB,IAAA,CAAZgB,YAAY;IAAAC,YAAA,GAAAjB,IAAA,CACZkB,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;EAEZ,IAAME,eAAe,GACpBX,aAAa,KAAK,CAAC,IAAAY,eAAO,EAACnB,MAAM,CAAC,IAAI,CAACE,mBAAmB,CAAC;EAC5D,IAAMkB,kBAAkB,GACvBZ,gBAAgB,KAAK,CAAC,IAAAW,eAAO,EAAClB,SAAS,CAAC,IAAI,CAACE,sBAAsB,CAAC;EAErE,IAAI,CAACe,eAAe,IAAI,CAACE,kBAAkB,EAAE;IAC5C,OAAO,IAAI;EACZ;EAEA,IAAMC,SAAS,GAAA7C,eAAA,CAAAA,eAAA,KACbiB,SAAS,CAACZ,KAAK,eACfyC,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAA4E,YAAY;IACZ3C,KAAK,EAAE4B,UAAW;IAClBgB,QAAQ,EACPL,kBAAkB,GACf,UAACM,QAAQ,EAAK;MACdnB,aAAa,CAACmB,QAAQ,CAAC;MACvBlB,gBAAgB,CAAC,CAAC;IACnB,CAAC,GACAD,aACH;IACKP,MAAM,EAANA,MAAM;IAAEE,mBAAmB,EAAnBA,mBAAmB;IACjCE,iCAAiC,EAAEA,iCAAkC;IACrEO,SAAS,EAAEA,SAAU;IACrBG,WAAW,EAAEA,WAAY;IACzBC,YAAY,EAAEA;EAAa,CAC3B,CAAC,GAEFnB,YAAY,CAACf,KAAK,eAClByC,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAA+E,cAAc;IACdC,iBAAiB;IACjB/C,KAAK,EAAE6B,aAAc;IACrBe,QAAQ,EACPP,eAAe,GACZ,UAACW,WAAW,EAAK;MACjBrB,gBAAgB,CAACqB,WAAW,CAAC;MAC7BtB,aAAa,CAAC,CAAC;IAChB,CAAC,GACAC,gBACH;IACKP,SAAS,EAATA,SAAS;IAAEE,sBAAsB,EAAtBA,sBAAsB;IACvCC,iCAAiC,EAAEA,iCAAkC;IACrEO,SAAS,EAAEA,SAAU;IACrBI,YAAY,EAAEA;EAAa,CAC3B,CAAC,CAEH;EAED,IAAMe,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,IAAI;IAAA,oBAC5BT,KAAA,CAAAC,aAAA;MAAKlB,SAAS,EAAC;IAAyB,GAAEgB,SAAS,CAACU,IAAI,CAAO,CAAC;EAAA,CAChE;EAED,oBACCT,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAAoF,WAAW;IACXC,uBAAuB;IACvB5B,SAAS,EAAE,IAAA6B,mBAAU,EACpB,oBAAoB,EACpB7B,SAAS,EACTY,OAAO,GAAG,IAAAkB,mBAAU,EAAC,QAAQ,CAAC,GAAG,GAAG,GAAGlB,OAAO,GAAG,EAClD;EAAE,gBACFK,KAAA,CAAAC,aAAA;IAAUlB,SAAS,EAAC;EAA8B,gBACjDiB,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAAwF,oBAAM;IAACC,OAAO,EAAE;EAAE,GACjBxB,SAAS,iBACTS,KAAA,CAAAC,aAAA,8BACCD,KAAA,CAAAC,aAAA;IAAKlB,SAAS,EAAC;EAA4B,gBAC1CiB,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAAoF,WAAW,CAACM,WAAW,QAAEhC,KAA+B,CACrD,CACE,CACR,EACAY,eAAe,IAAIE,kBAAkB,iBACrCE,KAAA,CAAAC,aAAA,CAAC3E,WAAA,CAAA2F,QAAQ;IACRlC,SAAS,EAAC,6BAA6B;IACvCmC,IAAI,EAAE3C,aAAc;IACpB4C,cAAc,EACb/B,aAAa,GACVd,YAAY,CAACf,KAAK,GAClB,CAAC,CAACqC,eAAe,IAAIzB,SAAS,CAACZ;EAClC,GACA,UAAC6D,GAAG;IAAA,OAAKZ,eAAe,CAACY,GAAG,CAAC7D,KAAK,CAAC;EAAA,CAC3B,CACV,EACA,CAACuC,kBAAkB,IAAIU,eAAe,CAACrC,SAAS,CAACZ,KAAK,CAAC,EACvD,CAACqC,eAAe,IAAIY,eAAe,CAAClC,YAAY,CAACf,KAAK,CAChD,CACC,CACE,CAAC;AAEhB;AAEA,SAAS8D,0BAA0BA,CAACC,KAAK,EAAE;EAC1C,IAAMC,qBAAqB,GAAG,CAAC,CAAC;EAChC,IAAAC,cAAA,GAAoC,IAAAC,kBAAa,EAAC,CAAC;IAA3CC,SAAS,GAAAF,cAAA,CAATE,SAAS;IAAEC,YAAY,GAAAH,cAAA,CAAZG,YAAY;EAE/BJ,qBAAqB,CAAC7C,MAAM,GAAGgD,SAAS;EACxCH,qBAAqB,CAAC5C,SAAS,GAAGgD,YAAY;EAC9CJ,qBAAqB,CAAC3C,mBAAmB,GACxC0C,KAAK,CAAC1C,mBAAmB,IAAI,KAAK;EACnC2C,qBAAqB,CAAC1C,sBAAsB,GAC3CyC,KAAK,CAACzC,sBAAsB,IAAI,KAAK;EAEtC,oBACCmB,KAAA,CAAAC,aAAA,CAACzB,yBAAyB,EAAA1B,aAAA,CAAAA,aAAA,KAAUyE,qBAAqB,GAAKD,KAAK,CAAK,CAAC;AAE3E;AAEA,SAASM,wBAAwBA,CAACN,KAAK,EAAE;EACxC,IACCpD,qBAAqB,CAAC2D,KAAK,CAAC,UAACvE,GAAG;IAAA,OAC/BhB,MAAM,CAACL,SAAS,CAAC6F,cAAc,CAAC/D,IAAI,CAACuD,KAAK,EAAEhE,GAAG,CAAC;EAAA,CACjD,CAAC,EACA;IACD,oBAAO0C,KAAA,CAAAC,aAAA,CAACzB,yBAAyB,EAAK8C,KAAQ,CAAC;EAChD;EACA,oBAAOtB,KAAA,CAAAC,aAAA,CAACoB,0BAA0B,EAAKC,KAAQ,CAAC;AACjD;AAAC,IAAAS,QAAA,GAAAC,OAAA,CAAArG,OAAA,GAEciG,wBAAwB"}