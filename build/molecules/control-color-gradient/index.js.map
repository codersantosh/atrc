{"version":3,"names":["classnames","isEmpty","BaseControl","__experimentalVStack","VStack","TabPanel","ColorPalette","GradientPicker","AtrcUseColors","AtrcPrefix","colorsAndGradientKeys","TAB_COLOR","name","title","value","TAB_GRADIENT","TABS_SETTINGS","ColorGradientControlInner","colors","gradients","disableCustomColors","disableCustomGradients","__experimentalIsRenderedInSidebar","className","label","onColorChange","onGradientChange","colorValue","gradientValue","clearable","showTitle","enableAlpha","headingLevel","variant","canChooseAColor","canChooseAGradient","tabPanels","React","createElement","onChange","newColor","__nextHasNoMargin","newGradient","renderPanelType","type","__nextHasNoMarginBottom","spacing","VisualLabel","tabs","initialTabName","tab","ColorGradientControlSelect","props","colorGradientSettings","allSolids","allGradients","_extends","AtrcColorGradientControl","every","key","Object","prototype","hasOwnProperty","call"],"sources":["D:/wamp/www/atrc-package/atrc/packages/molecules/control-color-gradient/index.js"],"sourcesContent":["/* Library */\r\nimport classnames from 'classnames';\r\nimport { isEmpty } from 'lodash';\r\n\r\n/* WordPress */\r\nimport {\r\n\tBaseControl,\r\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\n\t__experimentalVStack as VStack,\r\n\tTabPanel,\r\n\tColorPalette,\r\n\tGradientPicker,\r\n} from '@wordpress/components';\r\n\r\n/* Internal */\r\nimport AtrcUseColors from '../../utils/use-colors';\r\n\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Local */\r\nconst colorsAndGradientKeys = [\r\n\t'colors',\r\n\t'disableCustomColors',\r\n\t'gradients',\r\n\t'disableCustomGradients',\r\n];\r\n\r\nconst TAB_COLOR = {\r\n\tname: 'color',\r\n\ttitle: 'Solid',\r\n\tvalue: 'color',\r\n};\r\nconst TAB_GRADIENT = {\r\n\tname: 'gradient',\r\n\ttitle: 'Gradient',\r\n\tvalue: 'gradient',\r\n};\r\n\r\nconst TABS_SETTINGS = [TAB_COLOR, TAB_GRADIENT];\r\n\r\nfunction ColorGradientControlInner({\r\n\tcolors,\r\n\tgradients,\r\n\tdisableCustomColors,\r\n\tdisableCustomGradients,\r\n\t__experimentalIsRenderedInSidebar,\r\n\tclassName,\r\n\tlabel,\r\n\tonColorChange,\r\n\tonGradientChange,\r\n\tcolorValue,\r\n\tgradientValue,\r\n\tclearable,\r\n\tshowTitle = true,\r\n\tenableAlpha,\r\n\theadingLevel,\r\n\tvariant = '',\r\n}) {\r\n\tconst canChooseAColor =\r\n\t\tonColorChange && (!isEmpty(colors) || !disableCustomColors);\r\n\tconst canChooseAGradient =\r\n\t\tonGradientChange && (!isEmpty(gradients) || !disableCustomGradients);\r\n\r\n\tif (!canChooseAColor && !canChooseAGradient) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst tabPanels = {\r\n\t\t[TAB_COLOR.value]: (\r\n\t\t\t<ColorPalette\r\n\t\t\t\tvalue={colorValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAGradient\r\n\t\t\t\t\t\t? (newColor) => {\r\n\t\t\t\t\t\t\t\tonColorChange(newColor);\r\n\t\t\t\t\t\t\t\tonGradientChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t: onColorChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ colors, disableCustomColors }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\tenableAlpha={enableAlpha}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t\t[TAB_GRADIENT.value]: (\r\n\t\t\t<GradientPicker\r\n\t\t\t\t__nextHasNoMargin\r\n\t\t\t\tvalue={gradientValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAColor\r\n\t\t\t\t\t\t? (newGradient) => {\r\n\t\t\t\t\t\t\t\tonGradientChange(newGradient);\r\n\t\t\t\t\t\t\t\tonColorChange();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t: onGradientChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ gradients, disableCustomGradients }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t};\r\n\r\n\tconst renderPanelType = (type) => (\r\n\t\t<div className='blk-ed-cl-grd-ctrl__pnl'>{tabPanels[type]}</div>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<BaseControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'blk-ed-cl-grd-ctrl',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('cl-grd') + '-' + variant : ''\r\n\t\t\t)}>\r\n\t\t\t<fieldset className='blk-ed-cl-grd-ctrl__fieldset'>\r\n\t\t\t\t<VStack spacing={1}>\r\n\t\t\t\t\t{showTitle && (\r\n\t\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t\t<div className='blk-ed-cl-grd-ctrl__cl-ind'>\r\n\t\t\t\t\t\t\t\t<BaseControl.VisualLabel>{label}</BaseControl.VisualLabel>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{canChooseAColor && canChooseAGradient && (\r\n\t\t\t\t\t\t<TabPanel\r\n\t\t\t\t\t\t\tclassName='blk-ed-cl-grd-control__tabs'\r\n\t\t\t\t\t\t\ttabs={TABS_SETTINGS}\r\n\t\t\t\t\t\t\tinitialTabName={\r\n\t\t\t\t\t\t\t\tgradientValue\r\n\t\t\t\t\t\t\t\t\t? TAB_GRADIENT.value\r\n\t\t\t\t\t\t\t\t\t: !!canChooseAColor && TAB_COLOR.value\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{(tab) => renderPanelType(tab.value)}\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!canChooseAGradient && renderPanelType(TAB_COLOR.value)}\r\n\t\t\t\t\t{!canChooseAColor && renderPanelType(TAB_GRADIENT.value)}\r\n\t\t\t\t</VStack>\r\n\t\t\t</fieldset>\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n\r\nfunction ColorGradientControlSelect(props) {\r\n\tconst colorGradientSettings = {};\r\n\tconst { allSolids, allGradients } = AtrcUseColors();\r\n\r\n\tcolorGradientSettings.colors = allSolids;\r\n\tcolorGradientSettings.gradients = allGradients;\r\n\tcolorGradientSettings.disableCustomColors =\r\n\t\tprops.disableCustomColors || false;\r\n\tcolorGradientSettings.disableCustomGradients =\r\n\t\tprops.disableCustomGradients || false;\r\n\r\n\treturn (\r\n\t\t<ColorGradientControlInner {...{ ...colorGradientSettings, ...props }} />\r\n\t);\r\n}\r\n\r\nfunction AtrcColorGradientControl(props) {\r\n\tif (\r\n\t\tcolorsAndGradientKeys.every((key) =>\r\n\t\t\tObject.prototype.hasOwnProperty.call(props, key)\r\n\t\t)\r\n\t) {\r\n\t\treturn <ColorGradientControlInner {...props} />;\r\n\t}\r\n\treturn <ColorGradientControlSelect {...props} />;\r\n}\r\n\r\nexport default AtrcColorGradientControl;\r\n"],"mappings":"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"}