{"version":3,"names":["React","withSelect","withDispatch","AtrcApplyWithSettings","WrappedComponent","select","ownProps","atrcStore","atrcStoreKey","_ownProps$atrcStore","_ownProps$atrcStoreKe","settingsData","getSettings","isLoading","canSave","notices","settings","dispatch","_ownProps$atrcStore2","_ownProps$atrcStoreKe2","saveSettings","data","key","setNotice","updateSetting","val","dataKey","dataVal","deleteSettings","arguments","length","undefined","notice","setNotices","removeNotice","id"],"sources":["D:/wamp/www/atrc-package/atrc/packages/data/hoc-settings.js"],"sourcesContent":["import React from 'react';\r\n\r\n/*WordPress*/\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\n\r\n/*Local*/\r\nconst AtrcApplyWithSettings = (WrappedComponent) => {\r\n    return withSelect((select, ownProps) => {\r\n        if (!ownProps || !ownProps.atrcStore || !ownProps.atrcStoreKey) {\r\n            return null;\r\n        }\r\n\r\n        const { atrcStore = '', atrcStoreKey = '' } = ownProps;\r\n\r\n        const settingsData = select(atrcStore).getSettings(atrcStoreKey);\r\n        let isLoading = false;\r\n        let canSave = false;\r\n        let notices = [];\r\n        let settings = null;\r\n        if (settingsData && settingsData.settings) {\r\n            ({ isLoading, canSave, notices, settings } = settingsData);\r\n        }\r\n        return { isLoading, canSave, notices, settings };\r\n    })(\r\n        withDispatch((dispatch, ownProps) => {\r\n            if (!ownProps || !ownProps.atrcStore || !ownProps.atrcStoreKey) {\r\n                return null;\r\n            }\r\n            const { atrcStore = '', atrcStoreKey = '' } = ownProps;\r\n            return {\r\n                saveSettings: (data) =>\r\n                    dispatch(atrcStore).saveSettings({\r\n                        key: atrcStoreKey,\r\n                        data,\r\n                        setNotice: true,\r\n                    }),\r\n                updateSetting: (key, val) =>\r\n                    dispatch(atrcStore).updateSetting({\r\n                        key: atrcStoreKey,\r\n                        dataKey: key,\r\n                        dataVal: val,\r\n                    }),\r\n                deleteSettings: (data = null) =>\r\n                    dispatch(atrcStore).deleteSettings({ key: atrcStoreKey, data }),\r\n                setNotice: (notice) =>\r\n                    dispatch(atrcStore).setNotice({ key: atrcStoreKey, notice }),\r\n                setNotices: (notices) =>\r\n                    dispatch(atrcStore).setNotice({\r\n                        key: atrcStoreKey,\r\n                        notices,\r\n                    }),\r\n                removeNotice: (id) =>\r\n                    dispatch(atrcStore).removeNotice({ key: atrcStoreKey, id }),\r\n            };\r\n        })(WrappedComponent)\r\n    );\r\n};\r\n\r\nexport default AtrcApplyWithSettings;\r\n"],"mappings":"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","ignoreList":[]}