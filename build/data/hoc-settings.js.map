{"version":3,"names":["_data","require","AtrcApplyWithSettings","WrappedComponent","withSelect","select","ownProps","atrcStore","atrcStoreKey","_ownProps$atrcStore","_ownProps$atrcStoreKe","settingsData","getSettings","isLoading","canSave","notices","settings","withDispatch","dispatch","_ownProps$atrcStore2","_ownProps$atrcStoreKe2","saveSettings","data","updateSetting","key","val","setNotice","notice","removeNotice","id","_default","exports","default"],"sources":["D:/wamp/www/atrc-package/atrc/packages/data/hoc-settings.js"],"sourcesContent":["/*WordPress*/\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\n\r\n/*Local*/\r\nconst AtrcApplyWithSettings = (WrappedComponent) => {\r\n\treturn withSelect((select, ownProps) => {\r\n\t\tif (!ownProps || !ownProps.atrcStore || !ownProps.atrcStoreKey) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tconst { atrcStore = '', atrcStoreKey = '' } = ownProps;\r\n\r\n\t\tconst settingsData = select(atrcStore).getSettings(atrcStoreKey);\r\n\t\tlet isLoading = false;\r\n\t\tlet canSave = false;\r\n\t\tlet notices = [];\r\n\t\tlet settings = null;\r\n\t\tif (settingsData && settingsData.settings) {\r\n\t\t\t({ isLoading, canSave, notices, settings } = settingsData);\r\n\t\t}\r\n\t\treturn { isLoading, canSave, notices, settings };\r\n\t})(\r\n\t\twithDispatch((dispatch, ownProps) => {\r\n\t\t\tif (!ownProps || !ownProps.atrcStore || !ownProps.atrcStoreKey) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t\tconst { atrcStore = '', atrcStoreKey = '' } = ownProps;\r\n\t\t\treturn {\r\n\t\t\t\tsaveSettings: (data) =>\r\n\t\t\t\t\tdispatch(atrcStore).saveSettings(atrcStoreKey, data, true),\r\n\t\t\t\tupdateSetting: (key, val) =>\r\n\t\t\t\t\tdispatch(atrcStore).updateSetting(atrcStoreKey, key, val),\r\n\t\t\t\tsetNotice: (notice) =>\r\n\t\t\t\t\tdispatch(ownProps.atrcStore).setNotice(atrcStoreKey, notice),\r\n\t\t\t\tremoveNotice: (id) =>\r\n\t\t\t\t\tdispatch(ownProps.atrcStore).removeNotice(atrcStoreKey, id),\r\n\t\t\t};\r\n\t\t})(WrappedComponent)\r\n\t);\r\n};\r\n\r\nexport default AtrcApplyWithSettings;\r\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,OAAA;AADA;;AAGA;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,gBAAgB,EAAK;EACnD,OAAO,IAAAC,gBAAU,EAAC,UAACC,MAAM,EAAEC,QAAQ,EAAK;IACvC,IAAI,CAACA,QAAQ,IAAI,CAACA,QAAQ,CAACC,SAAS,IAAI,CAACD,QAAQ,CAACE,YAAY,EAAE;MAC/D,OAAO,IAAI;IACZ;IAEA,IAAAC,mBAAA,GAA8CH,QAAQ,CAA9CC,SAAS;MAATA,SAAS,GAAAE,mBAAA,cAAG,EAAE,GAAAA,mBAAA;MAAAC,qBAAA,GAAwBJ,QAAQ,CAA9BE,YAAY;MAAZA,YAAY,GAAAE,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAEzC,IAAMC,YAAY,GAAGN,MAAM,CAACE,SAAS,CAAC,CAACK,WAAW,CAACJ,YAAY,CAAC;IAChE,IAAIK,SAAS,GAAG,KAAK;IACrB,IAAIC,OAAO,GAAG,KAAK;IACnB,IAAIC,OAAO,GAAG,EAAE;IAChB,IAAIC,QAAQ,GAAG,IAAI;IACnB,IAAIL,YAAY,IAAIA,YAAY,CAACK,QAAQ,EAAE;MACvCH,SAAS,GAAiCF,YAAY,CAAtDE,SAAS;MAAEC,OAAO,GAAwBH,YAAY,CAA3CG,OAAO;MAAEC,OAAO,GAAeJ,YAAY,CAAlCI,OAAO;MAAEC,QAAQ,GAAKL,YAAY,CAAzBK,QAAQ;IACzC;IACA,OAAO;MAAEH,SAAS,EAATA,SAAS;MAAEC,OAAO,EAAPA,OAAO;MAAEC,OAAO,EAAPA,OAAO;MAAEC,QAAQ,EAARA;IAAS,CAAC;EACjD,CAAC,CAAC,CACD,IAAAC,kBAAY,EAAC,UAACC,QAAQ,EAAEZ,QAAQ,EAAK;IACpC,IAAI,CAACA,QAAQ,IAAI,CAACA,QAAQ,CAACC,SAAS,IAAI,CAACD,QAAQ,CAACE,YAAY,EAAE;MAC/D,OAAO,IAAI;IACZ;IACA,IAAAW,oBAAA,GAA8Cb,QAAQ,CAA9CC,SAAS;MAATA,SAAS,GAAAY,oBAAA,cAAG,EAAE,GAAAA,oBAAA;MAAAC,sBAAA,GAAwBd,QAAQ,CAA9BE,YAAY;MAAZA,YAAY,GAAAY,sBAAA,cAAG,EAAE,GAAAA,sBAAA;IACzC,OAAO;MACNC,YAAY,EAAE,SAAAA,aAACC,IAAI;QAAA,OAClBJ,QAAQ,CAACX,SAAS,CAAC,CAACc,YAAY,CAACb,YAAY,EAAEc,IAAI,EAAE,IAAI,CAAC;MAAA;MAC3DC,aAAa,EAAE,SAAAA,cAACC,GAAG,EAAEC,GAAG;QAAA,OACvBP,QAAQ,CAACX,SAAS,CAAC,CAACgB,aAAa,CAACf,YAAY,EAAEgB,GAAG,EAAEC,GAAG,CAAC;MAAA;MAC1DC,SAAS,EAAE,SAAAA,UAACC,MAAM;QAAA,OACjBT,QAAQ,CAACZ,QAAQ,CAACC,SAAS,CAAC,CAACmB,SAAS,CAAClB,YAAY,EAAEmB,MAAM,CAAC;MAAA;MAC7DC,YAAY,EAAE,SAAAA,aAACC,EAAE;QAAA,OAChBX,QAAQ,CAACZ,QAAQ,CAACC,SAAS,CAAC,CAACqB,YAAY,CAACpB,YAAY,EAAEqB,EAAE,CAAC;MAAA;IAC7D,CAAC;EACF,CAAC,CAAC,CAAC1B,gBAAgB,CACpB,CAAC;AACF,CAAC;AAAC,IAAA2B,QAAA,GAAAC,OAAA,CAAAC,OAAA,GAEa9B,qBAAqB"}