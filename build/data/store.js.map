{"version":3,"names":["__","sprintf","createReduxStore","register","cloneDeep","isEqual","AtrcApis","AtrcDataLocalStorageGetSettings","localStorageKey","data","window","localStorage","getItem","cookies","document","cookie","split","i","length","cookieName","substring","indexOf","cookieValue","trim","settings","JSON","parse","err","AtrcDataLocalStorageSaveSettings","expires","stringifiedData","stringify","AtrcDataLocalStorageRemoveSettings","setItem","date","Date","setTime","getTime","expiresStr","toUTCString","key","removeItem","AtrcGetandSetQueryParams","updateParams","search","location","hash","params","URLSearchParams","allowedParams","AtrcStore","DEFAULT_STATE","allowedParamsObject","forEach","param","has","getAll","get","queryArgs","Object","keys","set","delete","newUrl","href","toString","newHash","replace","history","replaceState","title","decodeURI","ClassAtrcStore","constructor","instance","TYPES","store","addDefaults","type","isLoading","canSave","original","notices","extraData","context","page","per_page","order","orderby","author","author_exclude","items","countAllItems","countQueryItems","totalPages","selectItems","item","confirmDelete","ids","open","getDefaults","setDefaults","defaults","actions","getItems","id","setItems","setItemsItems","updateItemDatas","updateItemData","dataKey","dataVal","insertItem","select","resolveSelect","dispatch","result","doApi","insertItems","updateItem","updateItems","setConfirmDelete","deleteItems","promises","map","Promise","all","setQueryArgs","doFetch","setQueryArg","setIsLoading","setCountAllItems","setCountQueryItems","setTotalPages","toggleSelectAll","toggleSelect","setCanSave","setNotice","notice","removeNotice","setNotices","setExtraData","getSettings","setSettings","updateSetting","saveSettings","customDispatch","callback","registry","getItemErrorNotice","action","message","code","error","controls","GET_ITEMS","GET_ITEM","GET_SETTINGS","selectors","state","getSelectedItems","getQueryArgs","getIsLoading","getCountAllItems","getCountQueryItems","getTotalPages","getCanSave","getConfirmDelete","getItemsNotices","innerOptName","resolvers","reducer","act","newState","newNotices","newKey","find","filter","dataWithoutError","item1","some","item2","updatedItem","AtrcRegisterStore","name"],"sources":["D:/wamp/www/atrc-package/atrc/packages/data/store.js"],"sourcesContent":["/*WordPress*/\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { createReduxStore, register } from '@wordpress/data';\r\n\r\n/* Library */\r\nimport { cloneDeep, isEqual } from 'lodash';\r\n\r\n/* API */\r\nimport AtrcApis from './api';\r\n\r\n/* Local */\r\n/* For local storage */\r\nconst AtrcDataLocalStorageGetSettings = (localStorageKey) => {\r\n\tlet data = null;\r\n\tif (typeof window !== 'undefined' && 'localStorage' in window) {\r\n\t\t// Try to get the settings from local storage\r\n\t\tdata = localStorage.getItem(localStorageKey);\r\n\t} else {\r\n\t\t// If local storage is not available, try to get the settings from a cookie\r\n\t\tconst cookies = document.cookie.split(';');\r\n\t\tfor (let i = 0; i < cookies.length; i++) {\r\n\t\t\tconst cookie = cookies[i];\r\n\t\t\tconst cookieName = cookie.substring(0, cookie.indexOf('='));\r\n\t\t\tconst cookieValue = cookie.substring(cookie.indexOf('=') + 1);\r\n\t\t\tif (cookieName.trim() === localStorageKey) {\r\n\t\t\t\tdata = cookieValue;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\ttry {\r\n\t\treturn { settings: JSON.parse(data) };\r\n\t} catch (err) {\r\n\t\treturn { settings: data };\r\n\t}\r\n};\r\n\r\nconst AtrcDataLocalStorageSaveSettings = (\r\n\tlocalStorageKey,\r\n\tdata,\r\n\texpires = 365\r\n) => {\r\n\tconst stringifiedData = JSON.stringify(data);\r\n\tif (!stringifiedData) {\r\n\t\treturn AtrcDataLocalStorageRemoveSettings(localStorageKey);\r\n\t} else if (typeof window !== 'undefined' && 'localStorage' in window) {\r\n\t\t// Try to save the settings to local storage\r\n\t\tlocalStorage.setItem(localStorageKey, stringifiedData);\r\n\t} else {\r\n\t\t// If local storage is not available, try to save the settings to a cookie\r\n\t\tconst date = new Date();\r\n\t\tdate.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000); // expire after the specified number of days\r\n\t\tconst expiresStr = '; expires=' + date.toUTCString();\r\n\t\tdocument.cookie =\r\n\t\t\tlocalStorageKey + '=' + stringifiedData + expiresStr + '; path=/';\r\n\t}\r\n\treturn AtrcDataLocalStorageGetSettings(localStorageKey);\r\n};\r\n\r\nconst AtrcDataLocalStorageRemoveSettings = (key) => {\r\n\tif (typeof window !== 'undefined' && 'localStorage' in window) {\r\n\t\tlocalStorage.removeItem(key);\r\n\t} else {\r\n\t\tconst date = new Date();\r\n\t\tdate.setTime(date.getTime() - 1);\r\n\t\tconst expires = '; expires=' + date.toUTCString();\r\n\t\tdocument.cookie = key + '=' + '' + expires + '; path=/';\r\n\t}\r\n\treturn {};\r\n};\r\n\r\nexport function AtrcGetandSetQueryParams(key, updateParams = {}) {\r\n\tlet search;\r\n\r\n\tif (location.hash) {\r\n\t\tsearch =\r\n\t\t\tlocation.hash.indexOf('?') === -1\r\n\t\t\t\t? ''\r\n\t\t\t\t: location.hash.substring(location.hash.indexOf('?') + 1);\r\n\t} else {\r\n\t\t({ search } = location);\r\n\t}\r\n\tconst params = new URLSearchParams(search);\r\n\r\n\tconst { allowedParams } = AtrcStore.DEFAULT_STATE[key];\r\n\tconst allowedParamsObject = {};\r\n\tif (allowedParams) {\r\n\t\tallowedParams.forEach(function (param) {\r\n\t\t\tif (params.has(param)) {\r\n\t\t\t\tallowedParamsObject[param] =\r\n\t\t\t\t\tparams.getAll(param)[1] || params.get(param);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tconst queryArgs = {\r\n\t\t...allowedParamsObject,\r\n\t\t...updateParams,\r\n\t};\r\n\r\n\tif (queryArgs && Object.keys(queryArgs).length > 0) {\r\n\t\tallowedParams.forEach(function (param) {\r\n\t\t\tif (param in queryArgs) {\r\n\t\t\t\tif (queryArgs[param]) {\r\n\t\t\t\t\tparams.set(param, queryArgs[param]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams.delete(param);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tlet newUrl = location.href;\r\n\t\tif (location.hash) {\r\n\t\t\tif (location.hash.indexOf('?') === -1) {\r\n\t\t\t\tnewUrl += `?` + params.toString();\r\n\t\t\t} else {\r\n\t\t\t\tconst newHash = location.hash.split('?')[0];\r\n\t\t\t\tnewUrl = newUrl.replace(\r\n\t\t\t\t\tlocation.hash,\r\n\t\t\t\t\t`${newHash}?${params.toString()}`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tnewUrl = newUrl.replace(location.search, `?${params.toString()}`);\r\n\t\t}\r\n\r\n\t\twindow.history.replaceState({}, document.title, decodeURI(newUrl));\r\n\r\n\t\treturn queryArgs;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nclass ClassAtrcStore {\r\n\tconstructor() {\r\n\t\tif (!ClassAtrcStore.instance) {\r\n\t\t\tClassAtrcStore.instance = this;\r\n\t\t\tthis.DEFAULT_STATE = {};\r\n\t\t\tthis.TYPES = {};\r\n\t\t}\r\n\t\treturn ClassAtrcStore.instance;\r\n\t}\r\n\tregister(store) {\r\n\t\tthis.addDefaults(\r\n\t\t\tstore.key,\r\n\t\t\tstore.type,\r\n\t\t\tstore.queryArgs,\r\n\t\t\tstore.allowedParams\r\n\t\t);\r\n\t}\r\n\r\n\t/* @param {string}        key          key data type eg: item, page, custom type, custom table etc */\r\n\taddDefaults(key, type = '', queryArgs, allowedParams) {\r\n\t\tthis.TYPES[key] = type;\r\n\r\n\t\tif ('settings' === type || 'localStorage' === type) {\r\n\t\t\t// Register all methods for the key and path\r\n\t\t\tthis.DEFAULT_STATE[key] = {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tcanSave: false,\r\n\t\t\t\toriginal: null /* store original settings */,\r\n\t\t\t\tsettings: {} /* store state like settings */,\r\n\t\t\t\tnotices: {},\r\n\t\t\t\textraData: null,\r\n\t\t\t\ttype,\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\t// Register all methods for the key and path\r\n\t\t\tthis.DEFAULT_STATE[key] = {\r\n\t\t\t\tisLoading: false,\r\n\t\t\t\tcanSave: false,\r\n\t\t\t\tqueryArgs: {\r\n\t\t\t\t\tcontext: 'edit',\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tper_page: 10,\r\n\t\t\t\t\torder: 'desc',\r\n\t\t\t\t\torderby: 'created',\r\n\t\t\t\t\tsearch: null,\r\n\t\t\t\t\tauthor: null,\r\n\t\t\t\t\tauthor_exclude: null,\r\n\t\t\t\t\t/* add others from queryArgs when registered*/\r\n\t\t\t\t},\r\n\t\t\t\tallowedParams: [\r\n\t\t\t\t\t'page',\r\n\t\t\t\t\t'per_page',\r\n\t\t\t\t\t'order',\r\n\t\t\t\t\t'orderby',\r\n\t\t\t\t\t'search',\r\n\t\t\t\t\t'author',\r\n\t\t\t\t\t'author_exclude',\r\n\t\t\t\t] /* allowed on query params */,\r\n\t\t\t\titems: [], //lists of items\r\n\t\t\t\tcountAllItems: null,\r\n\t\t\t\tcountQueryItems: null,\r\n\t\t\t\ttotalPages: null,\r\n\t\t\t\tselectItems: [], // selected item data\r\n\t\t\t\titem: {}, // like a state to  update data\r\n\t\t\t\toriginal: {}, // a selected item data\r\n\t\t\t\tconfirmDelete: {\r\n\t\t\t\t\tids: [],\r\n\t\t\t\t\topen: false,\r\n\t\t\t\t},\r\n\t\t\t\tnotices: {},\r\n\r\n\t\t\t\textraData: null, // store extra data object\r\n\t\t\t};\r\n\t\t}\r\n\t\tif (queryArgs) {\r\n\t\t\tthis.DEFAULT_STATE[key].queryArgs = queryArgs;\r\n\t\t}\r\n\t\tif (allowedParams) {\r\n\t\t\tthis.DEFAULT_STATE[key].allowedParams = allowedParams;\r\n\t\t}\r\n\t}\r\n\r\n\tgetDefaults(key = '') {\r\n\t\tif (key) {\r\n\t\t\treturn this.DEFAULT_STATE[key] || null;\r\n\t\t}\r\n\t\treturn this.DEFAULT_STATE;\r\n\t}\r\n\r\n\tsetDefaults(key, defaults) {\r\n\t\tthis.DEFAULT_STATE[key] = defaults;\r\n\t}\r\n}\r\nconst AtrcStore = new ClassAtrcStore();\r\nexport { AtrcStore };\r\n\r\n// The actions object should describe all action creators available for your store.\r\nconst actions = {\r\n\t/* CURD Start\r\n\tmost of actions for CURD, only two below are for SETTINGS\r\n\t*/\r\n\t/* getItems:\r\n\t\t(key, queryArgs) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tasync ({ select, resolveSelect, dispatch }) => {\r\n\t\t\tconsole.log('Hello world');\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\t\tkey,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t});\r\n\t\t\tconsole.log(queryArgs);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'GET_ITEMS',\r\n\t\t\t\tkey,\r\n\t\t\t\tqueryArgs,\r\n\t\t\t});\r\n\t\t}, */\r\n\r\n\tgetItems(key, queryArgs) {\r\n\t\treturn {\r\n\t\t\ttype: 'GET_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tqueryArgs,\r\n\t\t};\r\n\t},\r\n\tgetItem(key, id) {\r\n\t\treturn {\r\n\t\t\ttype: 'GET_ITEM',\r\n\t\t\tkey,\r\n\t\t\tid,\r\n\t\t};\r\n\t},\r\n\t/* Set/update state data of item/s*/\r\n\tsetItems(key, data, queryArgs = null) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t\tqueryArgs,\r\n\t\t};\r\n\t},\r\n\tsetItemsItems(key, items) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_ITEMS_ITEMS',\r\n\t\t\tkey,\r\n\t\t\titems,\r\n\t\t};\r\n\t},\r\n\tsetItem(key, item) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_ITEM',\r\n\t\t\tkey,\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\tupdateItemDatas(key, data) {\r\n\t\treturn {\r\n\t\t\ttype: 'UPDATE_ITEM_DATAS',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t};\r\n\t},\r\n\tupdateItemData(key, dataKey, dataVal) {\r\n\t\treturn {\r\n\t\t\ttype: 'UPDATE_ITEM_DATA',\r\n\t\t\tkey,\r\n\t\t\tdataKey,\r\n\t\t\tdataVal,\r\n\t\t};\r\n\t},\r\n\t/* Insert item */\r\n\tinsertItem:\r\n\t\t(key, data) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tasync ({ select, resolveSelect, dispatch }) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\t\tkey,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t});\r\n\t\t\tconst result = await AtrcApis.doApi(key, 'insertItem', data);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'INSERT_ITEM',\r\n\t\t\t\tkey,\r\n\t\t\t\tdata: result,\r\n\t\t\t});\r\n\t\t},\r\n\tinsertItems(key, data) {\r\n\t\treturn {\r\n\t\t\ttype: 'INSERT_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t};\r\n\t},\r\n\t/* Update Item */\r\n\tupdateItem:\r\n\t\t(key, data) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tasync ({ select, resolveSelect, dispatch }) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\t\tkey,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t});\r\n\r\n\t\t\tconst result = await AtrcApis.doApi(key, 'updateItem', data, data.id);\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'UPDATE_ITEM',\r\n\t\t\t\tkey,\r\n\t\t\t\tdata: result,\r\n\t\t\t});\r\n\t\t},\r\n\tupdateItems(key, data) {\r\n\t\treturn {\r\n\t\t\ttype: 'UPDATE_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t};\r\n\t},\r\n\t/* Delete item/s */\r\n\tsetConfirmDelete(key, confirmDelete) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CONFIRM_DELETE',\r\n\t\t\tkey,\r\n\t\t\tconfirmDelete,\r\n\t\t};\r\n\t},\r\n\tdeleteItems:\r\n\t\t(key, ids) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tasync ({ select, resolveSelect, dispatch }) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\t\tkey,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t});\r\n\t\t\tconst promises = ids.map(\r\n\t\t\t\tasync (id) => await AtrcApis.doApi(key, 'deleteItem', null, id)\r\n\t\t\t);\r\n\t\t\tconst result = await Promise.all(promises);\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'DELETE_ITEMS',\r\n\t\t\t\tkey,\r\n\t\t\t\tdata: result,\r\n\t\t\t});\r\n\t\t},\r\n\r\n\tsetQueryArgs: (key, queryArgs, doFetch = true) =>\r\n\t\tdoFetch\r\n\t\t\t? // eslint-disable-next-line no-unused-vars\r\n\t\t\t  async ({ select, resolveSelect, dispatch }) => {\r\n\t\t\t\t\tqueryArgs = AtrcGetandSetQueryParams(key, queryArgs);\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: 'GET_ITEMS',\r\n\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\tqueryArgs,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst result = await AtrcApis.doApi(key, 'getItems', queryArgs);\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: 'SET_ITEMS',\r\n\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\tdata: result,\r\n\t\t\t\t\t});\r\n\t\t\t  }\r\n\t\t\t: { type: 'SET_QUERY_ARGS', key, queryArgs },\r\n\r\n\tsetQueryArg: (key, dataKey, dataVal, doFetch = true) =>\r\n\t\tdoFetch\r\n\t\t\t? // eslint-disable-next-line no-unused-vars\r\n\t\t\t  async ({ select, resolveSelect, dispatch }) => {\r\n\t\t\t\t\tconst queryArgs = AtrcGetandSetQueryParams(key, queryArgs);\r\n\t\t\t\t\tqueryArgs[dataKey] = dataVal;\r\n\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: 'GET_ITEMS',\r\n\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\tqueryArgs,\r\n\t\t\t\t\t});\r\n\t\t\t\t\tconst result = await AtrcApis.doApi(key, 'getItems', queryArgs);\r\n\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\ttype: 'SET_ITEMS',\r\n\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\tdata: result,\r\n\t\t\t\t\t});\r\n\t\t\t  }\r\n\t\t\t: { type: 'SET_QUERY_ARG', key, dataKey, dataVal },\r\n\r\n\tsetIsLoading(key, isLoading) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\tkey,\r\n\t\t\tisLoading,\r\n\t\t};\r\n\t},\r\n\r\n\tsetCountAllItems(key, countAllItems) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_COUNT_ALL_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tcountAllItems,\r\n\t\t};\r\n\t},\r\n\r\n\tsetCountQueryItems(key, countQueryItems) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_COUNT_QUERY_ITEMS',\r\n\t\t\tkey,\r\n\t\t\tcountQueryItems,\r\n\t\t};\r\n\t},\r\n\tsetTotalPages(key, totalPages) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_TOTAL_PAGES',\r\n\t\t\tkey,\r\n\t\t\ttotalPages,\r\n\t\t};\r\n\t},\r\n\r\n\t/* select itmes */\r\n\ttoggleSelectAll(key) {\r\n\t\treturn {\r\n\t\t\ttype: 'TOGGLE_SELECT_ALL',\r\n\t\t\tkey,\r\n\t\t};\r\n\t},\r\n\r\n\ttoggleSelect(key, item) {\r\n\t\treturn {\r\n\t\t\ttype: 'TOGGLE_SELECT',\r\n\t\t\tkey,\r\n\t\t\titem,\r\n\t\t};\r\n\t},\r\n\r\n\tsetCanSave(key, canSave) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_CAN_SAVE',\r\n\t\t\tkey,\r\n\t\t\tcanSave,\r\n\t\t};\r\n\t},\r\n\r\n\t/* Notice */\r\n\tsetNotice(key, notice) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_NOTICE',\r\n\t\t\tkey,\r\n\t\t\tnotice,\r\n\t\t};\r\n\t},\r\n\tremoveNotice(key, id) {\r\n\t\treturn {\r\n\t\t\ttype: 'REMOVE_NOTICE',\r\n\t\t\tkey,\r\n\t\t\tid,\r\n\t\t};\r\n\t},\r\n\r\n\tsetNotices(key, notices) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_NOTICES',\r\n\t\t\tkey,\r\n\t\t\tnotices,\r\n\t\t};\r\n\t},\r\n\r\n\tsetExtraData(key, data) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_EXTRA_DATA',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t};\r\n\t},\r\n\r\n\t/* Settings */\r\n\tgetSettings(key) {\r\n\t\treturn {\r\n\t\t\ttype: 'GET_SETTINGS',\r\n\t\t\tkey,\r\n\t\t};\r\n\t},\r\n\tsetSettings(key, data) {\r\n\t\treturn {\r\n\t\t\ttype: 'SET_SETTINGS',\r\n\t\t\tkey,\r\n\t\t\tdata,\r\n\t\t};\r\n\t},\r\n\tupdateSetting(key, dataKey, dataVal) {\r\n\t\treturn {\r\n\t\t\ttype: 'UPDATE_SETTING',\r\n\t\t\tkey,\r\n\t\t\tdataKey,\r\n\t\t\tdataVal,\r\n\t\t};\r\n\t},\r\n\r\n\tsaveSettings:\r\n\t\t(key, data, setNotice = false) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\tasync ({ select, resolveSelect, dispatch }) => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_IS_LOADING',\r\n\t\t\t\tkey,\r\n\t\t\t\tisLoading: true,\r\n\t\t\t});\r\n\t\t\tlet result;\r\n\t\t\tif ('localStorage' === AtrcStore.TYPES[key]) {\r\n\t\t\t\tresult = AtrcDataLocalStorageSaveSettings(key, data);\r\n\t\t\t} else {\r\n\t\t\t\tresult = await AtrcApis.doApi(key, 'saveSettings', data);\r\n\t\t\t}\r\n\r\n\t\t\tdispatch({\r\n\t\t\t\ttype: 'SET_SETTINGS',\r\n\t\t\t\tkey,\r\n\t\t\t\tdata: result,\r\n\t\t\t\tsetNotice,\r\n\t\t\t});\r\n\t\t},\r\n\t/* \r\n\tWanna use this store but need custom solutions use following\r\n\tCustom Dispatch*/\r\n\tcustomDispatch:\r\n\t\t(callback) =>\r\n\t\t// eslint-disable-next-line no-unused-vars\r\n\t\t({ select, resolveSelect, dispatch, registry }) => {\r\n\t\t\tcallback(select, resolveSelect, dispatch, AtrcStore, AtrcApis, registry);\r\n\t\t},\r\n};\r\n\r\n/* Error Notice */\r\nconst getItemErrorNotice = (result, action) => {\r\n\tlet message, code;\r\n\tconst { error } = result;\r\n\tif (error.message) {\r\n\t\t({ message } = error);\r\n\t} else {\r\n\t\tmessage = sprintf(\r\n\t\t\t// translators: %s: action type\r\n\t\t\t__(\r\n\t\t\t\t'Error while data store process for %s.',\r\n\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t),\r\n\t\t\taction.type\r\n\t\t);\r\n\t}\r\n\treturn {\r\n\t\ttype: 'error',\r\n\t\tcode: code || 'GENERAL',\r\n\t\tmessage,\r\n\t};\r\n};\r\n\r\n// Controls are used to handle side-effects that are triggered by the dispatch of an action.\r\nconst controls = {\r\n\tGET_ITEMS: (action) =>\r\n\t\tAtrcApis.doApi(action.key, 'getItems', action.queryArgs),\r\n\tGET_ITEM: (action) => AtrcApis.doApi(action.key, 'getItem', null, action.id),\r\n\tGET_SETTINGS: (action) => {\r\n\t\tif ('localStorage' === AtrcStore.TYPES[action.key]) {\r\n\t\t\treturn AtrcDataLocalStorageGetSettings(action.key);\r\n\t\t}\r\n\t\treturn AtrcApis.doApi(action.key, 'getSettings');\r\n\t},\r\n};\r\n// The selectors object includes a set of functions for accessing and deriving state values.\r\nconst selectors = {\r\n\tgetItems: (state, key, all = true) => (all ? state[key] : state[key].items),\r\n\tgetItem: (state, key) => state[key].item,\r\n\tgetSelectedItems: (state, key) => state[key].selectItems,\r\n\tgetQueryArgs: (state, key) => state[key].queryArgs,\r\n\tgetIsLoading: (state, key) => state[key].isLoading,\r\n\tgetCountAllItems: (state, key) => state[key].countAllItems,\r\n\tgetCountQueryItems: (state, key) => state[key].countQueryItems,\r\n\tgetTotalPages: (state, key) => state[key].totalPages,\r\n\tgetCanSave: (state, key) => state[key].canSave,\r\n\tgetConfirmDelete: (state, key) => state[key].confirmDelete,\r\n\tgetItemsNotices: (state, key) => state[key].notices,\r\n\tgetSettings: (state, key, all = true, innerOptName = false) => {\r\n\t\tif (all) {\r\n\t\t\treturn state[key];\r\n\t\t}\r\n\r\n\t\tif (!innerOptName) {\r\n\t\t\treturn state[key].settings;\r\n\t\t}\r\n\r\n\t\tconst { settings } = state[key];\r\n\t\treturn settings && settings[innerOptName] ? settings[innerOptName] : null;\r\n\t},\r\n};\r\n\r\n// A resolver is a side-effect for a selector.\r\nconst resolvers = {\r\n\t*getItems(key, all, queryArgs) {\r\n\t\tqueryArgs = AtrcGetandSetQueryParams(key, queryArgs);\r\n\t\tconst result = yield actions.getItems(key, queryArgs);\r\n\t\treturn actions.setItems(key, result, queryArgs);\r\n\t},\r\n\t*getItem(key, id) {\r\n\t\tconst result = yield actions.getItem(key, id);\r\n\t\treturn actions.setItem(key, result);\r\n\t},\r\n\t*getSettings(key) {\r\n\t\tconst result = yield actions.getSettings(key);\r\n\t\treturn actions.setSettings(key, result);\r\n\t},\r\n};\r\n\r\n// A reducer is a function accepting the previous state and action as arguments and returns an updated state value.\r\nconst reducer = (state = AtrcStore.DEFAULT_STATE, act) => {\r\n\tif (!('key' in act)) {\r\n\t\treturn state;\r\n\t}\r\n\tconst newState = cloneDeep(state);\r\n\tconst action = cloneDeep(act);\r\n\tconst { key } = action;\r\n\tconst items = cloneDeep(newState[key]);\r\n\r\n\tswitch (action.type) {\r\n\t\tcase 'GET_ITEMS': {\r\n\t\t\titems.queryArgs = cloneDeep(action.queryArgs) || {};\r\n\t\t\titems.isLoading = true;\r\n\t\t\titems.canSave = false;\r\n\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'GET_ITEM':\r\n\t\t\titems.isLoading = true;\r\n\t\t\titems.canSave = false;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_ITEMS':\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.canSave = false;\r\n\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tconst newNotices = items.notices;\r\n\t\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t\titems.notices = newNotices;\r\n\t\t\t} else {\r\n\t\t\t\titems.items = action.data.items;\r\n\t\t\t\titems.countQueryItems = action.data.countQueryItems;\r\n\t\t\t\titems.totalPages = action.data.totalPages;\r\n\t\t\t\titems.countAllItems = action.data.countAllItems;\r\n\t\t\t\tif (action.queryArgs) {\r\n\t\t\t\t\titems.queryArgs = cloneDeep(action.queryArgs) || {};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\t/* Query args */\r\n\t\tcase 'SET_QUERY_ARGS':\r\n\t\t\titems.queryArgs = {\r\n\t\t\t\t...items.queryArgs,\r\n\t\t\t\t...action.queryArgs,\r\n\t\t\t};\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_QUERY_ARG':\r\n\t\t\titems.queryArgs[action.dataKey] = action.dataVal;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_IS_LOADING':\r\n\t\t\titems.isLoading = action.isLoading;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_ITEMS_ITEMS':\r\n\t\t\titems.items = action.items;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_COUNT_ALL_ITEMS':\r\n\t\t\titems.countAllItems = action.countAllItems;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_COUNT_QUERY_ITEMS':\r\n\t\t\titems.countQueryItems = action.countQueryItems;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_TOTAL_PAGES':\r\n\t\t\titems.totalPages = action.totalPages;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'TOGGLE_SELECT_ALL':\r\n\t\t\tif (items.selectItems.length === items.items.length) {\r\n\t\t\t\titems.selectItems = [];\r\n\t\t\t} else {\r\n\t\t\t\titems.selectItems = cloneDeep(items.items);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'TOGGLE_SELECT':\r\n\t\t\t// eslint-disable-next-line eqeqeq\r\n\t\t\tif (items.selectItems.find((item) => item.id == action.item.id)) {\r\n\t\t\t\titems.selectItems = items.selectItems.filter(\r\n\t\t\t\t\t// eslint-disable-next-line eqeqeq\r\n\t\t\t\t\t(item) => item.id != action.item.id\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\titems.selectItems = [\r\n\t\t\t\t\t...items.selectItems,\r\n\t\t\t\t\titems.items.find((item) => item.id === action.item.id),\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'SET_CAN_SAVE':\r\n\t\t\titems.canSave = action.canSave;\r\n\t\t\tbreak;\r\n\r\n\t\t/* Notice */\r\n\t\tcase 'SET_NOTICE': {\r\n\t\t\tconst newNotices = cloneDeep(items.notices);\r\n\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\tnewNotices[newKey] = cloneDeep(action.notice);\r\n\t\t\titems.notices = newNotices;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'REMOVE_NOTICE': {\r\n\t\t\tconst newNotices = cloneDeep(items.notices);\r\n\t\t\tconst newKey = action.id;\r\n\t\t\tdelete newNotices[newKey];\r\n\t\t\titems.notices = newNotices;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'SET_NOTICES':\r\n\t\t\titems.notices = cloneDeep(action.notices);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'INSERT_ITEM': {\r\n\t\t\tconst newNotices = items.notices;\r\n\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t} else {\r\n\t\t\t\titems.items = [...items.items, cloneDeep(action.data)];\r\n\t\t\t\titems.item = cloneDeep(action.data);\r\n\r\n\t\t\t\t/* Set success notice */\r\n\t\t\t\tnewNotices[newKey] = {\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tcode: 'GENERAL',\r\n\t\t\t\t\tmessage: sprintf(\r\n\t\t\t\t\t\t// translators: %s: item id\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'The item with id %s is added successfully',\r\n\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\titems.item.id\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\titems.notices = newNotices;\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.canSave = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'INSERT_ITEMS':\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tconst newNotices = items.notices;\r\n\t\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t\titems.notices = newNotices;\r\n\t\t\t} else {\r\n\t\t\t\titems.isLoading = false;\r\n\t\t\t\titems.items = [...items.items, ...action.data];\r\n\t\t\t}\r\n\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.canSave = false;\r\n\t\t\tbreak;\r\n\r\n\t\t/* Delete Item/s */\r\n\t\tcase 'SET_CONFIRM_DELETE':\r\n\t\t\titems.confirmDelete = action.confirmDelete;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'DELETE_ITEMS': {\r\n\t\t\tconst newNotices = items.notices;\r\n\t\t\taction.data.forEach(function (item) {\r\n\t\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\t\tif (item.error) {\r\n\t\t\t\t\tnewNotices[newKey] = getItemErrorNotice(item);\r\n\t\t\t\t\titems.notices = newNotices;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnewNotices[newKey] = {\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tcode: 'GENERAL',\r\n\t\t\t\t\t\tmessage: __(\r\n\t\t\t\t\t\t\t'Deleted successfully',\r\n\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t};\r\n\t\t\t\t\titems.notices = newNotices;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tconst dataWithoutError = action.data.filter((data) => !data.error);\r\n\r\n\t\t\titems.items = items.items.filter(\r\n\t\t\t\t(item1) => !dataWithoutError.some((item2) => item1.id === item2.id)\r\n\t\t\t);\r\n\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.confirmDelete = {};\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t/* Add/Edit Item */\r\n\t\tcase 'SET_ITEM':\r\n\t\t\titems.item = cloneDeep(action.item);\r\n\t\t\titems.original = action.item;\r\n\t\t\tbreak;\r\n\r\n\t\tcase 'UPDATE_ITEM': {\r\n\t\t\tconst newNotices = items.notices;\r\n\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t} else {\r\n\t\t\t\tconst updatedItem = items.items.find(\r\n\t\t\t\t\t(item) => item.id === action.data.id\r\n\t\t\t\t);\r\n\t\t\t\tif (updatedItem) {\r\n\t\t\t\t\titems.items = items.items.map((item) =>\r\n\t\t\t\t\t\titem.id === action.data.id ? action.data : item\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\titems.items = [...items.items, cloneDeep(action.data)];\r\n\t\t\t\t}\r\n\r\n\t\t\t\titems.item = cloneDeep(action.data);\r\n\t\t\t\titems.original = action.data;\r\n\r\n\t\t\t\t/* Set success notice */\r\n\t\t\t\tnewNotices[newKey] = {\r\n\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\tcode: 'GENERAL',\r\n\t\t\t\t\tmessage: sprintf(\r\n\t\t\t\t\t\t// translators: %s: item id\r\n\t\t\t\t\t\t__(\r\n\t\t\t\t\t\t\t'The item with id %s is updated successfully',\r\n\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\titems.item.id\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\titems.notices = newNotices;\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.canSave = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'UPDATE_ITEMS': {\r\n\t\t\tconst newNotices = items.notices;\r\n\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t\titems.notices = newNotices;\r\n\t\t\t} else {\r\n\t\t\t\titems.isLoading = false;\r\n\t\t\t\titems.items = [...items.items, ...action.data];\r\n\t\t\t}\r\n\t\t\titems.isLoading = false;\r\n\t\t\titems.canSave = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'UPDATE_ITEM_DATAS': {\r\n\t\t\titems.items = action.data;\r\n\t\t\tif (isEqual(items.original, items.item)) {\r\n\t\t\t\titems.canSave = false;\r\n\t\t\t} else {\r\n\t\t\t\titems.canSave = true;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'UPDATE_ITEM_DATA': {\r\n\t\t\titems.item[action.dataKey] = action.dataVal;\r\n\t\t\tif (isEqual(items.original, items.item)) {\r\n\t\t\t\titems.canSave = false;\r\n\t\t\t} else {\r\n\t\t\t\titems.canSave = true;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t/* Settings */\r\n\t\tcase 'GET_SETTINGS': {\r\n\t\t\titems.canSave = false;\r\n\t\t\titems.isLoading = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'SET_SETTINGS': {\r\n\t\t\tconst newNotices = items.notices;\r\n\t\t\tconst newKey = 'abc-' + Object.keys(newNotices).length;\r\n\t\t\tif (action.data.error) {\r\n\t\t\t\tnewNotices[newKey] = getItemErrorNotice();\r\n\t\t\t\titems.notices = newNotices;\r\n\t\t\t} else {\r\n\t\t\t\titems.original = action.data.settings;\r\n\t\t\t\titems.settings = cloneDeep(action.data.settings);\r\n\t\t\t\tif (action.setNotice) {\r\n\t\t\t\t\t/* Set success notice */\r\n\t\t\t\t\tnewNotices[newKey] = {\r\n\t\t\t\t\t\ttype: 'success',\r\n\t\t\t\t\t\tcode: 'GENERAL',\r\n\t\t\t\t\t\tmessage: __(\r\n\t\t\t\t\t\t\t'Updated successfully',\r\n\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t};\r\n\t\t\t\t\titems.notices = newNotices;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\titems.canSave = false;\r\n\t\t\titems.isLoading = false;\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcase 'UPDATE_SETTING': {\r\n\t\t\titems.settings[action.dataKey] = action.dataVal;\r\n\r\n\t\t\tif (isEqual(items.original, items.settings)) {\r\n\t\t\t\titems.canSave = false;\r\n\t\t\t} else {\r\n\t\t\t\titems.canSave = true;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tnewState[key] = items;\r\n\treturn newState;\r\n};\r\n\r\nexport default function AtrcRegisterStore(name) {\r\n\tconst store = createReduxStore(name, {\r\n\t\treducer,\r\n\t\tactions,\r\n\t\tcontrols,\r\n\t\tselectors,\r\n\t\tresolvers,\r\n\t});\r\n\treturn register(store);\r\n}\r\n"],"mappings":"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"}