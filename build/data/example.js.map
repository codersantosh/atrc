{"version":3,"names":["useEffect","useState","withSelect","withDispatch","AtrcApis","AtrcRegisterStore","AtrcStore","baseUrl","register","xWpNonce","AtomicBuilderGutenbergBlocksLocalize","nonce","console","log","ExampleItems","items","isLoading","totalPages","currentPage","getItems","page","setPage","React","createElement","map","item","key","id","title","rendered","applyWithSelect","select","getItemsIsLoading","getItemsTotalPages","applyWithDispatch","dispatch","args","setIsLoading","setError","error"],"sources":["D:/wamp/www/atrc-package/atrc/packages/data/example.js"],"sourcesContent":["import { useEffect, useState } from '@wordpress/element';\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\n\r\nimport AtrcApis from './api';\r\nimport AtrcRegisterStore, { AtrcStore } from './store';\r\n\r\nAtrcApis.baseUrl(\r\n\t'atrc-prefix-atrc-global',\r\n\t'http://localhost/atrc-prefix-atrc'\r\n);\r\n// AtrcApis.baseUrl('posts', 'http://localhost/atrc-prefix-atrc');\r\nAtrcApis.register('posts', 'wp/v2/posts/');\r\n// eslint-disable-next-line no-undef\r\nAtrcApis.xWpNonce(AtomicBuilderGutenbergBlocksLocalize.nonce);\r\nconsole.log(AtrcApis);\r\nconsole.log(AtrcStore);\r\nconsole.log(AtrcRegisterStore('atrc-prefix-atrc'));\r\n\r\nfunction ExampleItems({ items, isLoading, totalPages, currentPage, getItems }) {\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tconst [page, setPage] = useState(currentPage || 1);\r\n\t/* const handlePageChange = (newPage) => {\r\n\t\tsetPage(newPage);\r\n\t\tfetchItems(newPage);\r\n\t}; */\r\n\tuseEffect(() => {\r\n\t\tconsole.log('1');\r\n\t\tgetItems();\r\n\t}, []);\r\n\r\n\tif (isLoading) {\r\n\t\treturn <div>Loading...</div>;\r\n\t}\r\n\r\n\tif (!items || !items.items) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tHello\r\n\t\t\t<ul>\r\n\t\t\t\t{items.items.map((item) => (\r\n\t\t\t\t\t<li key={item.id}>{item.title.rendered}</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst applyWithSelect = withSelect((select) => {\r\n\treturn {\r\n\t\titems: select('atrc-prefix-atrc').getItems('posts'),\r\n\t\tisLoading: select('atrc-prefix-atrc').getItemsIsLoading(\r\n\t\t\t'posts'\r\n\t\t),\r\n\t\ttotalPages: select('atrc-prefix-atrc').getItemsTotalPages(\r\n\t\t\t'posts'\r\n\t\t),\r\n\t};\r\n});\r\n\r\nconst applyWithDispatch = withDispatch((dispatch) => {\r\n\treturn {\r\n\t\tgetItems: (args = {}) => {\r\n\t\t\tconsole.log('2');\r\n\t\t\t// dispatch('atrc-prefix-atrc').getItems('posts', args);\r\n\t\t},\r\n\t\tsetIsLoading: (isLoading) => {\r\n\t\t\tdispatch('atrc-prefix-atrc').setIsLoading(\r\n\t\t\t\t'posts',\r\n\t\t\t\tisLoading\r\n\t\t\t);\r\n\t\t},\r\n\t\tsetError: (error) => {\r\n\t\t\tdispatch('atrc-prefix-atrc').setError('posts', error);\r\n\t\t},\r\n\t};\r\n});\r\n\r\nexport default applyWithSelect(applyWithDispatch(ExampleItems));\r\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;AACxD,SAASC,UAAU,EAAEC,YAAY,QAAQ,iBAAiB;AAE1D,OAAOC,QAAQ,MAAM,OAAO;AAC5B,OAAOC,iBAAiB,IAAIC,SAAS,QAAQ,SAAS;AAEtDF,QAAQ,CAACG,OAAO,CACf,yBAAyB,EACzB,mCACD,CAAC;AACD;AACAH,QAAQ,CAACI,QAAQ,CAAC,OAAO,EAAE,cAAc,CAAC;AAC1C;AACAJ,QAAQ,CAACK,QAAQ,CAACC,oCAAoC,CAACC,KAAK,CAAC;AAC7DC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;AACrBQ,OAAO,CAACC,GAAG,CAACP,SAAS,CAAC;AACtBM,OAAO,CAACC,GAAG,CAACR,iBAAiB,CAAC,kBAAkB,CAAC,CAAC;AAElD,SAASS,YAAYA,CAAC;EAAEC,KAAK;EAAEC,SAAS;EAAEC,UAAU;EAAEC,WAAW;EAAEC;AAAS,CAAC,EAAE;EAC9E;EACA,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGpB,QAAQ,CAACiB,WAAW,IAAI,CAAC,CAAC;EAClD;AACD;AACA;AACA;EACClB,SAAS,CAAC,MAAM;IACfY,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;IAChBM,QAAQ,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,IAAIH,SAAS,EAAE;IACd,oBAAOM,KAAA,CAAAC,aAAA,cAAK,YAAe,CAAC;EAC7B;EAEA,IAAI,CAACR,KAAK,IAAI,CAACA,KAAK,CAACA,KAAK,EAAE;IAC3B,OAAO,IAAI;EACZ;EACA,oBACCO,KAAA,CAAAC,aAAA,cAAK,OAEJ,eAAAD,KAAA,CAAAC,aAAA,aACER,KAAK,CAACA,KAAK,CAACS,GAAG,CAAEC,IAAI,iBACrBH,KAAA,CAAAC,aAAA;IAAIG,GAAG,EAAED,IAAI,CAACE;EAAG,GAAEF,IAAI,CAACG,KAAK,CAACC,QAAa,CAC3C,CACE,CACA,CAAC;AAER;AAEA,MAAMC,eAAe,GAAG5B,UAAU,CAAE6B,MAAM,IAAK;EAC9C,OAAO;IACNhB,KAAK,EAAEgB,MAAM,CAAC,kBAAkB,CAAC,CAACZ,QAAQ,CAAC,OAAO,CAAC;IACnDH,SAAS,EAAEe,MAAM,CAAC,kBAAkB,CAAC,CAACC,iBAAiB,CACtD,OACD,CAAC;IACDf,UAAU,EAAEc,MAAM,CAAC,kBAAkB,CAAC,CAACE,kBAAkB,CACxD,OACD;EACD,CAAC;AACF,CAAC,CAAC;AAEF,MAAMC,iBAAiB,GAAG/B,YAAY,CAAEgC,QAAQ,IAAK;EACpD,OAAO;IACNhB,QAAQ,EAAEA,CAACiB,IAAI,GAAG,CAAC,CAAC,KAAK;MACxBxB,OAAO,CAACC,GAAG,CAAC,GAAG,CAAC;MAChB;IACD,CAAC;IACDwB,YAAY,EAAGrB,SAAS,IAAK;MAC5BmB,QAAQ,CAAC,kBAAkB,CAAC,CAACE,YAAY,CACxC,OAAO,EACPrB,SACD,CAAC;IACF,CAAC;IACDsB,QAAQ,EAAGC,KAAK,IAAK;MACpBJ,QAAQ,CAAC,kBAAkB,CAAC,CAACG,QAAQ,CAAC,OAAO,EAAEC,KAAK,CAAC;IACtD;EACD,CAAC;AACF,CAAC,CAAC;AAEF,eAAeT,eAAe,CAACI,iBAAiB,CAACpB,YAAY,CAAC,CAAC"}