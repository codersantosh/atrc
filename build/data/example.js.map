{"version":3,"names":["useEffect","useState","withSelect","withDispatch","AtrcApis","AtrcRegisterStore","AtrcStore","baseUrl","register","xWpNonce","AtomicBuilderGutenbergBlocksLocalize","nonce","console","log","ExampleItems","_ref","items","isLoading","totalPages","currentPage","getItems","_useState","_useState2","_slicedToArray","page","setPage","React","createElement","map","item","key","id","title","rendered","applyWithSelect","select","getItemsIsLoading","getItemsTotalPages","applyWithDispatch","dispatch","args","arguments","length","undefined","setIsLoading","setError","error"],"sources":["D:/wamp/www/atrc-package/atrc/packages/data/example.js"],"sourcesContent":["import { useEffect, useState } from '@wordpress/element';\r\nimport { withSelect, withDispatch } from '@wordpress/data';\r\n\r\nimport AtrcApis from './api';\r\nimport AtrcRegisterStore, { AtrcStore } from './store';\r\n\r\nAtrcApis.baseUrl(\r\n\t'atrc-prefix-atrc-global',\r\n\t'http://localhost/atrc-prefix-atrc'\r\n);\r\n// AtrcApis.baseUrl('posts', 'http://localhost/atrc-prefix-atrc');\r\nAtrcApis.register('posts', 'wp/v2/posts/');\r\n// eslint-disable-next-line no-undef\r\nAtrcApis.xWpNonce(AtomicBuilderGutenbergBlocksLocalize.nonce);\r\nconsole.log(AtrcApis);\r\nconsole.log(AtrcStore);\r\nconsole.log(AtrcRegisterStore('atrc-prefix-atrc'));\r\n\r\nfunction ExampleItems({ items, isLoading, totalPages, currentPage, getItems }) {\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tconst [page, setPage] = useState(currentPage || 1);\r\n\t/* const handlePageChange = (newPage) => {\r\n\t\tsetPage(newPage);\r\n\t\tfetchItems(newPage);\r\n\t}; */\r\n\tuseEffect(() => {\r\n\t\tconsole.log('1');\r\n\t\tgetItems();\r\n\t}, []);\r\n\r\n\tif (isLoading) {\r\n\t\treturn <div>Loading...</div>;\r\n\t}\r\n\r\n\tif (!items || !items.items) {\r\n\t\treturn null;\r\n\t}\r\n\treturn (\r\n\t\t<div>\r\n\t\t\tHello\r\n\t\t\t<ul>\r\n\t\t\t\t{items.items.map((item) => (\r\n\t\t\t\t\t<li key={item.id}>{item.title.rendered}</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nconst applyWithSelect = withSelect((select) => {\r\n\treturn {\r\n\t\titems: select('atrc-prefix-atrc').getItems('posts'),\r\n\t\tisLoading: select('atrc-prefix-atrc').getItemsIsLoading(\r\n\t\t\t'posts'\r\n\t\t),\r\n\t\ttotalPages: select('atrc-prefix-atrc').getItemsTotalPages(\r\n\t\t\t'posts'\r\n\t\t),\r\n\t};\r\n});\r\n\r\nconst applyWithDispatch = withDispatch((dispatch) => {\r\n\treturn {\r\n\t\tgetItems: (args = {}) => {\r\n\t\t\tconsole.log('2');\r\n\t\t\t// dispatch('atrc-prefix-atrc').getItems('posts', args);\r\n\t\t},\r\n\t\tsetIsLoading: (isLoading) => {\r\n\t\t\tdispatch('atrc-prefix-atrc').setIsLoading(\r\n\t\t\t\t'posts',\r\n\t\t\t\tisLoading\r\n\t\t\t);\r\n\t\t},\r\n\t\tsetError: (error) => {\r\n\t\t\tdispatch('atrc-prefix-atrc').setError('posts', error);\r\n\t\t},\r\n\t};\r\n});\r\n\r\nexport default applyWithSelect(applyWithDispatch(ExampleItems));\r\n"],"mappings":"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"}