{"version":3,"names":["_i18n","require","_element","_classnames","_interopRequireDefault","_uniqueId","_excluded","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","ownKeys","e","r","t","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_toPrimitive","_typeof","String","Symbol","toPrimitive","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","l","iterator","u","a","f","next","done","return","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","AtrcGoogleMap","_ref","id","apiKey","_ref$loc","loc","lat","lng","_ref$zoom","zoom","_ref$mapTypeId","mapTypeId","draggable","typeCtrl","zoomCtrl","fullScreenCtrl","streetViewCtrl","markers","mapStyle","mapStyleCust","_ref$className","className","_ref$onChange","onChange","defaultProps","mapID","AtrcUniqueID","_useState","useState","_useState2","scriptLoaded","setScriptLoaded","_useState3","__","_useState4","msg","setMessage","gMap","useEffect","scriptId","document","getElementById","window","google","script","createElement","src","concat","defer","async","onload","head","appendChild","addInfoWindow","marker","markerId","title","description","contentString","infowindow","maps","InfoWindow","content","addListener","open","cycleMarkers","newMarkers","latitude","longitude","position","LatLng","mark","Marker","map","e4Draggable","event","newLat","latLng","newLng","markersCloned","newMaker","desc","Map","center","gestureHandling","request","query","fields","service","places","PlacesService","findPlaceFromQuery","results","status","PlacesServiceStatus","OK","setCenter","geometry","newZoom","getZoom","newMapTypeId","getMapTypeId","location","getCenter","React","classNames","sprintf","encodeURIComponent","frameBorder","_default","exports"],"sources":["D:/wamp/www/atrc-package/atrc/packages/atoms/map-google/index.js"],"sourcesContent":["/* WordPress */\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useEffect, useState } from '@wordpress/element';\r\n\r\n/* Library */\r\nimport classNames from 'classnames';\r\n\r\n/* Inbuilt */\r\nimport AtrcUniqueID from '../../utils/unique-id';\r\n\r\n/* Local */\r\nconst AtrcGoogleMap = ({\r\n\tid,\r\n\tapiKey,\r\n\tloc = 'Gorkh Durbar',\r\n\tlat,\r\n\tlng,\r\n\tzoom = 15,\r\n\tmapTypeId = 'roadmap',\r\n\tdraggable,\r\n\ttypeCtrl,\r\n\tzoomCtrl,\r\n\tfullScreenCtrl,\r\n\tstreetViewCtrl,\r\n\tmarkers,\r\n\tmapStyle,\r\n\tmapStyleCust,\r\n\tclassName = '',\r\n\tonChange = () => {},\r\n\t...defaultProps\r\n}) => {\r\n\tconst mapID = id || AtrcUniqueID();\r\n\tconst [scriptLoaded, setScriptLoaded] = useState(false);\r\n\tconst [msg, setMessage] = useState(\r\n\t\tapiKey ? __('Script is not loaded', 'atrc-prefix-atrc') : ''\r\n\t);\r\n\r\n\tlet gMap;\r\n\r\n\t/* Load script */\r\n\tuseEffect(() => {\r\n\t\tif (!apiKey) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst scriptId = 'atrc-prefix-atrc-google-map-api';\r\n\r\n\t\tif (\r\n\t\t\t!document.getElementById(scriptId) &&\r\n\t\t\ttypeof window.google === 'undefined'\r\n\t\t) {\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.src = `https://maps.googleapis.com/maps/api/js?key=${apiKey}`;\r\n\t\t\tscript.defer = true;\r\n\t\t\tscript.async = true;\r\n\t\t\tscript.id = scriptId;\r\n\t\t\t// Add onload function to script\r\n\t\t\tscript.onload = function () {\r\n\t\t\t\tsetScriptLoaded(true);\r\n\t\t\t};\r\n\t\t\t// Append script element to the document.\r\n\t\t\tdocument.head.appendChild(script);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tfunction addInfoWindow(marker, markerId, title, description) {\r\n\t\tconst contentString = `<div class=\"at-map-overview\"><h6 class=\"at-map-overview-title\">${title}</h6><div class=\"at-map-overview-content\">${\r\n\t\t\tdescription ? `<p>${description}</p>` : ''\r\n\t\t}<a class=\"at-map-overview-delete\" onclick=\"removeMarker( '${markerId}' )\">${__(\r\n\t\t\t'Delete Marker',\r\n\t\t\t'atrc-prefix-atrc'\r\n\t\t)}</a></div></div>`;\r\n\r\n\t\t// eslint-disable-next-line no-undef\r\n\t\tconst infowindow = new google.maps.InfoWindow({\r\n\t\t\tcontent: contentString,\r\n\t\t});\r\n\r\n\t\tmarker.addListener('click', () => {\r\n\t\t\tinfowindow.open(gMap, marker);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction cycleMarkers(newMarkers) {\r\n\t\tif (newMarkers && 0 < newMarkers.length) {\r\n\t\t\tnewMarkers.forEach((marker) => {\r\n\t\t\t\tconst latitude = marker.lat;\r\n\t\t\t\tconst longitude = marker.lng;\r\n\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\tconst position = new google.maps.LatLng(latitude, longitude);\r\n\r\n\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\tconst mark = new google.maps.Marker({\r\n\t\t\t\t\tposition,\r\n\t\t\t\t\tmap: gMap,\r\n\t\t\t\t\ttitle: marker.title,\r\n\t\t\t\t\te4Draggable: true,\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\tgoogle.maps.event.addListener(mark, 'dragend', (event) => {\r\n\t\t\t\t\tconst newLat = event.latLng.lat();\r\n\t\t\t\t\tconst newLng = event.latLng.lng();\r\n\t\t\t\t\tconst markersCloned = newMarkers.map((newMaker) => {\r\n\t\t\t\t\t\tif (marker.id === Number(newMaker.id)) {\r\n\t\t\t\t\t\t\treturn { ...marker, lat: newLat, lng: newLng };\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn marker;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tonChange({ markers: markersCloned });\r\n\t\t\t\t});\r\n\r\n\t\t\t\taddInfoWindow(mark, marker.id, marker.title, marker.desc);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!apiKey) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!scriptLoaded) {\r\n\t\t\tsetMessage(__('Script is not loaded', 'atrc-prefix-atrc'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t// eslint-disable-next-line no-undef\r\n\t\tif (typeof google === 'undefined' || google === null) {\r\n\t\t\tsetMessage(__('google is undefined or null', 'atrc-prefix-atrc'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetMessage('');\r\n\r\n\t\t/* Init Map */\r\n\t\t// eslint-disable-next-line no-undef\r\n\t\tgMap = new google.maps.Map(document.getElementById(mapID), {\r\n\t\t\tcenter: {\r\n\t\t\t\tlat: Number(lat) || 28.0045,\r\n\t\t\t\tlng: Number(lng) || 84.6284,\r\n\t\t\t},\r\n\t\t\tgestureHandling: 'cooperative',\r\n\t\t\tzoom,\r\n\t\t\tmapTypeId,\r\n\t\t});\r\n\r\n\t\tif (loc && !lat && !lng) {\r\n\t\t\tconst request = {\r\n\t\t\t\tquery: loc,\r\n\t\t\t\tfields: ['name', 'geometry'],\r\n\t\t\t};\r\n\r\n\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\tconst service = new google.maps.places.PlacesService(gMap);\r\n\r\n\t\t\tservice.findPlaceFromQuery(request, (results, status) => {\r\n\t\t\t\t// eslint-disable-next-line no-undef\r\n\t\t\t\tif (status === google.maps.places.PlacesServiceStatus.OK) {\r\n\t\t\t\t\tif (0 < results.length) {\r\n\t\t\t\t\t\tgMap.setCenter(results[0].geometry.loc);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tgMap.addListener('zoom_changed', () => {\r\n\t\t\tconst newZoom = gMap.getZoom();\r\n\t\t\tonChange({ zoom: newZoom });\r\n\t\t});\r\n\r\n\t\tgMap.addListener('maptypeid_changed', () => {\r\n\t\t\tconst newMapTypeId = gMap.getMapTypeId();\r\n\t\t\tonChange({ mapTypeId: newMapTypeId });\r\n\t\t});\r\n\r\n\t\tgMap.addListener('bounds_changed', () => {\r\n\t\t\tconst location = gMap.getCenter();\r\n\t\t\tif (location) {\r\n\t\t\t\tconst latitude = location.lat();\r\n\t\t\t\tconst longitude = location.lng();\r\n\t\t\t\tonChange({\r\n\t\t\t\t\tlat: latitude.toString(),\r\n\t\t\t\t\tlng: longitude.toString(),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t/* Markers */\r\n\t\tcycleMarkers(markers);\r\n\t}, [scriptLoaded]);\r\n\r\n\treturn apiKey || msg ? (\r\n\t\t<div\r\n\t\t\tclassName={classNames(className, 'at-map')}\r\n\t\t\tid={mapID}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{msg}\r\n\t\t</div>\r\n\t) : (\r\n\t\t<iframe\r\n\t\t\ttitle={sprintf(\r\n\t\t\t\t// translators: %s: location\r\n\t\t\t\t__(\r\n\t\t\t\t\t'Embedded content from Google Maps. Location: %s.',\r\n\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t),\r\n\t\t\t\tloc\r\n\t\t\t)}\r\n\t\t\tsrc={`https://maps.google.com/maps?q=${encodeURIComponent(\r\n\t\t\t\tloc\r\n\t\t\t)}&t=&z=${zoom}&ie=UTF8&output=embed`}\r\n\t\t\tframeBorder='0'\r\n\t\t\tclassName={classNames(className, 'at-map')}\r\n\t\t\tid={mapID}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AtrcGoogleMap;\r\n"],"mappings":"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"}