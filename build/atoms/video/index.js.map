{"version":3,"names":["__","addQueryArgs","classnames","AtrcImg","AtrcVideoIsYoutube","url","regExp","match","length","AtrcGetYoutubeVideUrl","props","id","Error","autoplay","loop","muted","mute","controls","showInfo","playlist","start","end","playsinline","quryArgs","AtrcVideoIsVimeo","regEx","vimeoVideoUrl","speed","AtrcVideoIsHtml5","test","AtrcIsImageUrl","AtrcVideo","variant","className","onSettings","playsInline","width","height","allowFullScreen","preload","poster","React","createElement","autoPlay","src","youtubeVideUrl","frameBorder","title","vimeoUrl"],"sources":["D:/wamp/www/atrc-package/atrc/packages/atoms/video/index.js"],"sourcesContent":["/* WordPress */\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { addQueryArgs } from '@wordpress/url';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\nimport AtrcImg from '../img';\r\n/*Local Components*/\r\n\r\n/*Source\r\n * https://stackoverflow.com/questions/3452546/how-do-i-get-the-youtube-vid-id-from-a-url\r\n * */\r\nexport function AtrcVideoIsYoutube(url) {\r\n\tconst regExp =\r\n\t\t\t/^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#&?]*).*/,\r\n\t\tmatch = url.match(regExp);\r\n\r\n\treturn match && match[7].length === 11 ? match[7] : false;\r\n}\r\n\r\nfunction AtrcGetYoutubeVideUrl(props) {\r\n\tif (!props || !props.id) {\r\n\t\tthrow new Error('A YouTube vid ID is required');\r\n\t}\r\n\r\n\tlet {\r\n\t\tid,\r\n\t\tautoplay = false,\r\n\t\tloop = false,\r\n\t\tmuted = false,\r\n\t\tmute = false,\r\n\t\tcontrols = false,\r\n\t\tshowInfo = false,\r\n\t\tplaylist = '',\r\n\t\tstart = 0, // default to the start of the vid\r\n\t\tend = 0, // default to the end of the vid\r\n\t\tplaysinline = false,\r\n\t} = props;\r\n\r\n\t// Set the playlist prop if loop is true and no playlist is provided\r\n\tif (loop && !playlist) {\r\n\t\tplaylist = id;\r\n\t}\r\n\tconst quryArgs = {\r\n\t\tautoplay,\r\n\t\tloop,\r\n\t\tmute: mute || muted,\r\n\t\tcontrols,\r\n\t\tshowInfo,\r\n\t\tstart,\r\n\t\tend,\r\n\t\tplaysinline,\r\n\t};\r\n\tif (playlist) {\r\n\t\tquryArgs.playlist = playlist;\r\n\t}\r\n\r\n\treturn addQueryArgs(`https://www.youtube.com/embed/${id}`, quryArgs);\r\n}\r\n\r\nexport function AtrcVideoIsVimeo(url) {\r\n\tconst regEx =\r\n\t\t\t/(https?:\\/\\/)?(www\\.)?(player\\.)?vimeo\\.com\\/?(showcase\\/)*([0-9))([a-z]*\\/)*([0-9]{6,11})[?]?.*/,\r\n\t\tmatch = url.match(regEx);\r\n\r\n\treturn match && match.length === 7 ? match[6] : false;\r\n}\r\n\r\nfunction vimeoVideoUrl(props) {\r\n\t// Validate the props object\r\n\tif (!props || !props.id) {\r\n\t\tthrow new Error('A Vimeo vid ID is required');\r\n\t}\r\n\r\n\t// Set default values for the props\r\n\tconst {\r\n\t\tid,\r\n\t\tautoplay = false,\r\n\t\tloop = false,\r\n\t\tmuted = false,\r\n\t\tcontrols = false,\r\n\t\tplaysinline = false,\r\n\t\tspeed = true,\r\n\t} = props;\r\n\r\n\t// Build the URL\r\n\treturn `https://player.vimeo.com/vid/${id}?autoplay=${autoplay}&loop=${loop}&muted=${muted}&controls=${controls}&playsinline=${playsinline}&speed=${speed}`;\r\n}\r\n\r\nexport function AtrcVideoIsHtml5(url) {\r\n\t// Check if the URL is a valid vid file\r\n\treturn /^(https?:)?\\/\\//.test(url) && /\\.(mp4|webm|ogv|mov)$/.test(url);\r\n}\r\nexport function AtrcIsImageUrl(url) {\r\n\t// Check if the URL is a valid image file\r\n\treturn /^(https?:)?\\/\\//.test(url) && /\\.(png|jpe?g|gif|bmp)$/.test(url);\r\n}\r\n\r\nconst AtrcVideo = (props) => {\r\n\tif (!props || !props.url) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst {\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\r\n\t\turl = '',\r\n\t\tonSettings = false,\r\n\r\n\t\tautoplay = false,\r\n\t\tcontrols = false,\r\n\t\tloop = false,\r\n\t\tmuted = true,\r\n\t\tplaysInline = false,\r\n\t\twidth = '',\r\n\t\theight = '',\r\n\r\n\t\tallowFullScreen = false,\r\n\r\n\t\tpreload = '',\r\n\t\tposter = '',\r\n\t} = props;\r\n\r\n\tif (AtrcVideoIsHtml5(url)) {\r\n\t\treturn (\r\n\t\t\t<video\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'at-vid',\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? 'at-vid-' + variant : ''\r\n\t\t\t\t)}\r\n\t\t\t\tautoPlay={autoplay}\r\n\t\t\t\tcontrols={controls}\r\n\t\t\t\tloop={loop}\r\n\t\t\t\tmuted={muted}\r\n\t\t\t\tplaysInline={playsInline}\r\n\t\t\t\twidth={width}\r\n\t\t\t\theight={height}\r\n\t\t\t\tpreload={preload}\r\n\t\t\t\tsrc={url}\r\n\t\t\t\tposter={poster}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\tif (AtrcIsImageUrl(url)) {\r\n\t\treturn (\r\n\t\t\t<AtrcImg\r\n\t\t\t\tsrc={url}\r\n\t\t\t\twidth={width}\r\n\t\t\t\theight={height}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\tif (AtrcVideoIsYoutube(url)) {\r\n\t\tconst youtubeVideUrl = onSettings\r\n\t\t\t? url\r\n\t\t\t: AtrcGetYoutubeVideUrl({\r\n\t\t\t\t\tid: AtrcVideoIsYoutube(url),\r\n\t\t\t\t\tautoplay,\r\n\t\t\t\t\tloop,\r\n\t\t\t\t\tmuted,\r\n\t\t\t\t\tcontrols,\r\n\t\t\t\t\tshowInfo: false,\r\n\t\t\t\t\tplaysinline: playsInline,\r\n\t\t\t  });\r\n\r\n\t\treturn (\r\n\t\t\t<iframe\r\n\t\t\t\theight={height}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'at-vid',\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? 'at-vid-' + variant : ''\r\n\t\t\t\t)}\r\n\t\t\t\tsrc={youtubeVideUrl}\r\n\t\t\t\tframeBorder='0'\r\n\t\t\t\tallowFullScreen={allowFullScreen}\r\n\t\t\t\ttitle={__('Youtube video', 'atrc-prefix-atrc')}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\tif (AtrcVideoIsVimeo(url)) {\r\n\t\tconst vimeoUrl = onSettings\r\n\t\t\t? vimeoVideoUrl({\r\n\t\t\t\t\tid: AtrcVideoIsVimeo(url),\r\n\t\t\t\t\tautoplay,\r\n\t\t\t\t\tloop,\r\n\t\t\t\t\tmuted,\r\n\t\t\t\t\tcontrols,\r\n\t\t\t\t\tplaysinline: playsInline,\r\n\t\t\t  })\r\n\t\t\t: url;\r\n\t\treturn (\r\n\t\t\t<iframe\r\n\t\t\t\theight={height}\r\n\t\t\t\twidth={width}\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'at-vid',\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? 'at-vid-' + variant : ''\r\n\t\t\t\t)}\r\n\t\t\t\tsrc={vimeoUrl}\r\n\t\t\t\tframeBorder='0'\r\n\t\t\t\tallowFullScreen={allowFullScreen}\r\n\t\t\t\ttitle={__('Vimeo video', 'atrc-prefix-atrc')}\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<iframe\r\n\t\t\theight={height}\r\n\t\t\twidth={width}\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'at-vid',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? 'at-vid-' + variant : ''\r\n\t\t\t)}\r\n\t\t\tsrc={url}\r\n\t\t\tframeBorder='0'\r\n\t\t\tallowFullScreen={allowFullScreen}\r\n\t\t\ttitle={__('Other video', 'atrc-prefix-atrc')}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default AtrcVideo;\r\n"],"mappings":"AAAA;AACA,SAASA,EAAE,QAAQ,iBAAiB;AAEpC,SAASC,YAAY,QAAQ,gBAAgB;;AAE7C;AACA,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,OAAO,MAAM,QAAQ;AAC5B;;AAEA;AACA;AACA;AACA,OAAO,SAASC,kBAAkBA,CAACC,GAAG,EAAE;EACvC,MAAMC,MAAM,GACV,2EAA2E;IAC5EC,KAAK,GAAGF,GAAG,CAACE,KAAK,CAACD,MAAM,CAAC;EAE1B,OAAOC,KAAK,IAAIA,KAAK,CAAC,CAAC,CAAC,CAACC,MAAM,KAAK,EAAE,GAAGD,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK;AAC1D;AAEA,SAASE,qBAAqBA,CAACC,KAAK,EAAE;EACrC,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACC,EAAE,EAAE;IACxB,MAAM,IAAIC,KAAK,CAAC,8BAA8B,CAAC;EAChD;EAEA,IAAI;IACHD,EAAE;IACFE,QAAQ,GAAG,KAAK;IAChBC,IAAI,GAAG,KAAK;IACZC,KAAK,GAAG,KAAK;IACbC,IAAI,GAAG,KAAK;IACZC,QAAQ,GAAG,KAAK;IAChBC,QAAQ,GAAG,KAAK;IAChBC,QAAQ,GAAG,EAAE;IACbC,KAAK,GAAG,CAAC;IAAE;IACXC,GAAG,GAAG,CAAC;IAAE;IACTC,WAAW,GAAG;EACf,CAAC,GAAGZ,KAAK;;EAET;EACA,IAAII,IAAI,IAAI,CAACK,QAAQ,EAAE;IACtBA,QAAQ,GAAGR,EAAE;EACd;EACA,MAAMY,QAAQ,GAAG;IAChBV,QAAQ;IACRC,IAAI;IACJE,IAAI,EAAEA,IAAI,IAAID,KAAK;IACnBE,QAAQ;IACRC,QAAQ;IACRE,KAAK;IACLC,GAAG;IACHC;EACD,CAAC;EACD,IAAIH,QAAQ,EAAE;IACbI,QAAQ,CAACJ,QAAQ,GAAGA,QAAQ;EAC7B;EAEA,OAAOlB,YAAY,CAAE,iCAAgCU,EAAG,EAAC,EAAEY,QAAQ,CAAC;AACrE;AAEA,OAAO,SAASC,gBAAgBA,CAACnB,GAAG,EAAE;EACrC,MAAMoB,KAAK,GACT,kGAAkG;IACnGlB,KAAK,GAAGF,GAAG,CAACE,KAAK,CAACkB,KAAK,CAAC;EAEzB,OAAOlB,KAAK,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,GAAGD,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK;AACtD;AAEA,SAASmB,aAAaA,CAAChB,KAAK,EAAE;EAC7B;EACA,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACC,EAAE,EAAE;IACxB,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;EAC9C;;EAEA;EACA,MAAM;IACLD,EAAE;IACFE,QAAQ,GAAG,KAAK;IAChBC,IAAI,GAAG,KAAK;IACZC,KAAK,GAAG,KAAK;IACbE,QAAQ,GAAG,KAAK;IAChBK,WAAW,GAAG,KAAK;IACnBK,KAAK,GAAG;EACT,CAAC,GAAGjB,KAAK;;EAET;EACA,OAAQ,gCAA+BC,EAAG,aAAYE,QAAS,SAAQC,IAAK,UAASC,KAAM,aAAYE,QAAS,gBAAeK,WAAY,UAASK,KAAM,EAAC;AAC5J;AAEA,OAAO,SAASC,gBAAgBA,CAACvB,GAAG,EAAE;EACrC;EACA,OAAO,iBAAiB,CAACwB,IAAI,CAACxB,GAAG,CAAC,IAAI,uBAAuB,CAACwB,IAAI,CAACxB,GAAG,CAAC;AACxE;AACA,OAAO,SAASyB,cAAcA,CAACzB,GAAG,EAAE;EACnC;EACA,OAAO,iBAAiB,CAACwB,IAAI,CAACxB,GAAG,CAAC,IAAI,wBAAwB,CAACwB,IAAI,CAACxB,GAAG,CAAC;AACzE;AAEA,MAAM0B,SAAS,GAAIrB,KAAK,IAAK;EAC5B,IAAI,CAACA,KAAK,IAAI,CAACA,KAAK,CAACL,GAAG,EAAE;IACzB,OAAO,IAAI;EACZ;EAEA,MAAM;IACL2B,OAAO,GAAG,EAAE;IACZC,SAAS,GAAG,EAAE;IAEd5B,GAAG,GAAG,EAAE;IACR6B,UAAU,GAAG,KAAK;IAElBrB,QAAQ,GAAG,KAAK;IAChBI,QAAQ,GAAG,KAAK;IAChBH,IAAI,GAAG,KAAK;IACZC,KAAK,GAAG,IAAI;IACZoB,WAAW,GAAG,KAAK;IACnBC,KAAK,GAAG,EAAE;IACVC,MAAM,GAAG,EAAE;IAEXC,eAAe,GAAG,KAAK;IAEvBC,OAAO,GAAG,EAAE;IACZC,MAAM,GAAG;EACV,CAAC,GAAG9B,KAAK;EAET,IAAIkB,gBAAgB,CAACvB,GAAG,CAAC,EAAE;IAC1B,oBACCoC,KAAA,CAAAC,aAAA;MACCT,SAAS,EAAE/B,UAAU,CACpB,QAAQ,EACR+B,SAAS,EACTD,OAAO,GAAG,SAAS,GAAGA,OAAO,GAAG,EACjC,CAAE;MACFW,QAAQ,EAAE9B,QAAS;MACnBI,QAAQ,EAAEA,QAAS;MACnBH,IAAI,EAAEA,IAAK;MACXC,KAAK,EAAEA,KAAM;MACboB,WAAW,EAAEA,WAAY;MACzBC,KAAK,EAAEA,KAAM;MACbC,MAAM,EAAEA,MAAO;MACfE,OAAO,EAAEA,OAAQ;MACjBK,GAAG,EAAEvC,GAAI;MACTmC,MAAM,EAAEA;IAAO,CACf,CAAC;EAEJ;EACA,IAAIV,cAAc,CAACzB,GAAG,CAAC,EAAE;IACxB,oBACCoC,KAAA,CAAAC,aAAA,CAACvC,OAAO;MACPyC,GAAG,EAAEvC,GAAI;MACT+B,KAAK,EAAEA,KAAM;MACbC,MAAM,EAAEA;IAAO,CACf,CAAC;EAEJ;EACA,IAAIjC,kBAAkB,CAACC,GAAG,CAAC,EAAE;IAC5B,MAAMwC,cAAc,GAAGX,UAAU,GAC9B7B,GAAG,GACHI,qBAAqB,CAAC;MACtBE,EAAE,EAAEP,kBAAkB,CAACC,GAAG,CAAC;MAC3BQ,QAAQ;MACRC,IAAI;MACJC,KAAK;MACLE,QAAQ;MACRC,QAAQ,EAAE,KAAK;MACfI,WAAW,EAAEa;IACb,CAAC,CAAC;IAEL,oBACCM,KAAA,CAAAC,aAAA;MACCL,MAAM,EAAEA,MAAO;MACfD,KAAK,EAAEA,KAAM;MACbH,SAAS,EAAE/B,UAAU,CACpB,QAAQ,EACR+B,SAAS,EACTD,OAAO,GAAG,SAAS,GAAGA,OAAO,GAAG,EACjC,CAAE;MACFY,GAAG,EAAEC,cAAe;MACpBC,WAAW,EAAC,GAAG;MACfR,eAAe,EAAEA,eAAgB;MACjCS,KAAK,EAAE/C,EAAE,CAAC,eAAe,EAAE,kBAAkB;IAAE,CAC/C,CAAC;EAEJ;EACA,IAAIwB,gBAAgB,CAACnB,GAAG,CAAC,EAAE;IAC1B,MAAM2C,QAAQ,GAAGd,UAAU,GACxBR,aAAa,CAAC;MACdf,EAAE,EAAEa,gBAAgB,CAACnB,GAAG,CAAC;MACzBQ,QAAQ;MACRC,IAAI;MACJC,KAAK;MACLE,QAAQ;MACRK,WAAW,EAAEa;IACb,CAAC,CAAC,GACF9B,GAAG;IACN,oBACCoC,KAAA,CAAAC,aAAA;MACCL,MAAM,EAAEA,MAAO;MACfD,KAAK,EAAEA,KAAM;MACbH,SAAS,EAAE/B,UAAU,CACpB,QAAQ,EACR+B,SAAS,EACTD,OAAO,GAAG,SAAS,GAAGA,OAAO,GAAG,EACjC,CAAE;MACFY,GAAG,EAAEI,QAAS;MACdF,WAAW,EAAC,GAAG;MACfR,eAAe,EAAEA,eAAgB;MACjCS,KAAK,EAAE/C,EAAE,CAAC,aAAa,EAAE,kBAAkB;IAAE,CAC7C,CAAC;EAEJ;EAEA,oBACCyC,KAAA,CAAAC,aAAA;IACCL,MAAM,EAAEA,MAAO;IACfD,KAAK,EAAEA,KAAM;IACbH,SAAS,EAAE/B,UAAU,CACpB,QAAQ,EACR+B,SAAS,EACTD,OAAO,GAAG,SAAS,GAAGA,OAAO,GAAG,EACjC,CAAE;IACFY,GAAG,EAAEvC,GAAI;IACTyC,WAAW,EAAC,GAAG;IACfR,eAAe,EAAEA,eAAgB;IACjCS,KAAK,EAAE/C,EAAE,CAAC,aAAa,EAAE,kBAAkB;EAAE,CAC7C,CAAC;AAEJ,CAAC;AAED,eAAe+B,SAAS"}