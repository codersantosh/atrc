{"version":3,"names":["__","useEffect","useState","Icon","classnames","AtrcPrefix","AtrcIconWp","props","className","variant","defaultProps","React","createElement","_extends","AtrcIconTag","icon","IconTag","AtrcIconUrl","iconUrl","setIcon","fetchIcon","url","URL","pathname","endsWith","error","msg","response","fetch","data","text","message","dangerouslySetInnerHTML","__html","AtrcIcon","type","svg","div","document","innerHTML","hasHtmlTags","querySelector"],"sources":["D:/wamp/www/atrc-package/atrc/packages/atoms/icon/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { useEffect, useState } from '@wordpress/element';\r\n\r\nimport { Icon } from '@wordpress/components';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local Components*/\r\nconst AtrcIconWp = (props) => {\r\n\tconst { className = '', variant = '', ...defaultProps } = props;\r\n\treturn (\r\n\t\t<Icon\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'at-svg',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcIconTag = (props) => {\r\n\tconst { icon, className = '', variant = '', ...defaultProps } = props;\r\n\r\n\tconst IconTag = icon;\r\n\treturn (\r\n\t\t<IconTag\r\n\t\t\tclassName={classnames(\r\n\t\t\t\t'at-svg',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcIconUrl = (props) => {\r\n\tconst { iconUrl, ...defaultProps } = props;\r\n\r\n\tconst [icon, setIcon] = useState();\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchIcon() {\r\n\t\t\tconst url = new URL(iconUrl);\r\n\t\t\tif (!url.pathname.endsWith('.svg')) {\r\n\t\t\t\tsetIcon({\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmsg: __(\r\n\t\t\t\t\t\t'Error: Icon url should contain .svg extension',\r\n\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t),\r\n\t\t\t\t});\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tconst response = await fetch(iconUrl);\r\n\t\t\t\tconst data = await response.text();\r\n\t\t\t\tsetIcon(data);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tsetIcon({\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmsg: error.message || __('Error on icon url', 'atrc-prefix-atrc'),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfetchIcon();\r\n\t}, [iconUrl]);\r\n\r\n\tif (!icon) {\r\n\t\treturn null;\r\n\t}\r\n\tif (icon.error) {\r\n\t\treturn icon.message;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tdangerouslySetInnerHTML={{ __html: icon }}\r\n\t\t\t{...defaultProps}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nconst AtrcIcon = (props) => {\r\n\tconst {\r\n\t\tclassName = '',\r\n\t\tvariant = '',\r\n\t\ttype = 'wp',\r\n\t\tsvg = '',\r\n\t\ticon = '',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tif (typeof icon === 'function') {\r\n\t\treturn icon({\r\n\t\t\tclassName: classnames(\r\n\t\t\t\t'at-svg',\r\n\t\t\t\t'at-w',\r\n\t\t\t\t'at-h',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t),\r\n\t\t\t...defaultProps,\r\n\t\t});\r\n\t}\r\n\r\n\tif (type === 'wp') {\r\n\t\treturn <AtrcIconWp {...props} />;\r\n\t}\r\n\tif ('ri' === type) {\r\n\t\treturn <AtrcIconTag {...props} />;\r\n\t}\r\n\tif (type === 'bootstrap') {\r\n\t\treturn <AtrcIconTag {...props} />;\r\n\t}\r\n\tif (type === 'svg') {\r\n\t\tif (typeof svg === 'function') {\r\n\t\t\treturn svg({\r\n\t\t\t\tclassName: classnames(\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t\t),\r\n\t\t\t\t...defaultProps,\r\n\t\t\t});\r\n\t\t}\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.innerHTML = svg;\r\n\t\tconst hasHtmlTags = div.querySelector('*') !== null;\r\n\t\treturn hasHtmlTags ? (\r\n\t\t\t<span\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'at-svg',\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t\t)}\r\n\t\t\t\tdangerouslySetInnerHTML={{ __html: svg }}\r\n\t\t\t\t{...defaultProps}\r\n\t\t\t/>\r\n\t\t) : (\r\n\t\t\t<span\r\n\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t'at-svg',\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\tvariant ? AtrcPrefix('svg') + '-' + variant : ''\r\n\t\t\t\t)}\r\n\t\t\t\t{...defaultProps}>\r\n\t\t\t\t{svg}\r\n\t\t\t</span>\r\n\t\t);\r\n\t}\r\n\r\n\tif ('url' === type) {\r\n\t\treturn <AtrcIconUrl {...props} />;\r\n\t}\r\n\r\n\treturn null;\r\n};\r\nexport default AtrcIcon;\r\n"],"mappings":"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"}