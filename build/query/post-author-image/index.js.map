{"version":3,"names":["store","coreStore","forwardRef","useSelect","__","addQueryArgs","removeQueryArgs","AtrcWrap","AtrcImg","AtrcUseUserAvatar","AtrcPostAuthorImage","props","ref","postType","postId","htmlTag","linkOptions","size","defaultProps","authorId","select","getEditedEntityRecord","_authorId","author","avatar","userId","doubledSizedSrc","src","s","React","createElement","_extends","tag","alt"],"sources":["D:/wamp/www/atrc-package/atrc/packages/query/post-author-image/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { forwardRef } from '@wordpress/element';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\r\n\r\n/* Inbuilt */\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\nimport AtrcUseUserAvatar from './use-user-avatar';\r\n\r\n/* Local */\r\nconst AtrcPostAuthorImage = (props, ref) => {\r\n\tconst {\r\n\t\tpostType,\r\n\t\tpostId,\r\n\t\thtmlTag,\r\n\t\tlinkOptions,\r\n\t\tsize = 24,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst authorId = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getEditedEntityRecord } = select(coreStore);\r\n\t\t\tconst _authorId = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t)?.author;\r\n\r\n\t\t\treturn _authorId;\r\n\t\t},\r\n\t\t[postType, postId]\r\n\t);\r\n\r\n\tconst avatar = AtrcUseUserAvatar({\r\n\t\tuserId: authorId,\r\n\t\tpostId,\r\n\t\tpostType,\r\n\t});\r\n\r\n\tconst doubledSizedSrc = addQueryArgs(removeQueryArgs(avatar?.src, ['s']), {\r\n\t\ts: size * 2,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...defaultProps}\r\n\t\t\tref={ref}\r\n\t\t\ttag='figure'>\r\n\t\t\t{doubledSizedSrc ? (\r\n\t\t\t\t<AtrcImg\r\n\t\t\t\t\tsrc={doubledSizedSrc}\r\n\t\t\t\t\talt={__('Author image', 'atrc-prefix-atrc')}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t__('Not author image found!', 'atrc-prefix-atrc')\r\n\t\t\t)}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default forwardRef(AtrcPostAuthorImage);\r\n"],"mappings":";AAAA;AACA,SAASA,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,YAAY,EAAEC,eAAe,QAAQ,gBAAgB;;AAE9D;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,OAAO,MAAM,iBAAiB;AAErC,OAAOC,iBAAiB,MAAM,mBAAmB;;AAEjD;AACA,MAAMC,mBAAmB,GAAGA,CAACC,KAAK,EAAEC,GAAG,KAAK;EAC3C,MAAM;IACLC,QAAQ;IACRC,MAAM;IACNC,OAAO;IACPC,WAAW;IACXC,IAAI,GAAG,EAAE;IACT,GAAGC;EACJ,CAAC,GAAGP,KAAK;EAET,MAAMQ,QAAQ,GAAGhB,SAAS,CACxBiB,MAAM,IAAK;IACX,MAAM;MAAEC;IAAsB,CAAC,GAAGD,MAAM,CAACnB,SAAS,CAAC;IACnD,MAAMqB,SAAS,GAAGD,qBAAqB,CACtC,UAAU,EACVR,QAAQ,EACRC,MACD,CAAC,EAAES,MAAM;IAET,OAAOD,SAAS;EACjB,CAAC,EACD,CAACT,QAAQ,EAAEC,MAAM,CAClB,CAAC;EAED,MAAMU,MAAM,GAAGf,iBAAiB,CAAC;IAChCgB,MAAM,EAAEN,QAAQ;IAChBL,MAAM;IACND;EACD,CAAC,CAAC;EAEF,MAAMa,eAAe,GAAGrB,YAAY,CAACC,eAAe,CAACkB,MAAM,EAAEG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;IACzEC,CAAC,EAAEX,IAAI,GAAG;EACX,CAAC,CAAC;EAEF,oBACCY,KAAA,CAAAC,aAAA,CAACvB,QAAQ,EAAAwB,QAAA,KACJb,YAAY;IAChBN,GAAG,EAAEA,GAAI;IACToB,GAAG,EAAC;EAAQ,IACXN,eAAe,gBACfG,KAAA,CAAAC,aAAA,CAACtB,OAAO;IACPmB,GAAG,EAAED,eAAgB;IACrBO,GAAG,EAAE7B,EAAE,CAAC,cAAc,EAAE,kBAAkB;EAAE,CAC5C,CAAC,GAEFA,EAAE,CAAC,yBAAyB,EAAE,kBAAkB,CAExC,CAAC;AAEb,CAAC;AAED,eAAeF,UAAU,CAACQ,mBAAmB,CAAC"}