{"version":3,"names":["store","coreStore","useSelect","__","addQueryArgs","removeQueryArgs","AtrcWrap","AtrcImg","AtrcUseUserAvatar","AtrcPostAuthorImage","props","postType","postId","htmlTag","linkOptions","_props$size","size","defaultProps","_objectWithoutProperties","_excluded","authorId","select","_getEditedEntityRecor","_select","getEditedEntityRecord","_authorId","author","avatar","userId","doubledSizedSrc","src","s","React","createElement","_extends","tag","alt"],"sources":["D:/wamp/www/atrc-package/atrc/packages/query/post-author-image/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { store as coreStore } from '@wordpress/core-data';\r\nimport { useSelect } from '@wordpress/data';\r\nimport { __ } from '@wordpress/i18n';\r\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\r\n\r\n/* Inbuilt */\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\nimport AtrcUseUserAvatar from './use-user-avatar';\r\n\r\n/* Local */\r\nconst AtrcPostAuthorImage = (props) => {\r\n\tconst {\r\n\t\tpostType,\r\n\t\tpostId,\r\n\t\thtmlTag,\r\n\t\tlinkOptions,\r\n\t\tsize = 24,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst authorId = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getEditedEntityRecord } = select(coreStore);\r\n\t\t\tconst _authorId = getEditedEntityRecord(\r\n\t\t\t\t'postType',\r\n\t\t\t\tpostType,\r\n\t\t\t\tpostId\r\n\t\t\t)?.author;\r\n\r\n\t\t\treturn _authorId;\r\n\t\t},\r\n\t\t[postType, postId]\r\n\t);\r\n\r\n\tconst avatar = AtrcUseUserAvatar({\r\n\t\tuserId: authorId,\r\n\t\tpostId,\r\n\t\tpostType,\r\n\t});\r\n\r\n\tconst doubledSizedSrc = addQueryArgs(removeQueryArgs(avatar?.src, ['s']), {\r\n\t\ts: size * 2,\r\n\t});\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...defaultProps}\r\n\t\t\ttag='figure'>\r\n\t\t\t{doubledSizedSrc ? (\r\n\t\t\t\t<AtrcImg\r\n\t\t\t\t\tsrc={doubledSizedSrc}\r\n\t\t\t\t\talt={__('Author image', 'atrc-prefix-atrc')}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t__('Not author image found!', 'atrc-prefix-atrc')\r\n\t\t\t)}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcPostAuthorImage;\r\n"],"mappings":";;;;AAAA;AACA,SAASA,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACzD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,EAAE,QAAQ,iBAAiB;AACpC,SAASC,YAAY,EAAEC,eAAe,QAAQ,gBAAgB;;AAE9D;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,OAAO,MAAM,iBAAiB;AAErC,OAAOC,iBAAiB,MAAM,mBAAmB;;AAEjD;AACA,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,KAAK,EAAK;EACtC,IACCC,QAAQ,GAMLD,KAAK,CANRC,QAAQ;IACRC,MAAM,GAKHF,KAAK,CALRE,MAAM;IACNC,OAAO,GAIJH,KAAK,CAJRG,OAAO;IACPC,WAAW,GAGRJ,KAAK,CAHRI,WAAW;IAAAC,WAAA,GAGRL,KAAK,CAFRM,IAAI;IAAJA,IAAI,GAAAD,WAAA,cAAG,EAAE,GAAAA,WAAA;IACNE,YAAY,GAAAC,wBAAA,CACZR,KAAK,EAAAS,SAAA;EAET,IAAMC,QAAQ,GAAGlB,SAAS,CACzB,UAACmB,MAAM,EAAK;IAAA,IAAAC,qBAAA;IACX,IAAAC,OAAA,GAAkCF,MAAM,CAACpB,SAAS,CAAC;MAA3CuB,qBAAqB,GAAAD,OAAA,CAArBC,qBAAqB;IAC7B,IAAMC,SAAS,IAAAH,qBAAA,GAAGE,qBAAqB,CACtC,UAAU,EACVb,QAAQ,EACRC,MACD,CAAC,cAAAU,qBAAA,uBAJiBA,qBAAA,CAIfI,MAAM;IAET,OAAOD,SAAS;EACjB,CAAC,EACD,CAACd,QAAQ,EAAEC,MAAM,CAClB,CAAC;EAED,IAAMe,MAAM,GAAGnB,iBAAiB,CAAC;IAChCoB,MAAM,EAAER,QAAQ;IAChBR,MAAM,EAANA,MAAM;IACND,QAAQ,EAARA;EACD,CAAC,CAAC;EAEF,IAAMkB,eAAe,GAAGzB,YAAY,CAACC,eAAe,CAACsB,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,GAAG,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE;IACzEC,CAAC,EAAEf,IAAI,GAAG;EACX,CAAC,CAAC;EAEF,oBACCgB,KAAA,CAAAC,aAAA,CAAC3B,QAAQ,EAAA4B,QAAA,KACJjB,YAAY;IAChBkB,GAAG,EAAC;EAAQ,IACXN,eAAe,gBACfG,KAAA,CAAAC,aAAA,CAAC1B,OAAO;IACPuB,GAAG,EAAED,eAAgB;IACrBO,GAAG,EAAEjC,EAAE,CAAC,cAAc,EAAE,kBAAkB;EAAE,CAC5C,CAAC,GAEFA,EAAE,CAAC,yBAAyB,EAAE,kBAAkB,CAExC,CAAC;AAEb,CAAC;AAED,eAAeM,mBAAmB"}