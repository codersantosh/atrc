{"version":3,"names":["useEntityProp","store","coreStore","__","sprintf","useSelect","AtrcWrap","AtrcImg","getMediaSourceUrlBySizeSlug","media","slug","_media$media_details","media_details","sizes","source_url","AtrcPostFeaturedImage","props","postType","postId","htmlTag","linkOptions","_props$size","size","defaultProps","_objectWithoutProperties","_excluded","_useEntityProp","_useEntityProp2","_slicedToArray","featuredImage","setFeaturedImage","select","_select","getMedia","context","mediaUrl","React","createElement","_extends","tag","src","alt","alt_text"],"sources":["D:/wamp/www/atrc-package/atrc/packages/query/post-featured-image/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/* Inbuilt */\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\n/* Local */\r\nfunction getMediaSourceUrlBySizeSlug(media, slug) {\r\n\treturn media?.media_details?.sizes?.[slug]?.source_url || media?.source_url;\r\n}\r\nconst AtrcPostFeaturedImage = (props) => {\r\n\tconst {\r\n\t\tpostType,\r\n\t\tpostId,\r\n\t\thtmlTag,\r\n\t\tlinkOptions,\r\n\t\tsize = 'full',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tconst [featuredImage, setFeaturedImage] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'featured_media',\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst media = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getMedia } = select(coreStore);\r\n\t\t\tif (featuredImage) {\r\n\t\t\t\treturn getMedia(featuredImage, {\r\n\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t\t},\r\n\t\t[featuredImage]\r\n\t);\r\n\r\n\tconst mediaUrl = getMediaSourceUrlBySizeSlug(media, size);\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...defaultProps}\r\n\t\t\ttag='figure'>\r\n\t\t\t{mediaUrl ? (\r\n\t\t\t\t<AtrcImg\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={\r\n\t\t\t\t\t\tmedia && media.alt_text\r\n\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t// translators: %s: The image's alt text.\r\n\t\t\t\t\t\t\t\t\t__('Featured image: %s', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\t\tmedia.alt_text\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t: __('Featured image', 'atrc-prefix-atrc')\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t__('Not featured image found!', 'atrc-prefix-atrc')\r\n\t\t\t)}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcPostFeaturedImage;\r\n"],"mappings":";;;;;;;;;;AAAA;AACA,SAASA,aAAa,EAAEC,KAAK,IAAIC,SAAS,QAAQ,sBAAsB;AACxE,SAASC,EAAE,EAAEC,OAAO,QAAQ,iBAAiB;AAC7C,SAASC,SAAS,QAAQ,iBAAiB;;AAE3C;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,OAAO,MAAM,iBAAiB;;AAErC;AACA,SAASC,2BAA2BA,CAACC,KAAK,EAAEC,IAAI,EAAE;EAAA,IAAAC,oBAAA;EACjD,OAAO,CAAAF,KAAK,aAALA,KAAK,gBAAAE,oBAAA,GAALF,KAAK,CAAEG,aAAa,cAAAD,oBAAA,gBAAAA,oBAAA,GAApBA,oBAAA,CAAsBE,KAAK,cAAAF,oBAAA,gBAAAA,oBAAA,GAA3BA,oBAAA,CAA8BD,IAAI,CAAC,cAAAC,oBAAA,uBAAnCA,oBAAA,CAAqCG,UAAU,MAAIL,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEK,UAAU;AAC5E;AACA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAIC,KAAK,EAAK;EACxC,IACCC,QAAQ,GAMLD,KAAK,CANRC,QAAQ;IACRC,MAAM,GAKHF,KAAK,CALRE,MAAM;IACNC,OAAO,GAIJH,KAAK,CAJRG,OAAO;IACPC,WAAW,GAGRJ,KAAK,CAHRI,WAAW;IAAAC,WAAA,GAGRL,KAAK,CAFRM,IAAI;IAAJA,IAAI,GAAAD,WAAA,cAAG,MAAM,GAAAA,WAAA;IACVE,YAAY,GAAAC,wBAAA,CACZR,KAAK,EAAAS,SAAA;;EAET;EACA,IAAAC,cAAA,GAA0C1B,aAAa,CACtD,UAAU,EACViB,QAAQ,EACR,gBAAgB,EAChBC,MACD,CAAC;IAAAS,eAAA,GAAAC,cAAA,CAAAF,cAAA;IALMG,aAAa,GAAAF,eAAA;IAAEG,gBAAgB,GAAAH,eAAA;EAOtC,IAAMlB,KAAK,GAAGJ,SAAS,CACtB,UAAC0B,MAAM,EAAK;IACX,IAAAC,OAAA,GAAqBD,MAAM,CAAC7B,SAAS,CAAC;MAA9B+B,QAAQ,GAAAD,OAAA,CAARC,QAAQ;IAChB,IAAIJ,aAAa,EAAE;MAClB,OAAOI,QAAQ,CAACJ,aAAa,EAAE;QAC9BK,OAAO,EAAE;MACV,CAAC,CAAC;IACH;IACA,OAAO,CAAC,CAAC;EACV,CAAC,EACD,CAACL,aAAa,CACf,CAAC;EAED,IAAMM,QAAQ,GAAG3B,2BAA2B,CAACC,KAAK,EAAEa,IAAI,CAAC;EACzD,oBACCc,KAAA,CAAAC,aAAA,CAAC/B,QAAQ,EAAAgC,QAAA,KACJf,YAAY;IAChBgB,GAAG,EAAC;EAAQ,IACXJ,QAAQ,gBACRC,KAAA,CAAAC,aAAA,CAAC9B,OAAO;IACPiC,GAAG,EAAEL,QAAS;IACdM,GAAG,EACFhC,KAAK,IAAIA,KAAK,CAACiC,QAAQ,GACpBtC,OAAO;IACP;IACAD,EAAE,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,EAC5CM,KAAK,CAACiC,QACP,CAAC,GACAvC,EAAE,CAAC,gBAAgB,EAAE,kBAAkB;EAC1C,CACD,CAAC,GAEFA,EAAE,CAAC,2BAA2B,EAAE,kBAAkB,CAE1C,CAAC;AAEb,CAAC;AAED,eAAeY,qBAAqB"}