{"version":3,"names":["_coreData","require","_element","_i18n","_data","_wrap","_interopRequireDefault","_img","_excluded","obj","__esModule","default","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","r","l","t","Symbol","iterator","e","u","a","f","next","done","push","value","return","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","getMediaSourceUrlBySizeSlug","media","slug","_media$media_details","media_details","sizes","source_url","AtrcPostFeaturedImage","props","ref","postType","postId","htmlTag","linkOptions","_props$size","size","defaultProps","_useEntityProp","useEntityProp","_useEntityProp2","featuredImage","setFeaturedImage","useSelect","select","_select","coreStore","getMedia","context","mediaUrl","React","createElement","tag","src","alt","alt_text","sprintf","__","_default","exports","forwardRef"],"sources":["D:/wamp/www/atrc-package/atrc/packages/query/post-featured-image/index.js"],"sourcesContent":["/*WordPress*/\r\nimport { useEntityProp, store as coreStore } from '@wordpress/core-data';\r\nimport { forwardRef } from '@wordpress/element';\r\nimport { __, sprintf } from '@wordpress/i18n';\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/* Inbuilt */\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\n/* Local */\r\nfunction getMediaSourceUrlBySizeSlug(media, slug) {\r\n\treturn media?.media_details?.sizes?.[slug]?.source_url || media?.source_url;\r\n}\r\nconst AtrcPostFeaturedImage = (props, ref) => {\r\n\tconst {\r\n\t\tpostType,\r\n\t\tpostId,\r\n\t\thtmlTag,\r\n\t\tlinkOptions,\r\n\t\tsize = 'full',\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\t// eslint-disable-next-line no-unused-vars\r\n\tconst [featuredImage, setFeaturedImage] = useEntityProp(\r\n\t\t'postType',\r\n\t\tpostType,\r\n\t\t'featured_media',\r\n\t\tpostId\r\n\t);\r\n\r\n\tconst media = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getMedia } = select(coreStore);\r\n\t\t\tif (featuredImage) {\r\n\t\t\t\treturn getMedia(featuredImage, {\r\n\t\t\t\t\tcontext: 'view',\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\treturn {};\r\n\t\t},\r\n\t\t[featuredImage]\r\n\t);\r\n\r\n\tconst mediaUrl = getMediaSourceUrlBySizeSlug(media, size);\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\t{...defaultProps}\r\n\t\t\tref={ref}\r\n\t\t\ttag='figure'>\r\n\t\t\t{mediaUrl ? (\r\n\t\t\t\t<AtrcImg\r\n\t\t\t\t\tsrc={mediaUrl}\r\n\t\t\t\t\talt={\r\n\t\t\t\t\t\tmedia && media.alt_text\r\n\t\t\t\t\t\t\t? sprintf(\r\n\t\t\t\t\t\t\t\t\t// translators: %s: The image's alt text.\r\n\t\t\t\t\t\t\t\t\t__('Featured image: %s', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\t\tmedia.alt_text\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t: __('Featured image', 'atrc-prefix-atrc')\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t) : (\r\n\t\t\t\t__('Not featured image found!', 'atrc-prefix-atrc')\r\n\t\t\t)}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default forwardRef(AtrcPostFeaturedImage);\r\n"],"mappings":"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"}