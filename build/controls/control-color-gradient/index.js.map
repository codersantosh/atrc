{"version":3,"names":["classnames","isEmpty","BaseControl","__experimentalVStack","VStack","TabPanel","ColorPalette","GradientPicker","AtrcUseColors","AtrcPrefix","colorsAndGradientKeys","TAB_COLOR","name","title","value","TAB_GRADIENT","TABS_SETTINGS","ColorGradientControlInner","_ref","colors","gradients","disableCustomColors","disableCustomGradients","__experimentalIsRenderedInSidebar","className","label","onColorChange","onGradientChange","colorValue","gradientValue","clearable","_ref$showTitle","showTitle","enableAlpha","headingLevel","_ref$variant","variant","canChooseAColor","canChooseAGradient","tabPanels","_defineProperty","React","createElement","onChange","newColor","__nextHasNoMargin","newGradient","renderPanelType","type","Fragment","__nextHasNoMarginBottom","spacing","VisualLabel","tabs","initialTabName","tab","ColorGradientControlSelect","props","colorGradientSettings","_AtrcUseColors","allSolids","allGradients","_objectSpread","AtrcColorGradientControl","every","key","Object","prototype","hasOwnProperty","call"],"sources":["D:/wamp/www/atrc-package/atrc/packages/controls/control-color-gradient/index.js"],"sourcesContent":["/* Library */\r\nimport classnames from 'classnames';\r\nimport { isEmpty } from 'lodash';\r\n\r\n/* WordPress */\r\nimport {\r\n\tBaseControl,\r\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\r\n\t__experimentalVStack as VStack,\r\n\tTabPanel,\r\n\tColorPalette,\r\n\tGradientPicker,\r\n} from '@wordpress/components';\r\n\r\n/* Utils */\r\nimport AtrcUseColors from '../../utils/use-colors';\r\n\r\n/* Prefix */\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Local */\r\nconst colorsAndGradientKeys = [\r\n\t'colors',\r\n\t'disableCustomColors',\r\n\t'gradients',\r\n\t'disableCustomGradients',\r\n];\r\n\r\nconst TAB_COLOR = {\r\n\tname: 'color',\r\n\ttitle: 'Solid',\r\n\tvalue: 'color',\r\n};\r\nconst TAB_GRADIENT = {\r\n\tname: 'gradient',\r\n\ttitle: 'Gradient',\r\n\tvalue: 'gradient',\r\n};\r\n\r\nconst TABS_SETTINGS = [TAB_COLOR, TAB_GRADIENT];\r\n\r\nfunction ColorGradientControlInner({\r\n\tcolors,\r\n\tgradients,\r\n\tdisableCustomColors,\r\n\tdisableCustomGradients,\r\n\t__experimentalIsRenderedInSidebar,\r\n\tclassName,\r\n\tlabel,\r\n\tonColorChange,\r\n\tonGradientChange,\r\n\tcolorValue,\r\n\tgradientValue,\r\n\tclearable,\r\n\tshowTitle = true,\r\n\tenableAlpha,\r\n\theadingLevel,\r\n\tvariant = '',\r\n}) {\r\n\tconst canChooseAColor =\r\n\t\tonColorChange && (!isEmpty(colors) || !disableCustomColors);\r\n\tconst canChooseAGradient =\r\n\t\tonGradientChange && (!isEmpty(gradients) || !disableCustomGradients);\r\n\r\n\tif (!canChooseAColor && !canChooseAGradient) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst tabPanels = {\r\n\t\t[TAB_COLOR.value]: (\r\n\t\t\t<ColorPalette\r\n\t\t\t\tvalue={colorValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAGradient\r\n\t\t\t\t\t\t? (newColor) => {\r\n\t\t\t\t\t\t\t\tonColorChange(newColor);\r\n\t\t\t\t\t\t\t\tonGradientChange();\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: onColorChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ colors, disableCustomColors }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\tenableAlpha={enableAlpha}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t\t[TAB_GRADIENT.value]: (\r\n\t\t\t<GradientPicker\r\n\t\t\t\t__nextHasNoMargin\r\n\t\t\t\tvalue={gradientValue}\r\n\t\t\t\tonChange={\r\n\t\t\t\t\tcanChooseAColor\r\n\t\t\t\t\t\t? (newGradient) => {\r\n\t\t\t\t\t\t\t\tonGradientChange(newGradient);\r\n\t\t\t\t\t\t\t\tonColorChange();\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t: onGradientChange\r\n\t\t\t\t}\r\n\t\t\t\t{...{ gradients, disableCustomGradients }}\r\n\t\t\t\t__experimentalIsRenderedInSidebar={__experimentalIsRenderedInSidebar}\r\n\t\t\t\tclearable={clearable}\r\n\t\t\t\theadingLevel={headingLevel}\r\n\t\t\t/>\r\n\t\t),\r\n\t};\r\n\r\n\tconst renderPanelType = (type) => <>{tabPanels[type]}</>;\r\n\r\n\treturn (\r\n\t\t<BaseControl\r\n\t\t\t__nextHasNoMarginBottom\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tclassName,\r\n\t\t\t\tAtrcPrefix('cl-grd'),\r\n\t\t\t\tAtrcPrefix('cl-palette'),\r\n\t\t\t\tvariant ? AtrcPrefix('cl-grd') + '-' + variant : ''\r\n\t\t\t)}>\r\n\t\t\t<fieldset className={classnames(AtrcPrefix('cl-grd-fieldset'))}>\r\n\t\t\t\t<VStack spacing={1}>\r\n\t\t\t\t\t{showTitle && (\r\n\t\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t\t<div className={classnames(AtrcPrefix('cl-grd-legend'))}>\r\n\t\t\t\t\t\t\t\t<BaseControl.VisualLabel>{label}</BaseControl.VisualLabel>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</legend>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{canChooseAColor && canChooseAGradient && (\r\n\t\t\t\t\t\t<TabPanel\r\n\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\tAtrcPrefix('tab-pnl'),\r\n\t\t\t\t\t\t\t\tAtrcPrefix('tab-pnl-inner')\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\ttabs={TABS_SETTINGS}\r\n\t\t\t\t\t\t\tinitialTabName={\r\n\t\t\t\t\t\t\t\tgradientValue\r\n\t\t\t\t\t\t\t\t\t? TAB_GRADIENT.value\r\n\t\t\t\t\t\t\t\t\t: !!canChooseAColor && TAB_COLOR.value\r\n\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t{(tab) => renderPanelType(tab.value)}\r\n\t\t\t\t\t\t</TabPanel>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{!canChooseAGradient && renderPanelType(TAB_COLOR.value)}\r\n\t\t\t\t\t{!canChooseAColor && renderPanelType(TAB_GRADIENT.value)}\r\n\t\t\t\t</VStack>\r\n\t\t\t</fieldset>\r\n\t\t</BaseControl>\r\n\t);\r\n}\r\n\r\nfunction ColorGradientControlSelect(props) {\r\n\tconst colorGradientSettings = {};\r\n\tconst { allSolids, allGradients } = AtrcUseColors();\r\n\r\n\tcolorGradientSettings.colors = allSolids;\r\n\tcolorGradientSettings.gradients = allGradients;\r\n\tcolorGradientSettings.disableCustomColors =\r\n\t\tprops.disableCustomColors || false;\r\n\tcolorGradientSettings.disableCustomGradients =\r\n\t\tprops.disableCustomGradients || false;\r\n\r\n\treturn (\r\n\t\t<ColorGradientControlInner {...{ ...colorGradientSettings, ...props }} />\r\n\t);\r\n}\r\n\r\nfunction AtrcColorGradientControl(props) {\r\n\tif (\r\n\t\tcolorsAndGradientKeys.every((key) =>\r\n\t\t\tObject.prototype.hasOwnProperty.call(props, key)\r\n\t\t)\r\n\t) {\r\n\t\treturn <ColorGradientControlInner {...props} />;\r\n\t}\r\n\treturn <ColorGradientControlSelect {...props} />;\r\n}\r\n\r\nexport default AtrcColorGradientControl;\r\n"],"mappings":";;;;;;AAAA;AACA,OAAOA,UAAU,MAAM,YAAY;AACnC,SAASC,OAAO,QAAQ,QAAQ;;AAEhC;AACA,SACCC,WAAW;AACX;AACAC,oBAAoB,IAAIC,MAAM,EAC9BC,QAAQ,EACRC,YAAY,EACZC,cAAc,QACR,uBAAuB;;AAE9B;AACA,OAAOC,aAAa,MAAM,wBAAwB;;AAElD;AACA,OAAOC,UAAU,MAAM,mBAAmB;;AAE1C;AACA,IAAMC,qBAAqB,GAAG,CAC7B,QAAQ,EACR,qBAAqB,EACrB,WAAW,EACX,wBAAwB,CACxB;AAED,IAAMC,SAAS,GAAG;EACjBC,IAAI,EAAE,OAAO;EACbC,KAAK,EAAE,OAAO;EACdC,KAAK,EAAE;AACR,CAAC;AACD,IAAMC,YAAY,GAAG;EACpBH,IAAI,EAAE,UAAU;EAChBC,KAAK,EAAE,UAAU;EACjBC,KAAK,EAAE;AACR,CAAC;AAED,IAAME,aAAa,GAAG,CAACL,SAAS,EAAEI,YAAY,CAAC;AAE/C,SAASE,yBAAyBA,CAAAC,IAAA,EAiB/B;EAAA,IAhBFC,MAAM,GAAAD,IAAA,CAANC,MAAM;IACNC,SAAS,GAAAF,IAAA,CAATE,SAAS;IACTC,mBAAmB,GAAAH,IAAA,CAAnBG,mBAAmB;IACnBC,sBAAsB,GAAAJ,IAAA,CAAtBI,sBAAsB;IACtBC,iCAAiC,GAAAL,IAAA,CAAjCK,iCAAiC;IACjCC,SAAS,GAAAN,IAAA,CAATM,SAAS;IACTC,KAAK,GAAAP,IAAA,CAALO,KAAK;IACLC,aAAa,GAAAR,IAAA,CAAbQ,aAAa;IACbC,gBAAgB,GAAAT,IAAA,CAAhBS,gBAAgB;IAChBC,UAAU,GAAAV,IAAA,CAAVU,UAAU;IACVC,aAAa,GAAAX,IAAA,CAAbW,aAAa;IACbC,SAAS,GAAAZ,IAAA,CAATY,SAAS;IAAAC,cAAA,GAAAb,IAAA,CACTc,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,IAAI,GAAAA,cAAA;IAChBE,WAAW,GAAAf,IAAA,CAAXe,WAAW;IACXC,YAAY,GAAAhB,IAAA,CAAZgB,YAAY;IAAAC,YAAA,GAAAjB,IAAA,CACZkB,OAAO;IAAPA,OAAO,GAAAD,YAAA,cAAG,EAAE,GAAAA,YAAA;EAEZ,IAAME,eAAe,GACpBX,aAAa,KAAK,CAACzB,OAAO,CAACkB,MAAM,CAAC,IAAI,CAACE,mBAAmB,CAAC;EAC5D,IAAMiB,kBAAkB,GACvBX,gBAAgB,KAAK,CAAC1B,OAAO,CAACmB,SAAS,CAAC,IAAI,CAACE,sBAAsB,CAAC;EAErE,IAAI,CAACe,eAAe,IAAI,CAACC,kBAAkB,EAAE;IAC5C,OAAO,IAAI;EACZ;EAEA,IAAMC,SAAS,GAAAC,eAAA,CAAAA,eAAA,KACb7B,SAAS,CAACG,KAAK,eACf2B,KAAA,CAAAC,aAAA,CAACpC,YAAY;IACZQ,KAAK,EAAEc,UAAW;IAClBe,QAAQ,EACPL,kBAAkB,GACf,UAACM,QAAQ,EAAK;MACdlB,aAAa,CAACkB,QAAQ,CAAC;MACvBjB,gBAAgB,CAAC,CAAC;IAClB,CAAC,GACDD,aACH;IACKP,MAAM,EAANA,MAAM;IAAEE,mBAAmB,EAAnBA,mBAAmB;IACjCE,iCAAiC,EAAEA,iCAAkC;IACrEO,SAAS,EAAEA,SAAU;IACrBG,WAAW,EAAEA,WAAY;IACzBC,YAAY,EAAEA;EAAa,CAC3B,CAAC,GAEFnB,YAAY,CAACD,KAAK,eAClB2B,KAAA,CAAAC,aAAA,CAACnC,cAAc;IACdsC,iBAAiB;IACjB/B,KAAK,EAAEe,aAAc;IACrBc,QAAQ,EACPN,eAAe,GACZ,UAACS,WAAW,EAAK;MACjBnB,gBAAgB,CAACmB,WAAW,CAAC;MAC7BpB,aAAa,CAAC,CAAC;IACf,CAAC,GACDC,gBACH;IACKP,SAAS,EAATA,SAAS;IAAEE,sBAAsB,EAAtBA,sBAAsB;IACvCC,iCAAiC,EAAEA,iCAAkC;IACrEO,SAAS,EAAEA,SAAU;IACrBI,YAAY,EAAEA;EAAa,CAC3B,CAAC,CAEH;EAED,IAAMa,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,IAAI;IAAA,oBAAKP,KAAA,CAAAC,aAAA,CAAAD,KAAA,CAAAQ,QAAA,QAAGV,SAAS,CAACS,IAAI,CAAI,CAAC;EAAA;EAExD,oBACCP,KAAA,CAAAC,aAAA,CAACxC,WAAW;IACXgD,uBAAuB;IACvB1B,SAAS,EAAExB,UAAU,CACpBwB,SAAS,EACTf,UAAU,CAAC,QAAQ,CAAC,EACpBA,UAAU,CAAC,YAAY,CAAC,EACxB2B,OAAO,GAAG3B,UAAU,CAAC,QAAQ,CAAC,GAAG,GAAG,GAAG2B,OAAO,GAAG,EAClD;EAAE,gBACFK,KAAA,CAAAC,aAAA;IAAUlB,SAAS,EAAExB,UAAU,CAACS,UAAU,CAAC,iBAAiB,CAAC;EAAE,gBAC9DgC,KAAA,CAAAC,aAAA,CAACtC,MAAM;IAAC+C,OAAO,EAAE;EAAE,GACjBnB,SAAS,iBACTS,KAAA,CAAAC,aAAA,8BACCD,KAAA,CAAAC,aAAA;IAAKlB,SAAS,EAAExB,UAAU,CAACS,UAAU,CAAC,eAAe,CAAC;EAAE,gBACvDgC,KAAA,CAAAC,aAAA,CAACxC,WAAW,CAACkD,WAAW,QAAE3B,KAA+B,CACrD,CACE,CACR,EACAY,eAAe,IAAIC,kBAAkB,iBACrCG,KAAA,CAAAC,aAAA,CAACrC,QAAQ;IACRmB,SAAS,EAAExB,UAAU,CACpBS,UAAU,CAAC,SAAS,CAAC,EACrBA,UAAU,CAAC,eAAe,CAC3B,CAAE;IACF4C,IAAI,EAAErC,aAAc;IACpBsC,cAAc,EACbzB,aAAa,GACVd,YAAY,CAACD,KAAK,GAClB,CAAC,CAACuB,eAAe,IAAI1B,SAAS,CAACG;EAClC,GACA,UAACyC,GAAG;IAAA,OAAKR,eAAe,CAACQ,GAAG,CAACzC,KAAK,CAAC;EAAA,CAC3B,CACV,EACA,CAACwB,kBAAkB,IAAIS,eAAe,CAACpC,SAAS,CAACG,KAAK,CAAC,EACvD,CAACuB,eAAe,IAAIU,eAAe,CAAChC,YAAY,CAACD,KAAK,CAChD,CACC,CACE,CAAC;AAEhB;AAEA,SAAS0C,0BAA0BA,CAACC,KAAK,EAAE;EAC1C,IAAMC,qBAAqB,GAAG,CAAC,CAAC;EAChC,IAAAC,cAAA,GAAoCnD,aAAa,CAAC,CAAC;IAA3CoD,SAAS,GAAAD,cAAA,CAATC,SAAS;IAAEC,YAAY,GAAAF,cAAA,CAAZE,YAAY;EAE/BH,qBAAqB,CAACvC,MAAM,GAAGyC,SAAS;EACxCF,qBAAqB,CAACtC,SAAS,GAAGyC,YAAY;EAC9CH,qBAAqB,CAACrC,mBAAmB,GACxCoC,KAAK,CAACpC,mBAAmB,IAAI,KAAK;EACnCqC,qBAAqB,CAACpC,sBAAsB,GAC3CmC,KAAK,CAACnC,sBAAsB,IAAI,KAAK;EAEtC,oBACCmB,KAAA,CAAAC,aAAA,CAACzB,yBAAyB,EAAA6C,aAAA,CAAAA,aAAA,KAAUJ,qBAAqB,GAAKD,KAAK,CAAK,CAAC;AAE3E;AAEA,SAASM,wBAAwBA,CAACN,KAAK,EAAE;EACxC,IACC/C,qBAAqB,CAACsD,KAAK,CAAC,UAACC,GAAG;IAAA,OAC/BC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACZ,KAAK,EAAEQ,GAAG,CAAC;EAAA,CACjD,CAAC,EACA;IACD,oBAAOxB,KAAA,CAAAC,aAAA,CAACzB,yBAAyB,EAAKwC,KAAQ,CAAC;EAChD;EACA,oBAAOhB,KAAA,CAAAC,aAAA,CAACc,0BAA0B,EAAKC,KAAQ,CAAC;AACjD;AAEA,eAAeM,wBAAwB"}