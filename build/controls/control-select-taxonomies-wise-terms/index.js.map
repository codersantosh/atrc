{"version":3,"names":["useSelect","store","coreStore","__","AtrcLabel","AtrcNotice","AtrcControlSelectTerm","AtrcUseTaxonomies","props","arguments","length","undefined","_props$postType","postType","taxonomies","select","_select","getTaxonomies","queryArgs","type","filteredTaxonomies","AtrcControlSelectTaxonomyWiseTerms","label","value","onChange","_props$postType2","defaultProps","_objectWithoutProperties","_excluded","React","createElement","autoDismiss","isDismissible","Fragment","map","taxonomy","termIds","slug","handleChange","newTermIds","_objectSpread","_defineProperty","_extends","key","wrapProps","className","name","tax"],"sources":["D:/wamp/www/atrc-package/atrc/packages/controls/control-select-taxonomies-wise-terms/index.js"],"sourcesContent":["/* WordPress*/\r\nimport { useSelect } from '@wordpress/data';\r\n\r\nimport { store as coreStore } from '@wordpress/core-data';\r\n\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/*Atoms*/\r\nimport AtrcLabel from '../../atoms/label';\r\n\r\n/* Molecules */\r\nimport AtrcNotice from '../../molecules/notice';\r\n\r\n/* Controls */\r\nimport AtrcControlSelectTerm from '../control-select-term';\r\n\r\n/* Local*/\r\n/**\r\n * Hook that returns the taxonomies associated with a specific post type.\r\n *\r\n * @param {Object} props\r\n * @return {Object[]} An array of the associated taxonomies.\r\n */\r\nexport const AtrcUseTaxonomies = (props = {}) => {\r\n\tconst { postType = '' } = props;\r\n\r\n\tconst taxonomies = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst { getTaxonomies } = select(coreStore);\r\n\t\t\tconst queryArgs = {};\r\n\t\t\tif (postType) {\r\n\t\t\t\tqueryArgs.type = postType;\r\n\t\t\t}\r\n\t\t\tconst filteredTaxonomies = getTaxonomies(queryArgs);\r\n\t\t\treturn filteredTaxonomies;\r\n\t\t},\r\n\t\t[postType]\r\n\t);\r\n\treturn taxonomies;\r\n};\r\n\r\n/*AtrcControlSelectTaxonomyWiseTerms*/\r\nfunction AtrcControlSelectTaxonomyWiseTerms(props) {\r\n\tconst { label, value, onChange, postType = '', ...defaultProps } = props;\r\n\tconst taxonomies = AtrcUseTaxonomies({ postType });\r\n\tif (!taxonomies || taxonomies.length === 0) {\r\n\t\treturn (\r\n\t\t\t<AtrcNotice\r\n\t\t\t\tautoDismiss={false}\r\n\t\t\t\tisDismissible={false}>\r\n\t\t\t\t{__('No taxonomies found!', 'atrc-prefix-atrc')}\r\n\t\t\t</AtrcNotice>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{label ? <AtrcLabel>{label}</AtrcLabel> : null}\r\n\t\t\t{taxonomies.map((taxonomy) => {\r\n\t\t\t\tconst termIds = value?.[taxonomy.slug] || [];\r\n\t\t\t\tconst handleChange = (newTermIds) => {\r\n\t\t\t\t\tonChange({\r\n\t\t\t\t\t\t...value,\r\n\t\t\t\t\t\t[taxonomy.slug]: newTermIds,\r\n\t\t\t\t\t});\r\n\t\t\t\t};\r\n\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<AtrcControlSelectTerm\r\n\t\t\t\t\t\tkey={taxonomy.slug}\r\n\t\t\t\t\t\twrapProps={{\r\n\t\t\t\t\t\t\tclassName: 'at-flx-grw-1',\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tlabel={taxonomy.name}\r\n\t\t\t\t\t\tvalue={termIds}\r\n\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\ttax={taxonomy.slug}\r\n\t\t\t\t\t\t{...defaultProps}\r\n\t\t\t\t\t/>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default AtrcControlSelectTaxonomyWiseTerms;\r\n"],"mappings":"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"}