{"version":3,"names":["__","useEffect","useMemo","useState","useRef","MediaUpload","MediaUploadCheck","store","blockEditorStore","useSelect","classnames","BsImage","BsTrash","isEmpty","map","reduce","cloneDeep","AtrcWrap","AtrcLabel","AtrcButton","AtrcIcon","AtrcImg","AtrcControlSelect","AtrcControlText","AtrcPanelTools","AtrcNotice","AtrcPanelRow","AtrcTooltip","AtrcPrefix","SelfHostedImg","props","isFirstRender","wp","media","React","createElement","isDismissible","_props$value","value","_props$onChange","onChange","_value$frm","frm","_value$id","id","_value$sizes","sizes","_value$srcset","srcset","_value$alt","alt","_value$ttl","ttl","_value$sz","sz","_value$w","w","_value$h","h","_value$url","url","_useState","_useState2","_slicedToArray","setMedia","_useState3","_useState4","imgSz","setImgSize","setAttrs","newVals","valueCloned","_objectSpread","attachment","fetch","success","attributes","imageSizes","select","settings","getSettings","imageSizesOptions","keyValues","accumulator","_ref","name","slug","label","keys","Object","options","currentValue","currentKey","push","current","mediaSize","_media$sizes$mediaSiz","width","height","abSrcset","concat","title","className","src","onSelect","allowedTypes","render","_ref2","open","Fragment","variant","onClick","type","icon","text","wrapProps","defaultValue","ExternalImg","_props$value2","_props$onChange2","_value$frm2","_value$url2","_value$alt2","_value$ttl2","ImgDetails","_props$value3","_props$onChange3","_value$alt3","_value$ttl3","newVal","ImgSettings","_props$value4","_props$onChange4","_props$allowDetails","allowDetails","resetDetails","setAttr","hasTabValue","tab","AllTabs","hasValue","onDeselect","resetAll","tools","activeItems","iDx","key","AtrcControlImg","_props$label","_props$value5","_props$variant","_props$className","_props$onChange5","_props$allowSource","allowSource","_props$allowSelf","allowSelf","_props$allowExternal","allowExternal","_props$allowDetails2","_props$allowSettings","allowSettings","defaultProps","_objectWithoutProperties","_excluded","_value$frm3","setExternal","_extends"],"sources":["D:/wamp/www/atrc-package/atrc/packages/controls/control-img/index.js"],"sourcesContent":["/*Attributes Structure\r\nType Object\r\n{\r\n    frm = '',\r\n    id = 0,\r\n    url ='',\r\n    alt ='',\r\n    ttl ='',\r\n    sz ='',\r\n    w ='',\r\n    h ='',\r\n}\r\n\r\nmap(obj, (currentValue, currentKey) => ( { value: key, label: key } ))\r\n* */\r\n\r\n/*WordPress*/\r\nimport { __ } from '@wordpress/i18n';\r\n\r\nimport { useEffect, useMemo, useState, useRef } from '@wordpress/element';\r\n\r\nimport {\r\n\tMediaUpload,\r\n\tMediaUploadCheck,\r\n\tstore as blockEditorStore,\r\n} from '@wordpress/block-editor';\r\n\r\nimport { useSelect } from '@wordpress/data';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\nimport { BsImage, BsTrash } from 'react-icons/bs';\r\n\r\nimport { isEmpty, map, reduce, cloneDeep } from 'lodash';\r\n\r\n/*Atoms*/\r\nimport AtrcWrap from '../../atoms/wrap';\r\nimport AtrcLabel from '../../atoms/label';\r\nimport AtrcButton from '../../atoms/button';\r\nimport AtrcIcon from '../../atoms/icon';\r\nimport AtrcImg from '../../atoms/img';\r\n\r\n/* Controls */\r\nimport AtrcControlSelect from '../control-select';\r\nimport AtrcControlText from '../control-text';\r\n\r\n/* Molecules */\r\nimport AtrcPanelTools from '../../molecules/panel-tools';\r\nimport AtrcNotice from '../../molecules/notice';\r\nimport AtrcPanelRow from '../../molecules/panel-row';\r\nimport AtrcTooltip from '../../molecules/tooltip';\r\n\r\n/*Inbuilt*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local*/\r\nconst SelfHostedImg = (props) => {\r\n\tconst isFirstRender = useRef(true);\r\n\r\n\tif (!(typeof wp !== 'undefined' && wp.media)) {\r\n\t\treturn (\r\n\t\t\t<AtrcNotice isDismissible={false}>\r\n\t\t\t\t{__('Add wp_enqueue_media(); on the page', 'atrc-prefix-atrc')}\r\n\t\t\t</AtrcNotice>\r\n\t\t);\r\n\t}\r\n\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst {\r\n\t\tfrm = '',\r\n\t\tid = null,\r\n\t\tsizes = null,\r\n\t\tsrcset = '',\r\n\t\talt = null,\r\n\t\tttl = null,\r\n\t\tsz = 'full',\r\n\t\tw = null,\r\n\t\th = null,\r\n\t\turl = '',\r\n\t} = value;\r\n\r\n\t/* for local management */\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst [media, setMedia] = useState(null);\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst [imgSz, setImgSize] = useState(sz);\r\n\r\n\t/* On change handler */\r\n\tconst setAttrs = (newVals) => {\r\n\t\tconst valueCloned = cloneDeep(value);\r\n\r\n\t\tonChange({\r\n\t\t\t...valueCloned,\r\n\t\t\t...newVals,\r\n\t\t});\r\n\t};\r\n\r\n\t/* Run at first, only once for first time*/\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tuseEffect(() => {\r\n\t\tif (id && !media) {\r\n\t\t\t/* Need to use wp.media becuase const { getMedia } = select(coreStore); doesnot provide same and alos required properties */\r\n\t\t\twp.media.attachment(id).fetch({\r\n\t\t\t\tsuccess(attachment) {\r\n\t\t\t\t\tif (attachment.attributes) {\r\n\t\t\t\t\t\tsetMedia(attachment.attributes);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\t}, []);\r\n\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst imageSizes = useSelect(\r\n\t\t(select) => {\r\n\t\t\tconst settings = select(blockEditorStore).getSettings();\r\n\t\t\treturn id && '' === frm ? settings.imageSizes : null;\r\n\t\t},\r\n\t\t[id, frm]\r\n\t);\r\n\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tconst imageSizesOptions = useMemo(() => {\r\n\t\tif (media && media.sizes) {\r\n\t\t\tconst keyValues = reduce(\r\n\t\t\t\timageSizes,\r\n\t\t\t\t(accumulator, { name, slug }) => {\r\n\t\t\t\t\taccumulator[slug] = { value: slug, label: name };\r\n\t\t\t\t\treturn accumulator;\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t);\r\n\r\n\t\t\treturn {\r\n\t\t\t\tkeys: Object.keys(keyValues),\r\n\t\t\t\toptions: reduce(\r\n\t\t\t\t\tmedia.sizes,\r\n\t\t\t\t\t(accumulator, currentValue, currentKey) => {\r\n\t\t\t\t\t\tif (keyValues[currentKey]) {\r\n\t\t\t\t\t\t\taccumulator.push(keyValues[currentKey]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\taccumulator.push({ value: currentKey, label: currentKey });\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn accumulator;\r\n\t\t\t\t\t},\r\n\t\t\t\t\t[]\r\n\t\t\t\t),\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t}, [imageSizes, media]);\r\n\r\n\t/* set attributes when media change */\r\n\t// eslint-disable-next-line react-hooks/rules-of-hooks\r\n\tuseEffect(() => {\r\n\t\tif (isFirstRender.current) {\r\n\t\t\tisFirstRender.current = false;\r\n\t\t} else {\r\n\t\t\tif (!media || !media.id) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst newVals = {\r\n\t\t\t\tid: media.id,\r\n\t\t\t};\r\n\r\n\t\t\tlet mediaSize = imgSz;\r\n\t\t\tif (!mediaSize) {\r\n\t\t\t\tmediaSize = 'full';\r\n\t\t\t}\r\n\t\t\tif (media.sizes && media.sizes[mediaSize] && media.sizes[mediaSize].url) {\r\n\t\t\t\tnewVals.url =\r\n\t\t\t\t\tmedia.sizes && media.sizes[mediaSize] && media.sizes[mediaSize].url\r\n\t\t\t\t\t\t? media.sizes[mediaSize].url\r\n\t\t\t\t\t\t: media.url;\r\n\t\t\t} else {\r\n\t\t\t\tnewVals.url = media.url;\r\n\t\t\t}\r\n\r\n\t\t\tif (media.sizes[mediaSize]) {\r\n\t\t\t\tconst { width, height, abSrcset } = media.sizes[mediaSize];\r\n\r\n\t\t\t\tnewVals.w = width + 'px';\r\n\t\t\t\tnewVals.h = height + 'px';\r\n\t\t\t\tnewVals.srcset = abSrcset;\r\n\t\t\t\tnewVals.sizes = `(max-width: ${width}px) 100vw, ${width}px)`;\r\n\t\t\t}\r\n\r\n\t\t\tnewVals.alt = media.alt;\r\n\t\t\tnewVals.ttl = media.title;\r\n\t\t\tnewVals.sz = mediaSize;\r\n\t\t\tsetAttrs(newVals);\r\n\t\t}\r\n\t}, [media, imgSz]);\r\n\r\n\tif (frm !== '') {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t<MediaUploadCheck>\r\n\t\t\t\t<AtrcWrap\r\n\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\tAtrcPrefix('ctrl-img-slf-hosted'),\r\n\t\t\t\t\t\t'at-pos',\r\n\t\t\t\t\t\t'at-flx-grw-1'\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t<AtrcImg\r\n\t\t\t\t\t\tsrc={url}\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\ttitle={ttl}\r\n\t\t\t\t\t\tsizes={sizes}\r\n\t\t\t\t\t\tsrcset={srcset}\r\n\t\t\t\t\t\twidth={w}\r\n\t\t\t\t\t\theight={h}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t\t<MediaUpload\r\n\t\t\t\t\t\t\tonSelect={setMedia}\r\n\t\t\t\t\t\t\tallowedTypes={['image', 'video']}\r\n\t\t\t\t\t\t\ttitle={__(\r\n\t\t\t\t\t\t\t\t'Select or upload background media',\r\n\t\t\t\t\t\t\t\t'atrc-prefix-atrc'\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\tvalue={id}\r\n\t\t\t\t\t\t\trender={({ open }) => (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\t\t\t\tvariant='uploads'\r\n\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t'at-gap',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-jfy-cont-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t'at-w'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\tonClick={open}>\r\n\t\t\t\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\t\t\t\ttype='bootstrap'\r\n\t\t\t\t\t\t\t\t\t\t\ticon={BsImage}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t{id\r\n\t\t\t\t\t\t\t\t\t\t\t? __('Replace media', 'atrc-prefix-atrc')\r\n\t\t\t\t\t\t\t\t\t\t\t: __('Add media', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t\t\t\t{id ? (\r\n\t\t\t\t\t\t\t\t\t\t<AtrcTooltip\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\tAtrcPrefix('uploads-del'),\r\n\t\t\t\t\t\t\t\t\t\t\t\t'at-pos'\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\ttext={__('Remove media', 'atrc-prefix-atrc')}>\r\n\t\t\t\t\t\t\t\t\t\t\t<AtrcButton\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classnames(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-bdr-rad',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-flx',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-w',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-h',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-al-itm-ctr',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'at-jfy-cont-ctr'\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvariant='delete'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetAttrs({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<AtrcIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='bootstrap'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={BsTrash}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</AtrcButton>\r\n\t\t\t\t\t\t\t\t\t\t</AtrcTooltip>\r\n\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</AtrcPanelRow>\r\n\t\t\t\t\t{imageSizesOptions && imageSizesOptions.options ? (\r\n\t\t\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t\t\t<AtrcControlSelect\r\n\t\t\t\t\t\t\t\tlabel={__('Image size', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\t\t\twrapProps={{\r\n\t\t\t\t\t\t\t\t\tclassName: 'at-flx-grw-1',\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tvalue={sz}\r\n\t\t\t\t\t\t\t\tdefaultValue='full'\r\n\t\t\t\t\t\t\t\toptions={imageSizesOptions.options}\r\n\t\t\t\t\t\t\t\tonChange={setImgSize}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</AtrcPanelRow>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</AtrcWrap>\r\n\t\t\t</MediaUploadCheck>\r\n\t\t</AtrcPanelRow>\r\n\t);\r\n};\r\n\r\nconst ExternalImg = (props) => {\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst { frm = '', url = '', alt = '', ttl = '' } = value;\r\n\r\n\tif (frm === '') {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t<AtrcControlText\r\n\t\t\t\t\tlabel={__('Image URL', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={url}\r\n\t\t\t\t\ttype='url'\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t\t{url ? (\r\n\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t<AtrcImg\r\n\t\t\t\t\t\tsrc={url}\r\n\t\t\t\t\t\talt={alt}\r\n\t\t\t\t\t\ttitle={ttl}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</AtrcPanelRow>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst ImgDetails = (props) => {\r\n\tconst { value = {}, onChange = () => {} } = props;\r\n\r\n\tconst { alt = '', ttl = '' } = value;\r\n\r\n\treturn (\r\n\t\t<AtrcWrap className={classnames(AtrcPrefix('ctrl-img-img-details'))}>\r\n\t\t\t<AtrcLabel>{__('Image details', 'atrc-prefix-atrc')}</AtrcLabel>\r\n\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t<AtrcControlText\r\n\t\t\t\t\tlabel={__('Alt text', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={alt}\r\n\t\t\t\t\tonChange={(newVal) => onChange(newVal, 'alt')}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t<AtrcControlText\r\n\t\t\t\t\tlabel={__('Title', 'atrc-prefix-atrc')}\r\n\t\t\t\t\tvalue={ttl}\r\n\t\t\t\t\tonChange={(newVal) => onChange(newVal, 'ttl')}\r\n\t\t\t\t/>\r\n\t\t\t</AtrcPanelRow>\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nconst ImgSettings = (props) => {\r\n\tconst { value = {}, onChange = () => {}, allowDetails = true } = props;\r\n\r\n\tconst resetDetails = () => {\r\n\t\tconst valueCloned = cloneDeep(value);\r\n\r\n\t\tdelete valueCloned.alt;\r\n\t\tdelete valueCloned.ttl;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst setAttr = (newVal, type) => {\r\n\t\tconst valueCloned = cloneDeep(value);\r\n\r\n\t\tvalueCloned[type] = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst hasTabValue = (tab) => {\r\n\t\tif (!value || isEmpty(value)) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (tab === 'details') {\r\n\t\t\treturn !!(value.alt || value.ttl);\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tconst AllTabs = [];\r\n\r\n\tif (allowDetails) {\r\n\t\tAllTabs.push({\r\n\t\t\tname: 'details',\r\n\t\t\ttitle: __('Image details', 'atrc-prefix-atrc'),\r\n\t\t\thasValue: hasTabValue('details'),\r\n\t\t\tonDeselect: () => resetDetails(),\r\n\t\t});\r\n\t}\r\n\tif (!allowDetails) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<AtrcPanelTools\r\n\t\t\tlabel={__('Settings', 'atrc-prefix-atrc')}\r\n\t\t\tresetAll={() => onChange({})}\r\n\t\t\ttools={AllTabs}>\r\n\t\t\t{(activeItems) =>\r\n\t\t\t\tmap(activeItems, (tab, iDx) => {\r\n\t\t\t\t\tif ('details' === tab) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ImgDetails\r\n\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\tonChange={setAttr}\r\n\t\t\t\t\t\t\t\tkey={iDx}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t</AtrcPanelTools>\r\n\t);\r\n};\r\n\r\nconst AtrcControlImg = (props) => {\r\n\tconst {\r\n\t\tlabel = '',\r\n\t\tvalue = {},\r\n\t\tvariant = '',\r\n\t\tclassName = '',\r\n\t\tonChange = () => {},\r\n\t\tallowSource = true,\r\n\t\tallowSelf = true,\r\n\t\tallowExternal = true,\r\n\t\tallowDetails = true,\r\n\t\tallowSettings = true,\r\n\t\t...defaultProps\r\n\t} = props;\r\n\r\n\tconst { frm = '' } = value;\r\n\r\n\tconst setAttr = (newVal, type) => {\r\n\t\tconst valueCloned = cloneDeep(value);\r\n\r\n\t\tvalueCloned[type] = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\tconst setExternal = (newVal) => {\r\n\t\tconst valueCloned = cloneDeep(value);\r\n\r\n\t\tdelete valueCloned.id;\r\n\t\tdelete valueCloned.sz;\r\n\t\tdelete valueCloned.url;\r\n\r\n\t\tvalueCloned.url = newVal;\r\n\t\tonChange(valueCloned);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AtrcWrap\r\n\t\t\tclassName={classnames(\r\n\t\t\t\tAtrcPrefix('ctrl-img'),\r\n\t\t\t\t'at-flx-grw-1',\r\n\t\t\t\tclassName,\r\n\t\t\t\tvariant ? AtrcPrefix('ctrl-img') + '-' + variant : ''\r\n\t\t\t)}\r\n\t\t\t{...defaultProps}>\r\n\t\t\t{label && <AtrcLabel>{label}</AtrcLabel>}\r\n\t\t\t{allowSource && (\r\n\t\t\t\t<AtrcPanelRow className={classnames('at-m')}>\r\n\t\t\t\t\t<AtrcControlSelect\r\n\t\t\t\t\t\tlabel={__('Image source', 'atrc-prefix-atrc')}\r\n\t\t\t\t\t\tvalue={frm}\r\n\t\t\t\t\t\toptions={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __('Self hosted', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\tvalue: '',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlabel: __('External', 'atrc-prefix-atrc'),\r\n\t\t\t\t\t\t\t\tvalue: 'ext',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\tonChange={(newVal) => setAttr(newVal, 'frm')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</AtrcPanelRow>\r\n\t\t\t)}\r\n\t\t\t{allowSelf && '' === frm ? (\r\n\t\t\t\t<SelfHostedImg\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{allowExternal && 'ext' === frm ? (\r\n\t\t\t\t<ExternalImg\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={setExternal}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t\t{allowSettings && 'ext' === frm && (value.id || value.url) ? (\r\n\t\t\t\t<ImgSettings\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tallowDetails={allowDetails}\r\n\t\t\t\t/>\r\n\t\t\t) : null}\r\n\t\t</AtrcWrap>\r\n\t);\r\n};\r\n\r\nexport default AtrcControlImg;\r\n"],"mappings":"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"}