{"version":3,"names":["React","useMemo","__","classnames","AtrcControlSelect","AtrcUseTaxonomies","AtrcNotice","AtrcPrefix","AtrcControlGetTaxonomyOptions","props","arguments","length","undefined","_props$postType","postType","_props$showOptionNone","showOptionNone","_props$optionNoneValu","optionNoneValue","_props$optionNoneLabe","optionNoneLabel","taxonomies","ExcludeTaxonomies","options","baseOptions","forEach","_ref","name","slug","includes","push","label","value","concat","AtrcControlSelectTaxonomy","onChange","_props$showOptionNone2","_props$optionNoneValu2","_props$optionNoneLabe2","_props$variant","variant","_props$className","className","_props$postType2","defaultProps","_objectWithoutProperties","_excluded","createElement","autoDismiss","isDismissible","_extends"],"sources":["D:/wamp/www/atrc-package/atrc/packages/controls/control-select-taxonomy/index.js"],"sourcesContent":["import React from 'react';\r\n\r\n/* WordPress*/\r\nimport { useMemo } from '@wordpress/element';\r\n\r\nimport { __ } from '@wordpress/i18n';\r\n\r\n/*Library*/\r\nimport classnames from 'classnames';\r\n\r\n/*Controls*/\r\nimport AtrcControlSelect from '../control-select';\r\nimport { AtrcUseTaxonomies } from '../control-select-taxonomies-wise-terms';\r\n\r\n/* Molecules */\r\nimport AtrcNotice from '../../molecules/notice';\r\n\r\n/* Prefix */\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/* Local*/\r\nexport function AtrcControlGetTaxonomyOptions(props = {}) {\r\n    const { postType = '', showOptionNone = false, optionNoneValue = '', optionNoneLabel = '' } = props;\r\n\r\n    const taxonomies = AtrcUseTaxonomies({ postType });\r\n    const ExcludeTaxonomies = ['nav_menu'];\r\n\r\n    const options = useMemo(() => {\r\n        const baseOptions = [];\r\n\r\n        (taxonomies || []).forEach(({ name, slug }) => {\r\n            if (!ExcludeTaxonomies.includes(slug)) {\r\n                baseOptions.push({\r\n                    label: name,\r\n                    value: slug,\r\n                });\r\n            }\r\n        });\r\n\r\n        if (showOptionNone) {\r\n            return [\r\n                {\r\n                    value: optionNoneValue,\r\n                    label: optionNoneLabel,\r\n                },\r\n                ...baseOptions,\r\n            ];\r\n        }\r\n\r\n        return baseOptions;\r\n    }, [taxonomies]);\r\n\r\n    return options;\r\n}\r\n\r\n/*AtrcControlSelectTaxonomy*/\r\nfunction AtrcControlSelectTaxonomy(props) {\r\n    const {\r\n        label,\r\n        value,\r\n        onChange,\r\n        showOptionNone = true,\r\n        optionNoneValue = '',\r\n        optionNoneLabel = __('Select', 'atrc-prefix-atrc'),\r\n        variant = '',\r\n        className = '',\r\n        postType = '',\r\n        ...defaultProps\r\n    } = props;\r\n\r\n    const options = AtrcControlGetTaxonomyOptions({\r\n        postType,\r\n        showOptionNone,\r\n        optionNoneValue,\r\n        optionNoneLabel\r\n    });\r\n\r\n    if (!options || !options.length) {\r\n        return (\r\n            <AtrcNotice\r\n                autoDismiss={false}\r\n                isDismissible={false}>\r\n                {__('No taxonomies found!', 'atrc-prefix-atrc')}\r\n            </AtrcNotice>\r\n        );\r\n    }\r\n    return (\r\n        <AtrcControlSelect\r\n            label={label}\r\n            className={classnames(\r\n                AtrcPrefix('ctrl-select-taxonomy'),\r\n                className,\r\n                variant ? AtrcPrefix('ctrl-select-taxonomy') + '-' + variant : ''\r\n            )}\r\n            value={value}\r\n            onChange={onChange}\r\n            options={options}\r\n            {...defaultProps}\r\n        />\r\n    );\r\n}\r\n\r\nexport default AtrcControlSelectTaxonomy;\r\n"],"mappings":"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","ignoreList":[]}