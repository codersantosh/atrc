{"version":3,"names":["React","useEffect","useState","RichTextEditor","AtrcText","AtrcInternalCss","AtrcPrefix","AtrcControlEditor","props","label","value","onChange","_useState","createValueFromString","createEmptyValue","_useState2","_slicedToArray","val","setVal","handleChange","toString","toolbarConfig","display","INLINE_STYLE_BUTTONS","style","BLOCK_TYPE_BUTTONS","createElement","Fragment","className","classnames","toolbarClassName","editorClassName"],"sources":["D:/wamp/www/atrc-package/atrc/packages/controls/control-editor/index.js"],"sourcesContent":["import React from 'react';\n\n/*WordPress*/\r\nimport { useEffect, useState } from '@wordpress/element';\r\n\r\n/*Library\r\nIssues on tree shaking\r\n*/\r\nimport RichTextEditor from 'react-rte';\r\n\r\n/*Atoms*/\r\nimport AtrcText from '../../atoms/text';\r\nimport AtrcInternalCss from '../../atoms/internal-css';\r\n\r\n/*Prefix*/\r\nimport AtrcPrefix from '../../prefix-vars';\r\n\r\n/*Local*/\r\nconst AtrcControlEditor = (props) => {\r\n\tconst { label, value, onChange } = props;\r\n\r\n\tconst [val, setVal] = useState(\r\n\t\tvalue\r\n\t\t\t? RichTextEditor.createValueFromString(value, 'html')\r\n\t\t\t: RichTextEditor.createEmptyValue()\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!value) {\r\n\t\t\tsetVal(RichTextEditor.createValueFromString(value, 'html'));\r\n\t\t}\r\n\t}, [value]);\r\n\r\n\tconst handleChange = (value) => {\r\n\t\tsetVal(value);\r\n\t\tonChange(value.toString('html'));\r\n\t};\r\n\r\n\tconst toolbarConfig = {\r\n\t\t// Optionally specify the groups to display (displayed in the order listed).\r\n\t\tdisplay: ['INLINE_STYLE_BUTTONS', 'BLOCK_TYPE_BUTTONS', 'LINK_BUTTONS'],\r\n\t\tINLINE_STYLE_BUTTONS: [\r\n\t\t\t{ label: 'Bold', style: 'BOLD' },\r\n\t\t\t{ label: 'Italic', style: 'ITALIC' },\r\n\t\t\t{ label: 'Strikethrough', style: 'STRIKETHROUGH' },\r\n\t\t\t{ label: 'Monospace', style: 'CODE' },\r\n\t\t\t{ label: 'Underline', style: 'UNDERLINE' },\r\n\t\t],\r\n\t\tBLOCK_TYPE_BUTTONS: [\r\n\t\t\t{ label: 'UL', style: 'unordered-list-item' },\r\n\t\t\t{ label: 'OL', style: 'ordered-list-item' },\r\n\t\t\t{ label: 'Blockquote', style: 'blockquote' },\r\n\t\t],\r\n\t};\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<AtrcInternalCss>\r\n\t\t\t\t{`\r\n                        .atrc-rte-editor {\r\n                            min-height:50px;\r\n                            .public-DraftEditor-content{\r\n                                min-height:50px;\r\n                            }\r\n                    }\r\n                        .atrc-rte-toolbar{\r\n                            button:disabled{\r\n                                display:none;\r\n                            }\r\n                    }\r\n                    `}\r\n\t\t\t</AtrcInternalCss>\r\n\t\t\t{label ? <AtrcText>{label}</AtrcText> : null}\r\n\r\n\t\t\t<RichTextEditor\r\n\t\t\t\tclassName={classnames(AtrcPrefix('rte'))}\r\n\t\t\t\ttoolbarClassName={classnames(AtrcPrefix('rte-toolbar'))}\r\n\t\t\t\teditorClassName={classnames(AtrcPrefix('rte-editor'))}\r\n\t\t\t\t// toolbarClassName='atrc-rte-toolbar'\r\n\t\t\t\t// editorClassName='atrc-rte-editor'\r\n\t\t\t\tvalue={val}\r\n\t\t\t\tonChange={handleChange}\r\n\t\t\t\ttoolbarConfig={toolbarConfig}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\nexport default AtrcControlEditor;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,SAASC,SAAS,EAAEC,QAAQ,QAAQ,oBAAoB;;AAExD;AACA;AACA;AACA,OAAOC,cAAc,MAAM,WAAW;;AAEtC;AACA,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,OAAOC,eAAe,MAAM,0BAA0B;;AAEtD;AACA,OAAOC,UAAU,MAAM,mBAAmB;;AAE1C;AACA,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAIC,KAAK,EAAK;EACpC,IAAQC,KAAK,GAAsBD,KAAK,CAAhCC,KAAK;IAAEC,KAAK,GAAeF,KAAK,CAAzBE,KAAK;IAAEC,QAAQ,GAAKH,KAAK,CAAlBG,QAAQ;EAE9B,IAAAC,SAAA,GAAsBV,QAAQ,CAC7BQ,KAAK,GACFP,cAAc,CAACU,qBAAqB,CAACH,KAAK,EAAE,MAAM,CAAC,GACnDP,cAAc,CAACW,gBAAgB,CAAC,CACpC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAJ,SAAA;IAJMK,GAAG,GAAAF,UAAA;IAAEG,MAAM,GAAAH,UAAA;EAMlBd,SAAS,CAAC,YAAM;IACf,IAAI,CAACS,KAAK,EAAE;MACXQ,MAAM,CAACf,cAAc,CAACU,qBAAqB,CAACH,KAAK,EAAE,MAAM,CAAC,CAAC;IAC5D;EACD,CAAC,EAAE,CAACA,KAAK,CAAC,CAAC;EAEX,IAAMS,YAAY,GAAG,SAAfA,YAAYA,CAAIT,KAAK,EAAK;IAC/BQ,MAAM,CAACR,KAAK,CAAC;IACbC,QAAQ,CAACD,KAAK,CAACU,QAAQ,CAAC,MAAM,CAAC,CAAC;EACjC,CAAC;EAED,IAAMC,aAAa,GAAG;IACrB;IACAC,OAAO,EAAE,CAAC,sBAAsB,EAAE,oBAAoB,EAAE,cAAc,CAAC;IACvEC,oBAAoB,EAAE,CACrB;MAAEd,KAAK,EAAE,MAAM;MAAEe,KAAK,EAAE;IAAO,CAAC,EAChC;MAAEf,KAAK,EAAE,QAAQ;MAAEe,KAAK,EAAE;IAAS,CAAC,EACpC;MAAEf,KAAK,EAAE,eAAe;MAAEe,KAAK,EAAE;IAAgB,CAAC,EAClD;MAAEf,KAAK,EAAE,WAAW;MAAEe,KAAK,EAAE;IAAO,CAAC,EACrC;MAAEf,KAAK,EAAE,WAAW;MAAEe,KAAK,EAAE;IAAY,CAAC,CAC1C;IACDC,kBAAkB,EAAE,CACnB;MAAEhB,KAAK,EAAE,IAAI;MAAEe,KAAK,EAAE;IAAsB,CAAC,EAC7C;MAAEf,KAAK,EAAE,IAAI;MAAEe,KAAK,EAAE;IAAoB,CAAC,EAC3C;MAAEf,KAAK,EAAE,YAAY;MAAEe,KAAK,EAAE;IAAa,CAAC;EAE9C,CAAC;EACD,oBACCxB,KAAA,CAAA0B,aAAA,CAAA1B,KAAA,CAAA2B,QAAA,qBACC3B,KAAA,CAAA0B,aAAA,CAACrB,eAAe,2dAcC,CAAC,EACjBI,KAAK,gBAAGT,KAAA,CAAA0B,aAAA,CAACtB,QAAQ,QAAEK,KAAgB,CAAC,GAAG,IAAI,eAE5CT,KAAA,CAAA0B,aAAA,CAACvB,cAAc;IACdyB,SAAS,EAAEC,UAAU,CAACvB,UAAU,CAAC,KAAK,CAAC,CAAE;IACzCwB,gBAAgB,EAAED,UAAU,CAACvB,UAAU,CAAC,aAAa,CAAC,CAAE;IACxDyB,eAAe,EAAEF,UAAU,CAACvB,UAAU,CAAC,YAAY,CAAC;IACpD;IACA;IAAA;IACAI,KAAK,EAAEO,GAAI;IACXN,QAAQ,EAAEQ,YAAa;IACvBE,aAAa,EAAEA;EAAc,CAC7B,CACA,CAAC;AAEL,CAAC;AACD,eAAed,iBAAiB","ignoreList":[]}