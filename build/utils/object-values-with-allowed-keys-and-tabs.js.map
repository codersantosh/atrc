{"version":3,"names":["isArray","isEmpty","mapKeys","omit","pick","AtrcAvailableTabs","AtrcIsScalar","AtrcIsKeyWithValueNotEmpty","obj","key","Object","prototype","hasOwnProperty","call","undefined","AtrcGetTabValues","value","tab","allowedTabKeys","includes","tabKeys","map","prop","val","replace","AtrcUpdateTabValues","newVal","clonedValue","forEach","newKey","AtrcHasTabValues","some","AtrcResetTab","push","AtrcResetTabs","Error","newValue","AtrcTabCss","cssProp","innerOutput","newOutputKey"],"sources":["D:/wamp/www/atrc-package/atrc/packages/utils/object-values-with-allowed-keys-and-tabs.js"],"sourcesContent":["/*Library*/\r\nimport { isArray, isEmpty, mapKeys, omit, pick } from 'lodash';\r\n\r\n/*Inbuilt*/\r\nimport AtrcAvailableTabs from './available-tabs';\r\nimport AtrcIsScalar from './is-scalar';\r\n\r\n/*Local*/\r\nexport const AtrcIsKeyWithValueNotEmpty = (obj, key) => {\r\n\treturn (\r\n\t\tObject.prototype.hasOwnProperty.call(obj, key) &&\r\n\t\tobj[key] !== undefined &&\r\n\t\tobj[key] !== null &&\r\n\t\tobj[key] !== ''\r\n\t);\r\n};\r\nexport const AtrcGetTabValues = (value, tab, allowedTabKeys = []) => {\r\n\tif (\r\n\t\tisEmpty(value) ||\r\n\t\t!AtrcAvailableTabs.includes(tab) ||\r\n\t\t!isArray(allowedTabKeys)\r\n\t) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tif (value[tab]) {\r\n\t\treturn value[tab];\r\n\t}\r\n\r\n\tconst tabKeys =\r\n\t\ttab === 'normal'\r\n\t\t\t? allowedTabKeys\r\n\t\t\t: allowedTabKeys.map((prop) => prop + tab);\r\n\r\n\treturn mapKeys(pick(value, tabKeys), (val, key) =>\r\n\t\ttab === 'normal' ? key : key.replace(tab, '')\r\n\t);\r\n};\r\n\r\nexport const AtrcUpdateTabValues = (\r\n\tnewVal,\r\n\ttab,\r\n\tvalue,\r\n\tallowedTabKeys = []\r\n) => {\r\n\tif (!AtrcAvailableTabs.includes(tab) || !isArray(allowedTabKeys)) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tconst clonedValue = { ...value };\r\n\r\n\tif (AtrcIsScalar(newVal)) {\r\n\t\tallowedTabKeys.forEach((key) => {\r\n\t\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\t\tdelete clonedValue[newKey];\r\n\t\t});\r\n\t\tclonedValue[tab] = newVal;\r\n\t} else {\r\n\t\tdelete clonedValue[tab];\r\n\t\tallowedTabKeys.forEach((key) => {\r\n\t\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\t\tif (key in newVal) {\r\n\t\t\t\tclonedValue[newKey] = newVal[key];\r\n\t\t\t} else {\r\n\t\t\t\tdelete clonedValue[newKey];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn clonedValue;\r\n};\r\n\r\nexport const AtrcHasTabValues = (tab, value, allowedTabKeys = []) => {\r\n\tif (\r\n\t\tisEmpty(value) ||\r\n\t\t!AtrcAvailableTabs.includes(tab) ||\r\n\t\t!isArray(allowedTabKeys)\r\n\t) {\r\n\t\treturn false;\r\n\t}\r\n\tif (value[tab]) {\r\n\t\treturn true;\r\n\t}\r\n\tif (tab === 'normal') {\r\n\t\treturn allowedTabKeys.some((key) => AtrcIsKeyWithValueNotEmpty(value, key));\r\n\t}\r\n\treturn allowedTabKeys.some((key) =>\r\n\t\tAtrcIsKeyWithValueNotEmpty(value, `${key}${tab}`)\r\n\t);\r\n};\r\n\r\nexport const AtrcResetTab = (tab, value, allowedTabKeys = []) => {\r\n\tif (!AtrcAvailableTabs.includes(tab) || !isArray(allowedTabKeys)) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst tabKeys =\r\n\t\ttab === 'normal'\r\n\t\t\t? allowedTabKeys\r\n\t\t\t: allowedTabKeys.map((prop) => prop + tab);\r\n\r\n\ttabKeys.push('tab'); //for scalar value.\r\n\r\n\treturn omit(value, tabKeys);\r\n};\r\n\r\nexport const AtrcResetTabs = (value, allowedTabKeys) => {\r\n\tif (!value) {\r\n\t\treturn value;\r\n\t}\r\n\tif (!isArray(allowedTabKeys)) {\r\n\t\tthrow new Error(\r\n\t\t\t`Invalid allowedTabKeys: ${allowedTabKeys}. Expected an array.`\r\n\t\t);\r\n\t}\r\n\r\n\tlet newValue = { ...value };\r\n\tAtrcAvailableTabs.forEach((tab) => {\r\n\t\tnewValue = AtrcResetTab(tab, newValue, allowedTabKeys);\r\n\t});\r\n\r\n\treturn newValue;\r\n};\r\n\r\nexport const AtrcTabCss = (value, key, cssProp) => {\r\n\tif (!value) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst innerOutput = {};\r\n\tAtrcAvailableTabs.forEach((tab) => {\r\n\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\tconst newOutputKey = tab === 'normal' ? 'xs' : 'xs' + tab;\r\n\t\tif (value[newKey]) {\r\n\t\t\tif (!innerOutput[newOutputKey]) {\r\n\t\t\t\tinnerOutput[newOutputKey] = '';\r\n\t\t\t}\r\n\t\t\tinnerOutput[newOutputKey] += `${cssProp}      : ${value[newKey]};`;\r\n\t\t}\r\n\t});\r\n\r\n\treturn innerOutput;\r\n};\r\n"],"mappings":"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"}