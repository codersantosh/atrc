{"version":3,"names":["isArray","isEmpty","mapKeys","omit","pick","AtrcAvailableTabs","AtrcIsScalar","AtrcIsKeyWithValueNotEmpty","obj","key","Object","prototype","hasOwnProperty","call","undefined","AtrcGetTabValues","value","tab","allowedTabKeys","arguments","length","includes","tabKeys","map","prop","val","replace","AtrcUpdateTabValues","newVal","clonedValue","_objectSpread","forEach","newKey","AtrcHasTabValues","some","concat","AtrcResetTab","push","AtrcResetTabs","Error","newValue","AtrcTabCss","cssProp","innerOutput","newOutputKey"],"sources":["D:/wamp/www/atrc-package/atrc/packages/utils/object-values-with-allowed-keys-and-tabs.js"],"sourcesContent":["/*Library*/\r\nimport { isArray, isEmpty, mapKeys, omit, pick } from 'lodash';\r\n\r\n/*Inbuilt*/\r\nimport AtrcAvailableTabs from './available-tabs';\r\nimport AtrcIsScalar from './is-scalar';\r\n\r\n/*Local*/\r\nexport const AtrcIsKeyWithValueNotEmpty = (obj, key) => {\r\n\treturn (\r\n\t\tObject.prototype.hasOwnProperty.call(obj, key) &&\r\n\t\tobj[key] !== undefined &&\r\n\t\tobj[key] !== null &&\r\n\t\tobj[key] !== ''\r\n\t);\r\n};\r\nexport const AtrcGetTabValues = (value, tab, allowedTabKeys = []) => {\r\n\tif (\r\n\t\tisEmpty(value) ||\r\n\t\t!AtrcAvailableTabs.includes(tab) ||\r\n\t\t!isArray(allowedTabKeys)\r\n\t) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tif (value[tab]) {\r\n\t\treturn value[tab];\r\n\t}\r\n\r\n\tconst tabKeys =\r\n\t\ttab === 'normal'\r\n\t\t\t? allowedTabKeys\r\n\t\t\t: allowedTabKeys.map((prop) => prop + tab);\r\n\r\n\treturn mapKeys(pick(value, tabKeys), (val, key) =>\r\n\t\ttab === 'normal' ? key : key.replace(tab, '')\r\n\t);\r\n};\r\n\r\nexport const AtrcUpdateTabValues = (\r\n\tnewVal,\r\n\ttab,\r\n\tvalue,\r\n\tallowedTabKeys = []\r\n) => {\r\n\tif (!AtrcAvailableTabs.includes(tab) || !isArray(allowedTabKeys)) {\r\n\t\treturn {};\r\n\t}\r\n\r\n\tconst clonedValue = { ...value };\r\n\r\n\tif (AtrcIsScalar(newVal)) {\r\n\t\tallowedTabKeys.forEach((key) => {\r\n\t\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\t\tdelete clonedValue[newKey];\r\n\t\t});\r\n\t\tclonedValue[tab] = newVal;\r\n\t} else {\r\n\t\tdelete clonedValue[tab];\r\n\t\tallowedTabKeys.forEach((key) => {\r\n\t\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\t\tif (key in newVal) {\r\n\t\t\t\tclonedValue[newKey] = newVal[key];\r\n\t\t\t} else {\r\n\t\t\t\tdelete clonedValue[newKey];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn clonedValue;\r\n};\r\n\r\nexport const AtrcHasTabValues = (tab, value, allowedTabKeys = []) => {\r\n\tif (\r\n\t\tisEmpty(value) ||\r\n\t\t!AtrcAvailableTabs.includes(tab) ||\r\n\t\t!isArray(allowedTabKeys)\r\n\t) {\r\n\t\treturn false;\r\n\t}\r\n\tif (value[tab]) {\r\n\t\treturn true;\r\n\t}\r\n\tif (tab === 'normal') {\r\n\t\treturn allowedTabKeys.some((key) => AtrcIsKeyWithValueNotEmpty(value, key));\r\n\t}\r\n\treturn allowedTabKeys.some((key) =>\r\n\t\tAtrcIsKeyWithValueNotEmpty(value, `${key}${tab}`)\r\n\t);\r\n};\r\n\r\nexport const AtrcResetTab = (tab, value, allowedTabKeys = []) => {\r\n\tif (!AtrcAvailableTabs.includes(tab) || !isArray(allowedTabKeys)) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst tabKeys =\r\n\t\ttab === 'normal'\r\n\t\t\t? allowedTabKeys\r\n\t\t\t: allowedTabKeys.map((prop) => prop + tab);\r\n\r\n\ttabKeys.push('tab'); //for scalar value.\r\n\r\n\treturn omit(value, tabKeys);\r\n};\r\n\r\nexport const AtrcResetTabs = (value, allowedTabKeys) => {\r\n\tif (!value) {\r\n\t\treturn value;\r\n\t}\r\n\tif (!isArray(allowedTabKeys)) {\r\n\t\tthrow new Error(\r\n\t\t\t`Invalid allowedTabKeys: ${allowedTabKeys}. Expected an array.`\r\n\t\t);\r\n\t}\r\n\r\n\tlet newValue = { ...value };\r\n\tAtrcAvailableTabs.forEach((tab) => {\r\n\t\tnewValue = AtrcResetTab(tab, newValue, allowedTabKeys);\r\n\t});\r\n\r\n\treturn newValue;\r\n};\r\n\r\nexport const AtrcTabCss = (value, key, cssProp) => {\r\n\tif (!value) {\r\n\t\treturn value;\r\n\t}\r\n\r\n\tconst innerOutput = {};\r\n\tAtrcAvailableTabs.forEach((tab) => {\r\n\t\tconst newKey = tab === 'normal' ? key : key + tab;\r\n\t\tconst newOutputKey = tab === 'normal' ? 'xs' : 'xs' + tab;\r\n\t\tif (value[newKey]) {\r\n\t\t\tif (!innerOutput[newOutputKey]) {\r\n\t\t\t\tinnerOutput[newOutputKey] = '';\r\n\t\t\t}\r\n\t\t\tinnerOutput[newOutputKey] += `${cssProp}      : ${value[newKey]};`;\r\n\t\t}\r\n\t});\r\n\r\n\treturn innerOutput;\r\n};\r\n"],"mappings":"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"}