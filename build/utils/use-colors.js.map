{"version":3,"names":["React","useState","useEffect","useMemo","select","useSetting","_x","isEmpty","AtrcUseColorSolids","props","arguments","length","undefined","_props$useCSSVariable","useCSSVariables","_useState","_useState2","_slicedToArray","allSolids","setAllSolids","userPalette","themePalette","defaultPalette","shouldDisplayDefaultColors","themePalatteSolids","defaultPaletteSolids","userPaletteSolids","map","themeColor","name","color","concat","slug","_toConsumableArray","result","push","colors","AtrcUseColorGradients","_props$useCSSVariable2","userGradientPalette","themeGradientPalette","defaultGradientPalette","shouldDisplayDefaultGradients","themeGradientSolids","defaultGradientSolids","userGradientSolids","gradient","gradients","AtrcUseColors","allGradients"],"sources":["D:/wamp/www/atrc-package/atrc/packages/utils/use-colors.js"],"sourcesContent":["import React from 'react';\r\n\r\n/* WordPress */\r\nimport { useState, useEffect, useMemo } from '@wordpress/element';\r\nimport { select } from '@wordpress/data';\r\nimport { useSetting } from '@wordpress/block-editor';\r\nimport { _x } from '@wordpress/i18n';\r\n\r\n/* Library */\r\nimport { isEmpty } from 'lodash';\r\n\r\n/* Local */\r\nexport function AtrcUseColorSolids(props = {}) {\r\n    const { useCSSVariables = false } = props;\r\n    const [allSolids, setAllSolids] = useState([]);\r\n\r\n    const userPalette = useSetting('color.palette.custom');\r\n    const themePalette = useSetting('color.palette.theme');\r\n    const defaultPalette = useSetting('color.palette.default');\r\n    const shouldDisplayDefaultColors = useSetting('color.defaultPalette');\r\n\r\n    return useMemo(() => {\r\n        let themePalatteSolids = [];\r\n        let defaultPaletteSolids = [];\r\n        let userPaletteSolids = [];\r\n\r\n        if (themePalette) {\r\n            if (useCSSVariables) {\r\n                themePalatteSolids = themePalette.map((themeColor) => ({\r\n                    name: themeColor.name,\r\n                    color: `var(--wp--preset--color--${themeColor.slug})`,\r\n                }));\r\n            } else {\r\n                themePalatteSolids = [...themePalette];\r\n            }\r\n        }\r\n        if (defaultPalette) {\r\n            if (useCSSVariables) {\r\n                defaultPaletteSolids = defaultPalette.map((themeColor) => ({\r\n                    name: themeColor.name,\r\n                    color: `var(--wp--preset--color--${themeColor.slug})`,\r\n                }));\r\n            } else {\r\n                defaultPaletteSolids = [...defaultPalette];\r\n            }\r\n        }\r\n\r\n        if (userPalette) {\r\n            if (useCSSVariables) {\r\n                userPaletteSolids = userPalette.map((themeColor) => ({\r\n                    name: themeColor.name,\r\n                    color: `var(--wp--preset--color--${themeColor.slug})`,\r\n                }));\r\n            } else {\r\n                userPaletteSolids = [...userPalette];\r\n            }\r\n        }\r\n\r\n        const result = [];\r\n        if (themePalatteSolids && themePalatteSolids.length) {\r\n            result.push({\r\n                name: _x(\r\n                    'Theme',\r\n                    'Indicates this palette comes from the theme.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                colors: themePalatteSolids,\r\n            });\r\n        }\r\n        if (\r\n            shouldDisplayDefaultColors &&\r\n            defaultPaletteSolids &&\r\n            defaultPaletteSolids.length\r\n        ) {\r\n            result.push({\r\n                name: _x(\r\n                    'Default',\r\n                    'Indicates this palette comes from WordPress.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                colors: defaultPaletteSolids,\r\n            });\r\n        }\r\n        if (userPaletteSolids && userPaletteSolids.length) {\r\n            result.push({\r\n                name: _x(\r\n                    'Custom',\r\n                    'Indicates this palette is created by the user.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                colors: userPaletteSolids,\r\n            });\r\n        }\r\n        return result;\r\n    }, [\r\n        userPalette,\r\n        themePalette,\r\n        defaultPalette,\r\n        shouldDisplayDefaultColors,\r\n    ]);\r\n}\r\n\r\nexport function AtrcUseColorGradients(props = {}) {\r\n    const { useCSSVariables = true } = props;\r\n    const userGradientPalette = useSetting('color.gradients.custom');\r\n    const themeGradientPalette = useSetting('color.gradients.theme');\r\n    const defaultGradientPalette = useSetting('color.gradients.default');\r\n    const shouldDisplayDefaultGradients = useSetting('color.defaultGradients');\r\n\r\n    return useMemo(() => {\r\n        let themeGradientSolids = [];\r\n        let defaultGradientSolids = [];\r\n        let userGradientSolids = [];\r\n\r\n        if (themeGradientPalette) {\r\n            if (useCSSVariables) {\r\n                themeGradientSolids = themeGradientPalette.map((gradient) => ({\r\n                    name: gradient.name,\r\n                    gradient: `var(--wp--preset--gradient--${gradient.slug})`,\r\n                }));\r\n            } else {\r\n                themeGradientSolids = [...themeGradientPalette];\r\n            }\r\n        }\r\n        if (defaultGradientPalette) {\r\n            if (useCSSVariables) {\r\n                defaultGradientSolids = defaultGradientPalette.map((gradient) => ({\r\n                    name: gradient.name,\r\n                    gradient: `var(--wp--preset--gradient--${gradient.slug})`,\r\n                }));\r\n            } else {\r\n                defaultGradientSolids = [...defaultGradientPalette];\r\n            }\r\n        }\r\n\r\n        if (userGradientPalette) {\r\n            if (useCSSVariables) {\r\n                userGradientSolids = userGradientPalette.map((gradient) => ({\r\n                    name: gradient.name,\r\n                    gradient: `var(--wp--preset--gradient--${gradient.slug})`,\r\n                }));\r\n            } else {\r\n                userGradientSolids = [...userGradientPalette];\r\n            }\r\n        }\r\n\r\n        const result = [];\r\n        if (themeGradientSolids && themeGradientSolids.length) {\r\n            result.push({\r\n                name: _x(\r\n                    'Theme',\r\n                    'Indicates this gradient comes from the theme.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                gradients: themeGradientSolids,\r\n            });\r\n        }\r\n        if (\r\n            shouldDisplayDefaultGradients &&\r\n            defaultGradientSolids &&\r\n            defaultGradientSolids.length\r\n        ) {\r\n            result.push({\r\n                name: _x(\r\n                    'Default',\r\n                    'Indicates this gradient comes from WordPress.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                gradients: defaultGradientSolids,\r\n            });\r\n        }\r\n        if (userGradientSolids && userGradientSolids.length) {\r\n            result.push({\r\n                name: _x(\r\n                    'Custom',\r\n                    'Indicates this gradient is created by the user.',\r\n                    'atrc-prefix-atrc'\r\n                ),\r\n                gradients: userGradientSolids,\r\n            });\r\n        }\r\n        return result;\r\n    }, [\r\n        userGradientPalette,\r\n        themeGradientPalette,\r\n        defaultGradientPalette,\r\n        shouldDisplayDefaultGradients,\r\n        useCSSVariables,\r\n    ]);\r\n}\r\n\r\n\r\nconst AtrcUseColors = () => {\r\n    const allSolids = AtrcUseColorSolids();\r\n    const allGradients = AtrcUseColorGradients();\r\n\r\n    return {\r\n        allSolids,\r\n        allGradients,\r\n    };\r\n};\r\n\r\nexport default AtrcUseColors;\r\n"],"mappings":"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","ignoreList":[]}